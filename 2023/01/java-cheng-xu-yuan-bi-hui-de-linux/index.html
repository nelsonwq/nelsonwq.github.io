<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Java程序员必会的Linux, 软件工程 博客 算法 软件开发 Java">
    <meta name="description" content="学习博客 | 记录学习 | 记录生活 | 有道无术，术尚可求 有术无道，止于术">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Java程序员必会的Linux | Coding强</title>
    <link rel="icon" type="image/png" href="../../../favicon.png">

    <link rel="stylesheet" type="text/css" href="../../../libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="../../../css/matery.css">
    <link rel="stylesheet" type="text/css" href="../../../css/my.css">

    <script src="../../../libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>



<style>
    body{
       background-image: url(/medias/background.jpg);
       background-repeat:no-repeat;
       background-size:cover;
       background-attachment:fixed;
    }
</style>



    <style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loader页面消失采用渐隐的方式*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }

    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }

   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}


    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logo出现动画 */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1500); 
        },500);//强制显示loading page 1s  
    };
    loaded();
})()
</script>

 

<body>
    <div class="stars-con">
        <div id="stars"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>  
      </div>
  
    
        <div id="loading-container">
            <p class="loading-text">嘘~  正在从服务器偷取页面 . . . </p> 
            <div class="loading-image">
                <div></div>
                <div></div>
                <div></div>
                <div></div> 
                <div></div>
            </div>
        </div>
    

    <!-- 弹出文字 -->
    
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write(
                    '<script type="text/javascript" src="../../../libs/others/popupText.js"><\/script>'
                );
            }
        </script>
    

       <!-- 自定义标题 -->
       
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write(
                    '<script type="text/javascript" src="../../../libs/others/title.js"><\/script>'
                );
            }
        </script>
    

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="../../../index.html" class="waves-effect waves-light">
                    
                    <img src="../../../medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Coding强</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../index.html" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友链</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>自传</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="../../../medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Coding强</div>
        <div class="logo-desc">
            
            学习博客 | 记录学习 | 记录生活 | 有道无术，术尚可求 有术无道，止于术
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="../../../index.html" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友链
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			自传
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/nelsonwq" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/nelsonwq" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    

<div class="bg-cover pd-header post-cover" style="background-image: url('../../../medias/featureimages/1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Java程序员必会的Linux</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="../../../libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="../../../tags/Linux/">
                                <span class="chip bg-color">Linux</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="../../../categories/Linux/" class="post-category">
                                Linux
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-01-20
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2023-01-21
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    21k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    79 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="../../../libs/prism/prism.css">
        

        
        <!-- 代码块折行 -->
        <style type="text/css">
            code[class*="language-"], pre[class*="language-"] { white-space: pre-wrap !important; }
        </style>
        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Java程序员必会的Linux"><a href="#Java程序员必会的Linux" class="headerlink" title="Java程序员必会的Linux"></a>Java程序员必会的Linux</h1><h2 id="Linux安装"><a href="#Linux安装" class="headerlink" title="Linux安装"></a>Linux安装</h2><h3 id="安装Centos"><a href="#安装Centos" class="headerlink" title="安装Centos"></a>安装Centos</h3><h4 id="镜像下载"><a href="#镜像下载" class="headerlink" title="镜像下载"></a>镜像下载</h4><p><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/centos-vault/7.6.1810/isos/x86_64/">https://mirrors.tuna.tsinghua.edu.cn/centos-vault/7.6.1810/isos/x86_64/</a></p>
<h4 id="选择镜像"><a href="#选择镜像" class="headerlink" title="选择镜像"></a>选择镜像</h4><p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165311671.png" alt="image-20230120165311671"></p>
<h4 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h4><p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165327398.png" alt="image-20230120165327398"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165334644.png" alt="image-20230120165334644"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165341887.png" alt="image-20230120165341887"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165347678.png" alt="image-20230120165347678"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165354094.png" alt="image-20230120165354094"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165400332.png" alt="image-20230120165400332"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165416149.png" alt="image-20230120165416149"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165432448.png" alt="image-20230120165432448"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165441306.png" alt="image-20230120165441306"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165448408.png" alt="image-20230120165448408"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165456991.png" alt="image-20230120165456991"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165504694.png" alt="image-20230120165504694"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165511185.png" alt="image-20230120165511185"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165520366.png" alt="image-20230120165520366"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165527316.png" alt="image-20230120165527316"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165534090.png" alt="image-20230120165534090"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165542360.png" alt="image-20230120165542360"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165547929.png" alt="image-20230120165547929"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165555594.png" alt="image-20230120165555594"></p>
<h3 id="配置⽹络"><a href="#配置⽹络" class="headerlink" title="配置⽹络"></a>配置⽹络</h3><p>vmware为我们提供了三种⽹络⼯作模式，它们分别是：<strong>Bridged（桥接模式）、NAT（⽹络地址转换模式）、Host-Only（仅主机模式）</strong>。</p>
<p>打开vmware虚拟机，我们可以在选项栏的“编辑”下的“虚拟⽹络编辑器”中看到VMnet0（桥接模式） 、VMnet1（仅主机模式） 、VMnet8（NAT模式） ，那么这些都是有什么作⽤呢？其实，我们现在看到的VMnet0表示的是⽤于桥接模式下的虚拟交换机；VMnet1表示的是⽤于仅主机模式下的虚拟交换机；VMnet8表示的是⽤于NAT模式下的虚拟交换机。</p>
<h4 id="三种⽹络连接的原理"><a href="#三种⽹络连接的原理" class="headerlink" title="三种⽹络连接的原理"></a>三种⽹络连接的原理</h4><ol>
<li>桥接模式</li>
</ol>
<p>桥接模式就是将主机⽹卡与虚拟机虚拟的⽹卡利⽤虚拟⽹桥进⾏通信。在桥接的作⽤下，类似于把物理主机虚拟为⼀个交换机，所有桥接设置的虚拟机连接到这个交换机的⼀个接⼝上，物理主机也同样插在这个交换机当中，所以所有桥接下的⽹卡与⽹卡都是交换模式的，相互可以访问⽽不⼲扰。在桥接模式下，虚拟机ip地址需要与主机在同⼀个⽹段，如果需要联⽹，则⽹关与DNS需要与主机⽹卡⼀致。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165721294.png" alt="image-20230120165721294"></p>
<blockquote>
<p>但如果你的⽹络环境是ip资源很缺少或对ip管理⽐较严格的话，那桥接模式就不太适⽤了。</p>
</blockquote>
<ol start="2">
<li>NAT模式</li>
</ol>
<p>NAT模式中，主机⽹卡直接与虚拟NAT设备相连，然后虚拟NAT设备与虚拟DHCP服务器⼀起连接在虚拟交换机VMnet8上，这样就实现了虚拟机联⽹。</p>
<p>VMware Network Adapter VMnet8虚拟⽹卡主要是为了实现主机与虚拟机之间的通信。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165800999.png" alt="image-20230120165800999"></p>
<ol start="3">
<li>仅主机模式</li>
</ol>
<p>Host-Only模式其实就是NAT模式去除了虚拟NAT设备，然后使⽤VMware Network Adapter VMnet1虚拟⽹卡连接VMnet1虚拟交换机来与虚拟机通信的，Host-Only模式将虚拟机与外⽹隔开，使得虚拟机成为⼀个独⽴的系统，只与主机相互通讯。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165839668.png" alt="image-20230120165839668"></p>
<h4 id="NAT⽅式配置⽹络"><a href="#NAT⽅式配置⽹络" class="headerlink" title="NAT⽅式配置⽹络"></a>NAT⽅式配置⽹络</h4><p>配置⽹络的⽬的主要是为了固定虚拟机的内⽹IP，⽅便我们在真实的操作系统中使⽤Linux连接⼯具软件进⾏远程连接。</p>
<ol>
<li>关闭虚拟机</li>
<li>点击编辑，选择倒数第⼆个选项“虚拟⽹络编辑器器”,出现下⾯的“虚拟⽹络编辑器器”窗⼝。选择NAT模式，注意⼦⽹IP前三位与NAT设置的⽹关IP、DHCP⽹段⼀致。</li>
</ol>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165935483.png" alt="image-20230120165935483"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120165951308.png" alt="image-20230120165951308"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120170016947.png" alt="image-20230120170016947"></p>
<h4 id="进⼊操作系统配置⽹卡信息"><a href="#进⼊操作系统配置⽹卡信息" class="headerlink" title="进⼊操作系统配置⽹卡信息"></a>进⼊操作系统配置⽹卡信息</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vi</span> /etc/sysconfig/network-scripts/ifcfg-ens33<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120170109290.png" alt="image-20230120170109290"></p>
<h4 id="重启执⾏命令重启⽹卡服务"><a href="#重启执⾏命令重启⽹卡服务" class="headerlink" title="重启执⾏命令重启⽹卡服务"></a>重启执⾏命令重启⽹卡服务</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="检查IP是否更变"><a href="#检查IP是否更变" class="headerlink" title="检查IP是否更变"></a>检查IP是否更变</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ip</span> addr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120170157180.png" alt="image-20230120170157180"></p>
<h4 id="测试是否⽹络是否连通"><a href="#测试是否⽹络是否连通" class="headerlink" title="测试是否⽹络是否连通"></a>测试是否⽹络是否连通</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ping</span> www.baidu.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120170218599.png" alt="image-20230120170218599"></p>
<h3 id="快照与备份"><a href="#快照与备份" class="headerlink" title="快照与备份"></a>快照与备份</h3><p>快照其实就是还原点，我们设置了快照。以后如果被我们玩坏了，也可以快速的还原到以前状态！</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120170244968.png" alt="image-20230120170244968"></p>
<h2 id="Linux的结构"><a href="#Linux的结构" class="headerlink" title="Linux的结构"></a>Linux的结构</h2><h3 id="Linux组成"><a href="#Linux组成" class="headerlink" title="Linux组成"></a>Linux组成</h3><p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120170409815.png" alt="image-20230120170409815"></p>
<p><code>kernel</code>内核 ：是系统的⼼脏，是运⾏程序和管理像磁盘和打印机等硬件设备的核⼼程序。</p>
<p>作⽤：管理设备、进程、内存、交换空间、⽂件系统，控制系统程序与硬件交互。</p>
<p><code>Shell</code> ：是系统的⽤户界⾯，提供了⽤户和内核进⾏交互操作的⼀种接⼝。它接收⽤户输⼊的命令并把它送⼊内核去执⾏，是⼀个命令解释器。但它不仅是命令解释器，⽽且还是⾼级编程语⾔，shell编程。</p>
<p>作⽤：提供⼈机交互（类似与windows的cmd），使⽤户与内核之间交互。</p>
<p><code>FILE SYSTEMS</code>(⽂件系统) ：⽂件系统是⽂件存放在磁盘等存储设备上的组织⽅法，Linux⽀持多种⽂件系统，如ext3,ext2,NFS,SMB,iso9660等</p>
<p>应⽤程序 ：标准的Linux操作系统都会有⼀套应⽤程序例如X-Window,Open Office等。</p>
<h3 id="Linux⽬录结构"><a href="#Linux⽬录结构" class="headerlink" title="Linux⽬录结构"></a>Linux⽬录结构</h3><p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120170532664.png" alt="image-20230120170532664"></p>
<h4 id="⽬录类型"><a href="#⽬录类型" class="headerlink" title="⽬录类型"></a>⽬录类型</h4><p>⽂件系统的最顶层是由根⽬录开始的，系统使⽤ <code>/</code> 来表示根⽬录</p>
<ul>
<li><code>.</code> ：代表当前的⽬录，也可以使⽤ <code>./</code> 来表示；</li>
<li><code>..</code> ：代表上⼀层⽬录，也可以 <code>../</code> 来代表。</li>
</ul>
<h4 id="系统启动必须"><a href="#系统启动必须" class="headerlink" title="系统启动必须"></a>系统启动必须</h4><ul>
<li>/boot：存放的启动Linux 时使⽤的内核⽂件，包括连接⽂件以及镜像⽂件。</li>
<li>/etc：存放所有的系统需要的配置⽂件和⼦⽬录列表，更改⽬录下的⽂件可能会导致系统不能启动。</li>
<li>/lib：存放基本代码库（⽐如c++库），其作⽤类似于Windows⾥的DLL⽂件。⼏乎所有的应⽤程序都需要⽤到这些共享库。</li>
<li>/sys： 这是linux2.6内核的⼀个很⼤的变化。该⽬录下安装了2.6内核中新出现的⼀个⽂件系统 sysfs 。sysfs⽂件系统集成了下⾯3种⽂件系统的信息：针对进程信息的proc⽂件系统、针对设备的devfs⽂件系统以及针对伪终端的devpts⽂件系统。该⽂件系统是内核设备树的⼀个直观反映。当⼀个内核对象被创建的时候，对应的⽂件和⽬录也在内核对象⼦系统中。</li>
</ul>
<h4 id="指令集合"><a href="#指令集合" class="headerlink" title="指令集合"></a>指令集合</h4><ul>
<li>/bin：存放着最常⽤的程序和指令。</li>
<li>/sbin：只有系统管理员能使⽤的程序和指令。</li>
</ul>
<h4 id="外部⽂件管理"><a href="#外部⽂件管理" class="headerlink" title="外部⽂件管理"></a>外部⽂件管理</h4><ul>
<li>/dev ：Device(设备)的缩写, 存放的是Linux的外部设备。注意：在Linux中访问设备和访问⽂件的⽅式是相同的。</li>
<li>/media：类windows的其他设备，例如U盘、光驱等等，识别后linux会把设备放到这个⽬录下。</li>
<li>/mnt：临时挂载别的⽂件系统的，我们可以将光驱挂载在/mnt/上，然后进⼊该⽬录就可以查看光驱⾥的内容了。</li>
</ul>
<h4 id="临时⽂件"><a href="#临时⽂件" class="headerlink" title="临时⽂件"></a>临时⽂件</h4><ul>
<li>/run：是⼀个临时⽂件系统，存储系统启动以来的信息。当系统重启时，这个⽬录下的⽂件应该被删掉或清除。如果你的系统上有 /var/run ⽬录，应该让它指向 run。</li>
<li>/lost+found：⼀般情况下为空的，系统⾮法关机后，这⾥就存放⼀些⽂件。</li>
<li>/tmp：这个⽬录是⽤来存放⼀些临时⽂件的。</li>
</ul>
<h4 id="账户"><a href="#账户" class="headerlink" title="账户"></a>账户</h4><ul>
<li>/root：系统管理员的⽤户主⽬录。</li>
<li>/home：⽤户的主⽬录，以⽤户的账号命名的。</li>
<li>/usr：⽤户的很多应⽤程序和⽂件都放在这个⽬录下，类似于windows下的program files⽬录。</li>
<li>/usr/bin：系统⽤户使⽤的应⽤程序与指令。</li>
<li>/usr/sbin：超级⽤户使⽤的⽐较⾼级的管理程序和系统守护程序。</li>
<li>/usr/src：内核源代码默认的放置⽬录。</li>
</ul>
<h4 id="运⾏过程中要⽤"><a href="#运⾏过程中要⽤" class="headerlink" title="运⾏过程中要⽤"></a>运⾏过程中要⽤</h4><ul>
<li><p>/var：存放经常修改的数据，⽐如程序运⾏的⽇志⽂件（/var/log ⽬录下）。</p>
</li>
<li><p>/proc：管理<strong>内存空间</strong>！虚拟的⽬录，是系统内存的映射，我们可以直接访问这个⽬录来，获取系统信息。这个⽬录的内容不在硬盘上⽽是在内存⾥，我们也可以直接修改⾥⾯的某些⽂件来做修改。</p>
</li>
</ul>
<h4 id="扩展⽤的"><a href="#扩展⽤的" class="headerlink" title="扩展⽤的"></a>扩展⽤的</h4><ul>
<li>/opt：默认是空的，我们安装额外软件可以放在这个⾥⾯。</li>
<li>/srv：存放服务启动后需要提取的数据（不⽤服务器就是空）</li>
</ul>
<h2 id="Linux快捷键与命令格式"><a href="#Linux快捷键与命令格式" class="headerlink" title="Linux快捷键与命令格式"></a>Linux快捷键与命令格式</h2><h3 id="常⽤快捷键"><a href="#常⽤快捷键" class="headerlink" title="常⽤快捷键"></a>常⽤快捷键</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable"><span class="token variable">`</span>tab 命令或路径等的补全键，linux⽤的最多的⼀个快捷键<span class="token variable">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="光标移动"><a href="#光标移动" class="headerlink" title="光标移动"></a>光标移动</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable"><span class="token variable">`</span>ctrl+a 光标回到⾏⾸ <span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>ctrl+e 光标回到⾏尾<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>ctrl+f 光标向右移动⼀个字符 forwards<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>ctrl+b 光标向左移动⼀个字符 behind<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>esc+b 移动到当前单词的开头<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>esc+f 移动到当前单词的结尾<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>esc+t 当前单词向前移动<span class="token variable">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="剪切"><a href="#剪切" class="headerlink" title="剪切"></a>剪切</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable"><span class="token variable">`</span>ctrl+u 剪切光标处到⾏⾸的所有字符, 也就是删除<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>ctrl+k 剪切光标处到⾏尾的所有字符<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>ctrl+w 剪切光标前的⼀个单词<span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>ctrl+h 删除光标前的⼀个字符（相当于退格键）<span class="token variable">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="中断"><a href="#中断" class="headerlink" title="中断"></a>中断</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable"><span class="token variable">`</span>ctrl+c 中断终端正在执⾏的任务并开启⼀个新的⼀⾏<span class="token variable">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="Linux命令终端格式"><a href="#Linux命令终端格式" class="headerlink" title="Linux命令终端格式"></a>Linux命令终端格式</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="命令的提示符"><a href="#命令的提示符" class="headerlink" title="命令的提示符"></a>命令的提示符</h3><ul>
<li><p>[] ：这是提示符的分隔符号，没有特殊含义。</p>
</li>
<li><p>root ：显示的是当前的登录⽤户， ⽬前使⽤的是root⽤户登录。</p>
</li>
<li><p>@ ：分隔符号，没有特殊含义。</p>
</li>
<li><p>localhost ：当前系统的简写主机名（完整主机名是localhost.localdomain）。</p>
</li>
<li><p>~ ：代表⽤户当前所在的⽬录，此例中⽤户当前所在的⽬录是家⽬录。</p>
</li>
<li><p># ：命令提示符。超级⽤户是#，普通⽤户是$</p>
</li>
</ul>
<h3 id="命令的基本格式"><a href="#命令的基本格式" class="headerlink" title="命令的基本格式"></a>命令的基本格式</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># command命令 [选项options] [参数parameter]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>command : 命令名, 相应功能的英⽂单词或单词的缩写</li>
<li>[-options] : 选项, 可⽤来对命令进⾏控制, 也可以省略</li>
<li>parameter : 传给命令的参数, 可以是 零个、⼀个 或者 多个</li>
</ul>
<h4 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">如ls <span class="token parameter variable">-l</span> /home/，ls是命令，-l是选项，/home是参数<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="help帮助指令"><a href="#help帮助指令" class="headerlink" title="help帮助指令"></a>help帮助指令</h3><p>Linux常⽤命令help命令 ⽤于显示shell内部命令的帮助信息。help命令只能显示shell内部的命令帮助信息。⽽对于外部命令的帮助信息只能使⽤man或者info命令查看，下⾯为⼤家分享⼀下Linux常⽤命令help命令具体使⽤⽅法。</p>
<h4 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">help</span> <span class="token punctuation">[</span>-dms<span class="token punctuation">]</span> <span class="token punctuation">[</span>PATTERN<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="选项说明"><a href="#选项说明" class="headerlink" title="选项说明"></a>选项说明</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token parameter variable">-d</span>		输出每个命令的简短描述
<span class="token parameter variable">-m</span>		以类似于 <span class="token function">man</span> ⼿册的格式描述命令
<span class="token parameter variable">-s</span>		只显示命令使⽤格式<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><ol>
<li><p>查看 help ⾃身的帮助信息 <code>help help</code></p>
</li>
<li><p>以类似于 man ⼿册格式查看 help 命令的帮助信息  <code>help -m help</code></p>
</li>
<li><p>查看 help 命令的简短描述 <code>help -d help</code>   help - Display information about builtin commands</p>
</li>
<li><p>查看 help 和 cd 命令使⽤格式</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">help</span> <span class="token parameter variable">-s</span> <span class="token builtin class-name">help</span> <span class="token builtin class-name">cd</span>
help: <span class="token builtin class-name">help</span> <span class="token punctuation">[</span>-dms<span class="token punctuation">]</span> <span class="token punctuation">[</span>pattern <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
cd: <span class="token builtin class-name">cd</span> <span class="token punctuation">[</span>-L<span class="token operator">|</span><span class="token punctuation">[</span>-P <span class="token punctuation">[</span>-e<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>dir<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h3 id="man指令"><a href="#man指令" class="headerlink" title="man指令"></a>man指令</h3><p>man命令是最常⻅的帮助命令，也是Linux最主要的帮助命令，基本信息如下</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">man</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>章节<span class="token punctuation">]</span> 命令<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>man 命令交互快捷键</p>
<ul>
<li>上箭头 ：向上移动⼀⾏</li>
<li>下箭头 ：向下移动⼀⾏</li>
<li>PgUP ：向上翻⼀⻚</li>
<li>PgDn ：向下翻⼀⻚</li>
<li>g ：移动到第⼀⻚</li>
<li>G ：移动到最后⼀⻚</li>
<li>q ：退出</li>
<li>/字符串 ：从当前向下搜索字符串</li>
<li>?字符串 ：从当前向上搜索字符串</li>
<li>n ：当搜索字符串时，可以⽤n键找到下⼀个字符串</li>
<li>N ：当搜索字符串时，使⽤N键反向查询字符串。也就是说，如果使⽤“/字符串”⽅式搜索，则N键表示向上搜索字符串；如果使⽤“?字符串”⽅式搜索，则N键表示向下搜索字符串</li>
</ul>
<h3 id="man-⼿册的格式"><a href="#man-⼿册的格式" class="headerlink" title="man ⼿册的格式"></a>man ⼿册的格式</h3><ul>
<li>NAME : 命令名称及功能简要说明</li>
<li>SYNOPSIS ：⽤法说明，包括可⽤的选项<ul>
<li>[] ：可选内容</li>
<li>&lt;&gt; ：必选内容</li>
<li>a|b ：⼆选⼀</li>
<li>{} ：分组</li>
<li>… ：同⼀内容可出现多次</li>
</ul>
</li>
<li>DESCRIPTION ：命令功能的详细说明，可能包括每⼀个选项的意义</li>
<li>OPTIONS ：说明每⼀项的意义</li>
<li>EXAMPLES ：使⽤示例</li>
</ul>
<ul>
<li>FILES ：此命令相关的配置⽂件</li>
<li>AUTHOR ：作者</li>
<li>COPYRIGHT ：版本信息</li>
<li>REPORTTING BUGS ：bug信息</li>
</ul>
<ul>
<li>SEE ALSO ：参考其他帮助</li>
</ul>
<h2 id="Linux⽬录及⽂件操作指令"><a href="#Linux⽬录及⽂件操作指令" class="headerlink" title="Linux⽬录及⽂件操作指令"></a>Linux⽬录及⽂件操作指令</h2><h3 id="⽬录操作命令"><a href="#⽬录操作命令" class="headerlink" title="⽬录操作命令"></a>⽬录操作命令</h3><h4 id="pwd-指令"><a href="#pwd-指令" class="headerlink" title="pwd 指令"></a>pwd 指令</h4><p>Linux 中使⽤pwd 来查看当前⼯作⽬录 的完整路径。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">pwd</span> <span class="token punctuation">[</span>参数选项<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>常⽤参数</p>
<ul>
<li>-L, –logical 打印环境变量”$PWD”的值，可能为符号链接。</li>
<li>-P, –physical （默认值）打印当前⼯作⽬录的物理位置。</li>
<li>–help 显示帮助信息并退出。</li>
<li>–version 显示版本信息并退出。</li>
</ul>
<blockquote>
<p>-P 如果是链接⽬录,则输出真实的⽬录</p>
<p>-L ⽬录连接链接时，输出连接路径</p>
</blockquote>
<h4 id="cd-指令"><a href="#cd-指令" class="headerlink" title="cd 指令"></a>cd 指令</h4><p>cd是切换所在⽬录的命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">[</span>-L<span class="token operator">|</span>-P<span class="token punctuation">]</span> <span class="token punctuation">[</span>dir<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li><p>-L :（默认值）如果要切换到的⽬标⽬录是⼀个符号连接，那么切换到符号连接的⽬录。</p>
</li>
<li><p>-P : 如果要切换到的⽬标⽬录是⼀个符号连接，那么切换到它指向的物理位置⽬录。</p>
</li>
<li><p>dir（可选）：指定要切换到的⽬录，可以是绝对路径(以根⽬录为参照物)或相对路径(以当前⽬录为参照物)</p>
</li>
</ul>
<p>简单⽤法</p>
<ul>
<li><code>cd ~</code> : 当前⽤户的家⽬录</li>
<li><code>cd -</code> ：上⼀次所在⽬录</li>
<li><code>cd .</code> : 当前⽬录</li>
<li><code>cd ..</code> : 上级⽬录</li>
</ul>
<h4 id="ls-指令"><a href="#ls-指令" class="headerlink" title="ls 指令"></a>ls 指令</h4><p>ls 是最常⻅的⽬录操作命令，主要作⽤是显示⽬录下的内容</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ls</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>⽬录名<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-a: 显示所有⽂件</li>
<li>-h: ⼈性化显示，按照我们习惯的单位显示⽂件⼤⼩</li>
<li>-l: ⻓格式显示</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#权限     引⽤计数 所有者  所属组  ⼤⼩    ⽂件修改时间    ⽂件名</span>
-rw-r-r-    <span class="token number">1</span>      root   root   <span class="token number">1446</span>  <span class="token number">12</span>⽉ <span class="token number">19</span> <span class="token number">16</span>:15  .profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th><code>-rw-r-r-</code></th>
<th>1</th>
<th>nelson</th>
<th>nelson</th>
<th>675</th>
<th>Oct 26 17:20</th>
<th>.profile</th>
</tr>
</thead>
<tbody><tr>
<td>文档类型及权限</td>
<td>连接数</td>
<td>文档所属用户</td>
<td>文档所属组</td>
<td>文档大小</td>
<td>文档最后被修改日期</td>
<td>文档名称</td>
</tr>
</tbody></table>
<h4 id="mkdir指令"><a href="#mkdir指令" class="headerlink" title="mkdir指令"></a>mkdir指令</h4><p>通过 <code>mkdir</code> 命令 创建⽬录</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> <span class="token punctuation">[</span>-p<span class="token punctuation">]</span> 要创建的⽬录<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-p ：帮助你直接将所需要的⽬录(包含上⼀级⽬录)递归创建起来！</li>
</ul>
<blockquote>
<p>通过 mkdir -p ⽬录名 命令 创建⽬录</p>
<p>注意: 新建⽬录的名称 不能与当前⽬录中 已有的⽬录或⽂件同名</p>
</blockquote>
<h4 id="rmdir-指令"><a href="#rmdir-指令" class="headerlink" title="rmdir 指令"></a>rmdir 指令</h4><p>rmdir 命令的作⽤⼗分有限，<strong>只能删除空⽬录</strong>，⼀旦⽬录中有内容就会报错。所以⼀般不论删除的是⽂件还是⽬录，都会使⽤ rm 命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rmdir</span> ⽬录名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>如果该⽬录中存在⽂件或其他⽬录是该命令是不能删除的.</p>
</blockquote>
<h3 id="⽂件操作命令"><a href="#⽂件操作命令" class="headerlink" title="⽂件操作命令"></a>⽂件操作命令</h3><h4 id="touch-指令"><a href="#touch-指令" class="headerlink" title="touch 指令"></a>touch 指令</h4><p>touch命令⽤于修改⽂件或者⽬录的时间属性，包括存取时间和更改时间。若⽂件不存在，系统会建⽴⼀个新的⽂件。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">⽤法：touch <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span>… FILE…<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="cp-复制指令"><a href="#cp-复制指令" class="headerlink" title="cp 复制指令"></a>cp 复制指令</h4><p>cp指令⽤于拷⻉⽂件和⽬录</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> ⽂件1 备份⽂件名称
 
<span class="token function">cp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> ⽂件1 ⽂件2 ⽂件3 <span class="token punctuation">..</span><span class="token punctuation">..</span> ⽬录<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>-r recursive (递归)递归复制⽬标⽬录的内容</li>
</ul>
<h4 id="mv-移动剪切"><a href="#mv-移动剪切" class="headerlink" title="mv 移动剪切"></a>mv 移动剪切</h4><p>通过 mv 命令可以⽤来 <strong>移动 ⽂件 或 ⽬录</strong>, 也可以给<strong>⽂件或⽬录重命名</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mv</span> 旧⽂件名     新⽂件名称
<span class="token function">mv</span> 被移动⽬录   ⽬标⽬录<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="rm-删除指令"><a href="#rm-删除指令" class="headerlink" title="rm 删除指令"></a>rm 删除指令</h4><p>rm (移除⽂件或⽬录)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> <span class="token punctuation">[</span>-fr<span class="token punctuation">]</span> ⽂件或⽬录<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-f ：就是 force 的意思，忽略不存在的⽂件，不会出现警告信息</li>
<li>-r ：递归删除啊！最常⽤在⽬录的删除了</li>
</ul>
<h3 id="查看⽂件指令"><a href="#查看⽂件指令" class="headerlink" title="查看⽂件指令"></a>查看⽂件指令</h3><h4 id="cat-指令"><a href="#cat-指令" class="headerlink" title="cat 指令"></a>cat 指令</h4><p>cat 看完⽂件内容，⼀次显示所有的内容, 适合 查看内容较少 的⽂本⽂件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> fileName<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-n 或–number : 由1 开始对所有输出的⾏数编号。</li>
<li>-b 或–number-nonblank : 和-n 相似，只不过对于空⽩⾏不编号</li>
</ul>
<h4 id="more-指令"><a href="#more-指令" class="headerlink" title="more 指令"></a>more 指令</h4><p>more 命令是常⽤的⽂本⽂件阅读⼯具，类似于 cat，不过以⼀⻚⼀⻚的形式显示，更⽅便使⽤者逐⻚阅读。⼀般⽂件过⼤时使⽤ more 浏览,⽂件较⼩时使⽤cat。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">more</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> FILE <span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-NUM       指定每屏显示的⾏数为 NUM</li>
<li>+/STRING 从匹配搜索字符串 STRING 所在⾏的前两⾏开始显示</li>
<li>+NUM      从⽂件第 NUM ⾏开始显示</li>
</ul>
<h4 id="最常⽤交互式的指令有"><a href="#最常⽤交互式的指令有" class="headerlink" title="最常⽤交互式的指令有"></a>最常⽤交互式的指令有</h4><ul>
<li>回⻋键向下滚动⼀⾏；</li>
<li>空格键（Space）显示下⼀⻚；</li>
<li>b 键（back）回显上⼀⻚；</li>
<li>q 或 Q 键退出。</li>
</ul>
<h4 id="less-指令"><a href="#less-指令" class="headerlink" title="less 指令"></a>less 指令</h4><p>less 命令是常⽤的⽂本⽂件阅读⼯具，类似于 more，是加强版的 more 命令。less 主要⽤于浏览⼤⽂件，加载⽂件时不会读取整个⽂件，相⽐于 vim 或 nano 等⽂本编辑器，启动会更快。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">less</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token punctuation">[</span>FILE<span class="token punctuation">]</span><span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-m 显示类似more命令的百分⽐</li>
<li>-N 显示每⾏的⾏号</li>
</ul>
<p>less 的命令⾏选项很少使⽤，浏览⽂件时常⽤的是交互式命令。</p>
<h4 id="交互式命令"><a href="#交互式命令" class="headerlink" title="交互式命令"></a>交互式命令</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">b 向后翻⼀⻚
Q 退出less 命令
空格键 滚动⼀⻚
回⻋键 滚动⼀⾏

<span class="token number">1</span><span class="token punctuation">)</span> 向前搜索
 / ： 使⽤⼀个模式进⾏搜索，并定位到下⼀个匹配的⽂本
 n ： 向前查找下⼀个匹配的⽂本
 N ： 向后查找前⼀个匹配的⽂本
 
<span class="token number">2</span><span class="token punctuation">)</span> 全屏导航
 ctrl + F ：向前移动⼀屏
 ctrl + B ：向后移动⼀屏<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="head-指令"><a href="#head-指令" class="headerlink" title="head 指令"></a>head 指令</h4><p>head 命令⽤于显示⽂件开头的内容。在默认情况下，显示⽂件的头 10 ⾏内容。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">head</span> <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>FILE<span class="token punctuation">]</span><span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-c, –bytes=[-]K  显示每个⽂件的前 K 字节内容；如果附加 - 参数，则显示每个⽂件最后 K 字节外的所有内容</li>
<li>-n, –lines=[-]K   显示每个⽂件的前 K ⾏内容；如果附加 - 参数，则显示每个⽂件最后 K ⾏外的所有内容</li>
</ul>
<h4 id="tail-指令"><a href="#tail-指令" class="headerlink" title="tail 指令"></a>tail 指令</h4><p>tail 命令⽤于显示⽂件尾部内容，与命令 head 作⽤相反。默认情况下，显示⽂件的末尾 10 ⾏内容。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tail</span> <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>FILE<span class="token punctuation">]</span><span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>可以指定多个⽂件 FILE，种情况下，输出的内容前会列出所属⽂件名。如果未给定 FILE或者 FILE 是 -，则从标准输⼊读取。</p>
<ul>
<li>-f   按照指定时间间隔输出⽂件追加的内容; </li>
<li>-n  输出最后 N ⾏，⽽⾮默认的最后 10 ⾏</li>
</ul>
<h3 id="其他常⽤指令"><a href="#其他常⽤指令" class="headerlink" title="其他常⽤指令"></a>其他常⽤指令</h3><h4 id="⽇期和时间命令"><a href="#⽇期和时间命令" class="headerlink" title="⽇期和时间命令"></a>⽇期和时间命令</h4><h5 id="date-显示当前时间"><a href="#date-显示当前时间" class="headerlink" title="date 显示当前时间"></a>date 显示当前时间</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">（1）date （功能描述：显示当前时间）
（2）date +%Y （功能描述：显示当前年年份）
（3）date +%m （功能描述：显示当前⽉份）
（4）date +%d （功能描述：显示当前是哪⼀天）
（5）date +%Y%m%d … （功能描述：显示当前年年⽉⽇各种格式 ）
（6）date <span class="token string">"+%Y-%m-%d %H:%M:%S"</span> 或者单引号也可以 （功能描述：显示年年⽉
⽉⽇⽇时分秒）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="设置系统时间"><a href="#设置系统时间" class="headerlink" title="设置系统时间"></a>设置系统时间</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">date</span> <span class="token parameter variable">-s</span> 字符串时间<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="cal查看⽇历"><a href="#cal查看⽇历" class="headerlink" title="cal查看⽇历"></a>cal查看⽇历</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cal</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> （功能描述：不加选项，显示本⽉⽇历）<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-3       显示系统前⼀个⽉，当前⽉，下⼀个⽉的⽇历</li>
<li>-2022  具体某⼀年年，显示这⼀年年的⽇历。</li>
</ul>
<h4 id="搜索命令"><a href="#搜索命令" class="headerlink" title="搜索命令"></a>搜索命令</h4><h5 id="find"><a href="#find" class="headerlink" title="find"></a>find</h5><p>find命令⽤来在指定⽬录下查找⽂件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">find</span> <span class="token punctuation">[</span>搜索路径<span class="token punctuation">]</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>搜索路径：省略则默认为当⽬录，相当于 “find .”</p>
<ul>
<li><p>-name 按照⽂件名称搜索，⽀持通配符模糊查询</p>
</li>
<li><p>-iname 此参数的效果和指定“-name”参数类似，但忽略字符⼤⼩写的差别</p>
</li>
<li><p>-path 查找路径包含范本样式的⽂件或⽬录</p>
</li>
<li><p>-regex 正则表达式搜索</p>
</li>
<li><p>-iregex 同”-regex”，忽略⼤⼩写</p>
</li>
<li><p>-size [+|-]⽂件⼤⼩[cwbkMG] ：查找符合指定的⽂件⼤⼩的⽂件</p>
<ul>
<li>“+” 的意思是搜索⽐指定⼤⼩还要⼤的⽂件，</li>
<li>“-“ 的意思是搜索⽐指定⼤⼩还要⼩的⽂件</li>
<li>“cwbkMG”是单位，c——字节，w——字(2字节)，b——块(512字节)，k——千字节，M——兆字节，G——吉字节。如果不写单位默认是b</li>
</ul>
</li>
<li><p>-atime [+|-]天数：按照⽂件最后⼀次访问时间搜索，单位每天”+”、”-“的含义，例如”5”表示恰好5天前的那⼀天，”+5”超过5天前的时间，”-5”5天内的时间。(以下按时间搜索选项中”+”、”-“含义相同)</p>
</li>
<li><p>-mtime [+|-]天数：按照⽂件数据最后⼀次修改时间搜索，单位每天</p>
</li>
<li><p>-ctime [+|-]天数：按照⽂件元数据(如权限等)最后⼀次修改时间搜索，单位每天</p>
</li>
<li><p>-amin [+|-]分钟数：按照⽂件最后⼀次访问时间搜索，单位每分钟</p>
</li>
<li><p>-mmin [+|-]分钟数：按照⽂件数据最后⼀次修改时间搜索，单位每分钟</p>
</li>
<li><p>-cmin [+|-]分钟数：按照⽂件元数据(如权限等)最后⼀次修改时间搜索，单位每分钟</p>
</li>
<li><p>-perm [+|-]权限数值：查找符合指定的权限数值的⽂件或⽬录。例如，权限数值为”766”表示权限恰好等于766，”-766”表示⽂件权限必须全部包含766，”+766”表示⽂件权限包含766任意⼀个权限</p>
</li>
<li><p>-uid ⽤户ID：查找所有者是指定⽤户ID的⽂件</p>
</li>
<li><p>-user ⽤户名：查找所有者是指定⽤户名的⽂件</p>
</li>
<li><p>-gid 组ID：查找所有组是指定组ID的⽂件</p>
</li>
<li><p>-group 组名：查找所有组是指定组名的⽂件</p>
</li>
<li><p>-nouser：查找没有所有者的⽂件</p>
<p>按照所有者和所有组搜索时，”-nouser”选项⽐较常⽤，主要⽤于查找垃圾⽂件。没<br>有所有者的⽂件⽐较少⻅，那就是外来⽂件，⽐如光盘和U盘的⽂件是由Windows复<br>制的，在Linux中查看就是没有所有者的⽂件，再⽐如⼿⼯源码包安装的⽂件也可能<br>没有所有者</p>
</li>
<li><p>-type ⽂件类型：只寻找符合指定的⽂件类型的⽂件</p>
<p>f——普通⽂件，l——符号连接，d——⽬录，c——字符设备，b——块设备，s——套接<br>字，p——Fifo</p>
</li>
<li><p>-empty：查找⽂件⼤⼩为0的⽂件</p>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#==================根据⽂件名或者正则表达式进⾏匹配=====================</span>
<span class="token comment">#列出当前⽬录及⼦⽬录下所有⽂件和⽂件夹</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find .</span>
<span class="token comment">#在`/home`⽬录下查找以.txt结尾的⽂件名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /home -name "*.txt"</span>
<span class="token comment">#同上，但忽略⼤⼩写</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /home -iname "*.txt"</span>
<span class="token comment">#当前⽬录及⼦⽬录下查找所有以.txt和.pdf结尾的⽂件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find . \( -name "*.txt" -o -name "*.pdf"</span>
<span class="token punctuation">\</span><span class="token punctuation">)</span>
或
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find . -name "*.txt" -o -name "*.pdf"</span>
<span class="token comment">#查找路径包含local的⽂件或者⽬录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /usr/ -path "*local*"</span>
<span class="token comment">#基于正则表达式匹配⽂件路径</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find . -regex ".*\(\.txt\|\.pdf\)$"</span>
<span class="token comment">#========================逻辑运算符==========================</span>
<span class="token comment">#查找⽂件⼤⼩超过2k并且是普通⽂件类型的⽂件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find . -size +2k -a -type f</span>
<span class="token comment">#找出/home下不是以.txt结尾的⽂件</span>
<span class="token punctuation">[</span>root@localhost tmp<span class="token punctuation">]</span><span class="token comment"># find . -not -name "*.txt"</span>
<span class="token comment"># 或</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /home ! -name "*.txt"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h5><p>grep命令的作⽤是在⽂件中提取和匹配符合条件的字符串⾏，是⼀种强⼤的⽂本搜索⼯具，它能使⽤正则表达式搜索⽂本，并把匹配的⾏打印出来。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">grep</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 搜索内容 ⽂件名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>-c：只输出匹配⾏的计数</li>
<li>-i：忽略⼤⼩写</li>
<li>-n：输出⾏号</li>
<li>-w：显示整个单词</li>
<li>-R或-r: 递归查找⽬录下的所有⽂件内容</li>
</ul>
<h5 id="重定向输出-gt-和-gt-gt"><a href="#重定向输出-gt-和-gt-gt" class="headerlink" title="重定向输出 > 和 >>"></a>重定向输出 &gt; 和 <code>&gt;&gt;</code></h5><p>使⽤重定向运算符“&gt;”和“&gt;&gt;”将终端输出保存到⽂件中</p>
<p><code>&gt;</code>：它将输出重定向到⽂件并覆盖⽂件的现有内容</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">command</span> <span class="token operator">&gt;</span> <span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><code>&gt;&gt;</code>：它将输出附加到⽂件的末尾</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">command</span> <span class="token operator">&gt;&gt;</span> <span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="管道"><a href="#管道" class="headerlink" title="管道 |"></a>管道 <code>|</code></h5><p>通过 命令1 | 命令2 可以将命令1的结果 通过 命令2 作进⼀步的处理</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120185338017.png" alt="image-20230120185338017"></p>
<h5 id="逻辑控制-amp-amp"><a href="#逻辑控制-amp-amp" class="headerlink" title="逻辑控制&amp;&amp;"></a>逻辑控制&amp;&amp;</h5><p>⽤&amp;&amp;连接两个命令，前⼀个命令执⾏成功，才会执⾏后⼀命令。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">command1 <span class="token operator">&amp;&amp;</span> command2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="history查看历史指令"><a href="#history查看历史指令" class="headerlink" title="history查看历史指令"></a>history查看历史指令</h5><p>列出曾经输⼊的命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#我们设置了⼀个环境变量 显示时间戳</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HISTTIMEFORMAT</span><span class="token operator">=</span><span class="token string">'%F %T '</span>

<span class="token comment">#再来看history </span>
<span class="token punctuation">[</span>roc@linux ~<span class="token punctuation">]</span>$ <span class="token function">history</span>
 
    <span class="token number">1</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:15:59 <span class="token function">cat</span> .bash_history

    <span class="token number">2</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:15:59 <span class="token builtin class-name">echo</span> <span class="token string">""</span> <span class="token operator">&gt;</span> .bash_history

    <span class="token number">3</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:15:59 <span class="token function">ls</span>

    <span class="token number">4</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:15:59 <span class="token function">man</span> <span class="token function">ls</span>

    <span class="token number">5</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:15:59 <span class="token function">date</span>

    <span class="token number">6</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:15:59 <span class="token builtin class-name">logout</span>

    <span class="token number">7</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:16:16 <span class="token function">history</span>

    <span class="token number">8</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:18:15 <span class="token builtin class-name">export</span> <span class="token assign-left variable">HISTTIMEFORMAT</span><span class="token operator">=</span><span class="token string">'%F %T '</span>

    <span class="token number">9</span> <span class="token number">2022</span>-06-06 <span class="token number">12</span>:18:20 <span class="token function">history</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="清除所有的命令"><a href="#清除所有的命令" class="headerlink" title="清除所有的命令"></a>清除所有的命令</h5><p>安全是计算机世界⾥的头等⼤事，出于安全的考虑，我们常常需要清除曾经输⼊的命令，避免被其他别有⽤⼼的⼈看到。这种情况下，我们就要⽤ -c 选项来帮忙了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">history</span> <span class="token parameter variable">-c</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="Linux打包（归档）和压缩"><a href="#Linux打包（归档）和压缩" class="headerlink" title="Linux打包（归档）和压缩"></a>Linux打包（归档）和压缩</h2><h3 id="打包和压缩的概念和区别"><a href="#打包和压缩的概念和区别" class="headerlink" title="打包和压缩的概念和区别"></a>打包和压缩的概念和区别</h3><h4 id="归档"><a href="#归档" class="headerlink" title="归档"></a>归档</h4><p>也称为打包，指的是⼀个⽂件或⽬录的集合，⽽这个集合被存储在⼀个⽂件中。归档⽂件没有经过压缩，因此，它占⽤的空间是其中所有⽂件和⽬录的总和。</p>
<h4 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h4><p>压缩则是将⼀个⼤的⽂件通过⼀些压缩算法变成⼀个⼩⽂件。</p>
<h3 id="打包和解包"><a href="#打包和解包" class="headerlink" title="打包和解包"></a>打包和解包</h3><h4 id="打tar包"><a href="#打tar包" class="headerlink" title="打tar包"></a>打tar包</h4><p>Linux 下最常⽤的打包程序就是 tar 了，使⽤ tar 程序打出来的包我们常称为tar包 ，tar包 ⽂件的命令通常都是以 .tar 结尾的。⽣成 tar包 后，就可以⽤其它的程序来进⾏压缩了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 将 ⼀系列⽂件 打包成 ⼀个⼤⽂件</span>
<span class="token function">tar</span> <span class="token parameter variable">-cvf</span> 打包名.tar 被打包的⽬录
<span class="token function">tar</span> <span class="token parameter variable">-cvf</span> 打包名.tar 被打包的⽂件1 被打包的⽂件2 被打包的⽂件3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>c</td>
<td>create</td>
<td>⽣成档案⽂件, 创建打包⽂件</td>
</tr>
<tr>
<td>v</td>
<td>verbosely</td>
<td>显示打包或解打包过程</td>
</tr>
<tr>
<td>f</td>
<td>file</td>
<td>指定打包⽂件名(.tar)或压缩包⽂件名</td>
</tr>
</tbody></table>
<h4 id="解tar包"><a href="#解tar包" class="headerlink" title="解tar包"></a>解tar包</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 将⼀个打包后的 分解成 ⼀系列⼩⽂件, 分解位置为 当前⽬录</span>
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> 打包名.tar

<span class="token comment"># 将⼀个打包后的 分解成 ⼀系列⼩⽂件, 分解位置为 指定⽬录</span>
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> 打包名.tar <span class="token parameter variable">-C</span> 解包路径位置<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>extract (提取)</td>
<td>解包</td>
</tr>
<tr>
<td>C(大写C)</td>
<td>directory(⽬录)</td>
<td>默认保存到当前⽬录, 通过 -C 更改提取⽬录, 注意: 提取⽬录必须存在</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 解打包到当前⽬录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -xvf anaconda-ks.cfg.tar</span>

<span class="token comment"># 解打包到指定⽬录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -xvf anaconda-ks.cfg.tar -C /testdir/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="gzip格式压缩和解压缩"><a href="#gzip格式压缩和解压缩" class="headerlink" title="gzip格式压缩和解压缩"></a>gzip格式压缩和解压缩</h4><p>gzip命令是”.gz”格式的压缩和解压缩命令，gzip命令对⽂本⽂件有60%～70%的压缩率。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 压缩⽂件</span>
<span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> 打包压缩⽂件名.tar.gz 被压缩的⽂件/⽬录

<span class="token comment"># 解压缩⽂件</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> 打包⽂件.tar.gz

<span class="token comment"># 解压缩到指定路径</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> 打包⽂件.tar.gz <span class="token parameter variable">-C</span> ⽬录路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>z</td>
<td>gzip</td>
<td>使⽤gzip压缩和解压缩</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#把/tmp/⽬录直接打包并压缩为".tar.gz"格式</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -zcvf tmp.tar.gz /tmp/</span>

<span class="token comment">#解压缩并解打包".tar.gz"格式⽂件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -zxvf tmp.tar.gz</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="bzip2-格式-压缩-和-解压缩"><a href="#bzip2-格式-压缩-和-解压缩" class="headerlink" title="bzip2 格式 压缩 和 解压缩"></a>bzip2 格式 压缩 和 解压缩</h4><p>“.bz2” 格式是Linux的另⼀种压缩格式，从理论上来讲，”.bz2” 格式的算法更新进、压缩⽐更好；⽽ “.gz” 格式相对来讲压缩的时间更快。</p>
<ul>
<li>在 Linux 中, bzip2 压缩⽂件格式是 xxx.tar.bz2</li>
<li>在 tar命令中有⼀个选项 -j 可以调⽤ bzip2 , 可以实现压缩和解压缩的功能</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 压缩⽂件</span>
<span class="token function">tar</span> <span class="token parameter variable">-jcvf</span> 打包压缩⽂件名.tar.bz2 被压缩的⽂件/⽬录

<span class="token comment"># 解压缩⽂件</span>
<span class="token function">tar</span> <span class="token parameter variable">-jxvf</span> 打包⽂件.tar.bz2

<span class="token comment"># 解压缩到指定路径</span>
<span class="token function">tar</span> <span class="token parameter variable">-jxvf</span> 打包⽂件.tar.bz2 <span class="token parameter variable">-C</span> ⽬录路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意事项: 如果报错tar (child): bzip2：⽆法 exec: 没有那个⽂件或⽬录</p>
<p>要安装bzip2的包 <code>yum install -y bzip2</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>j</td>
<td>bzip2</td>
<td>使⽤bzip2压缩和解压缩</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#把/tmp/⽬录直接打包并压缩为".tar.bz2"格式</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -jcvf tmp.tar.gz /tmp/</span>

<span class="token comment">#解压缩并解打包".tar.bz2"格式⽂件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -jxvf tmp.tar.gz</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Linux-vi编辑器"><a href="#Linux-vi编辑器" class="headerlink" title="Linux vi编辑器"></a>Linux vi编辑器</h2><h3 id="vi与vim"><a href="#vi与vim" class="headerlink" title="vi与vim"></a>vi与vim</h3><h4 id="vi介绍"><a href="#vi介绍" class="headerlink" title="vi介绍"></a>vi介绍</h4><p>vi编辑器通常被简称为vi，⽽vi⼜是visual editor的简称 ，是效率很⾼的⽂本编辑器。它可以执⾏输出、删除、查找、替换、块操作等众多⽂本操作，⽽且⽤户可以根据⾃⼰的需要对其进⾏定制，这是其他编辑程序所没有的。</p>
<h4 id="vim介绍"><a href="#vim介绍" class="headerlink" title="vim介绍"></a>vim介绍</h4><p>Vim是从 Vi 发展出来的⼀个⽂本编辑器，可以看做是 Vi 的增强版本，可以主动的以字体颜⾊辨别语法的正确性，⽅便程序设计代码补全、编译及错误跳转等⽅便编程的功能特别丰富，vim适⽤于coding。</p>
<blockquote>
<p>注意： 如果在命令⾏模式下输⼊“vim”，输出结果为“Command not found”，则表示此系统中未安装 Vim</p>
<p><code>yum -y install vim</code></p>
</blockquote>
<h3 id="vi编辑器三种模式"><a href="#vi编辑器三种模式" class="headerlink" title="vi编辑器三种模式"></a>vi编辑器三种模式</h3><ol>
<li><p>命令模式</p>
<ul>
<li>打开⽂件⾸先进⼊命令模式, 是使⽤vi的⼊⼝</li>
<li>通过 <strong>命令</strong> 对⽂件进⾏常规的编辑操作, 例如 <strong>定位 翻⻚ 复制 粘贴 删除</strong></li>
<li>在其他图形编辑器下, 通过 快捷键 或者 ⿏标 实现的操作, 都在 <strong>命令模式</strong> 下实现</li>
</ul>
</li>
<li><p>末⾏模式 – 执⾏ <strong>保存 退出</strong> 等操作</p>
<ul>
<li>要退出 vi 返回到控制台, 需要在莫⾏模式下输⼊命令</li>
<li>末⾏模式 是 vi 的出⼝</li>
</ul>
</li>
<li><p>编辑模式 – 正常的编辑⽂字</p>
</li>
</ol>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120192349660.png" alt="image-20230120192349660"></p>
<h4 id="命令-x2F-⼀般模式"><a href="#命令-x2F-⼀般模式" class="headerlink" title="命令/⼀般模式"></a>命令/⼀般模式</h4><p>⽤户刚刚启动 vi/vim，便进⼊了命令模式。此状态下敲击键盘动作会被Vim识别为命令，⽽⾮输⼊字符。</p>
<h5 id="常⽤的⼏个命令"><a href="#常⽤的⼏个命令" class="headerlink" title="常⽤的⼏个命令"></a>常⽤的⼏个命令</h5><ul>
<li><code>i/a/o</code> 切换到插⼊模式，以输⼊字符。<code>(i：光标不动 o：另起⼀⾏ a：光标到下⼀个字符)</code></li>
<li><code>:</code> 切换到底线命令模式，以在最底⼀⾏输⼊命令。</li>
</ul>
<h4 id="编辑-x2F-插⼊模式"><a href="#编辑-x2F-插⼊模式" class="headerlink" title="编辑/插⼊模式"></a>编辑/插⼊模式</h4><p>在命令模式下按下 <code>i</code> 就进⼊了输⼊模式，在输⼊模式中，可以使⽤以下按键：</p>
<ul>
<li><p>字符按键以及Shift组合，输⼊字符</p>
</li>
<li><p>ENTER，回⻋键，换⾏</p>
</li>
<li><p>BACK SPACE，退格键，删除光标前⼀个字符</p>
</li>
<li><p>DEL，删除键，删除光标后⼀个字符</p>
</li>
<li><p>⽅向键，在⽂本中移动光标</p>
</li>
<li><p>HOME/END，移动光标到⾏⾸/⾏尾</p>
</li>
<li><p>Page Up/Page Down，上/下翻⻚</p>
</li>
<li><p>Insert，切换光标为输⼊/替换模式，光标将变成竖线/下划线</p>
</li>
<li><p>ESC，退出输⼊模式，切换到命令模式</p>
</li>
</ul>
<h4 id="底线命令模式"><a href="#底线命令模式" class="headerlink" title="底线命令模式"></a>底线命令模式</h4><p>在命令模式下按下:（英⽂冒号）就进⼊了底线命令模式</p>
<p>底线命令模式可以输⼊单个或多个字符的命令，可⽤的命令⾮常多。</p>
<ul>
<li>:q 退出程序</li>
<li>:w 保存⽂件</li>
</ul>
<p>按ESC键可随时退出底线命令模式。</p>
<h3 id="三种模式下的指令"><a href="#三种模式下的指令" class="headerlink" title="三种模式下的指令"></a>三种模式下的指令</h3><h4 id="⼀般模式下指令"><a href="#⼀般模式下指令" class="headerlink" title="⼀般模式下指令"></a>⼀般模式下指令</h4><blockquote>
<p>光标移动</p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>h 或 向左箭头键(←)</td>
<td>光标向左移动⼀个字符</td>
</tr>
<tr>
<td>j 或 向下箭头键(↓)</td>
<td>光标向下移动⼀个字符</td>
</tr>
<tr>
<td>k 或 向上箭头键(↑)</td>
<td>光标向上移动⼀个字符</td>
</tr>
<tr>
<td>l 或 向右箭头键(→)</td>
<td>光标向右移动⼀个字符</td>
</tr>
<tr>
<td>[Ctrl] + [f]</td>
<td>屏幕『向下』移动⼀⻚，相当于 [Page Down]按键 (常⽤)</td>
</tr>
<tr>
<td>[Ctrl] + [b]</td>
<td>屏幕『向上』移动⼀⻚，相当于 [Page Up] 按键 (常⽤)</td>
</tr>
</tbody></table>
<blockquote>
<p>撤销和恢复撤销</p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>u</td>
<td>undo</td>
<td>撤销上次的命令(ctrl + z)</td>
</tr>
<tr>
<td>Ctrl + r</td>
<td>redo</td>
<td>恢复撤销的命令</td>
</tr>
</tbody></table>
<blockquote>
<p>复制和剪切</p>
</blockquote>
<ul>
<li>vi 中提供有⼀个 被复制⽂本的缓冲区<ul>
<li>复制 命令会将选中的⽂字保存在缓冲区</li>
<li>删除 命令删除的⽂字会被保存在缓冲区</li>
<li>在需要的位置, 使⽤ 粘贴 命令可以将缓冲对的⽂字插⼊到光标所在的位置</li>
</ul>
</li>
<li>提示:<ul>
<li>命令 d 、x 类似于图形界⾯的 剪切操作 – ctrl + x</li>
<li>命令 y 类似于 图形界⾯的 复制操作 – Ctrl + c</li>
<li>命令 p 类似于图形界⾯的 粘贴操作 – Ctrl + v</li>
<li>vi中的⽂本缓冲区只有⼀个,如果后续做过 复制、剪切操作, 之前缓冲区中的内容会被替换。</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>y(复制命令)</td>
<td>copy</td>
<td>复制</td>
</tr>
<tr>
<td>yy</td>
<td>copy</td>
<td>复制⼀⾏,可以nyy复制多⾏</td>
</tr>
<tr>
<td>d(剪切命令)</td>
<td>delete</td>
<td>剪切</td>
</tr>
<tr>
<td>dd(剪切)</td>
<td>delete</td>
<td>剪切⼀⾏, 可以 ndd 剪切n⾏</td>
</tr>
<tr>
<td>p</td>
<td>paste</td>
<td>粘贴</td>
</tr>
</tbody></table>
<h4 id="⼀般模式切换到编辑模式"><a href="#⼀般模式切换到编辑模式" class="headerlink" title="⼀般模式切换到编辑模式"></a>⼀般模式切换到编辑模式</h4><table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>功能</th>
<th>常⽤</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>insert</td>
<td>在当前字符前插⼊⽂本</td>
<td>常⽤</td>
</tr>
<tr>
<td>I</td>
<td>insert</td>
<td>在⾏⾸插⼊⽂本</td>
<td>较常⽤</td>
</tr>
<tr>
<td>a</td>
<td>append</td>
<td>在当前字符后添加⽂本</td>
<td>常⽤</td>
</tr>
<tr>
<td>A</td>
<td>append</td>
<td>在⾏末添加⽂本</td>
<td>较常⽤</td>
</tr>
<tr>
<td>o</td>
<td>delete</td>
<td>在当前⾏后⾯插⼊⼀空⾏</td>
<td>常⽤</td>
</tr>
<tr>
<td>O</td>
<td>paste</td>
<td>在当前⾏前⾯插⼊⼀空⾏</td>
<td>常⽤</td>
</tr>
</tbody></table>
<h4 id="底⾏模式下命令"><a href="#底⾏模式下命令" class="headerlink" title="底⾏模式下命令"></a>底⾏模式下命令</h4><h5 id="保存退出"><a href="#保存退出" class="headerlink" title="保存退出"></a>保存退出</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>w</td>
<td>write</td>
<td>保存</td>
</tr>
<tr>
<td>q</td>
<td>quit</td>
<td>退出,如果没有保存,不允许退出</td>
</tr>
<tr>
<td>q!</td>
<td>quit</td>
<td>强⾏退出,不保存退出</td>
</tr>
<tr>
<td>wq</td>
<td>write&amp;quit</td>
<td>保存且退出(末⾏模式)</td>
</tr>
<tr>
<td>x</td>
<td></td>
<td>保存并退出(末⾏模式)</td>
</tr>
</tbody></table>
<h5 id="常规查找"><a href="#常规查找" class="headerlink" title="常规查找"></a>常规查找</h5><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>/str</td>
<td>查找str</td>
</tr>
</tbody></table>
<p>查找到指定内容之后, 使⽤ <code>Next</code></p>
<p>查找下⼀个出现的位置</p>
<ul>
<li>n : 查找下⼀个</li>
<li>N : 查找上⼀个</li>
</ul>
<p>替换</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>:s/old/new</td>
<td>⽤new替换⾏中⾸次出现的old</td>
</tr>
<tr>
<td>:s/old/new/g</td>
<td>⽤new替换⾏中所有的old</td>
</tr>
<tr>
<td>:n,m s/old/new/g</td>
<td>⽤new替换从n到m⾏⾥所有的old</td>
</tr>
<tr>
<td>:%s/old/new/g</td>
<td>⽤new替换当前⽂件⾥所有的old</td>
</tr>
</tbody></table>
<h5 id="处理常⻅问题"><a href="#处理常⻅问题" class="headerlink" title="处理常⻅问题"></a>处理常⻅问题</h5><p>如果 vi 异常退出, 在磁盘上可能会保存有 交换⽂件 下次再使⽤ vi 编辑⽂件时, 会看到以下屏幕信息, 按下字⺟ d 删除交换⽂件即可,swp⽂件时在使⽤vim/vi时产⽣的⼀个临时⽂件，且它是⼀个隐藏⽂件，⽤于保存缓存中还没有保存的数据。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120201720670.png" alt="image-20230120201720670"></p>
<p>查看⽬录会多出来.swp …等⽂件</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120201735335.png" alt="image-20230120201735335"></p>
<p>如果要恢复⽂件输⼊指令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> <span class="token parameter variable">-r</span> ⽂件名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果不恢复⽂件则直接删除改.swp 等⽂件即可。</p>
<h2 id="Linux⽤户与⽤户组管理"><a href="#Linux⽤户与⽤户组管理" class="headerlink" title="Linux⽤户与⽤户组管理"></a>Linux⽤户与⽤户组管理</h2><h3 id="Linux⽤户和⽤户组"><a href="#Linux⽤户和⽤户组" class="headerlink" title="Linux⽤户和⽤户组"></a>Linux⽤户和⽤户组</h3><h4 id="Linux⽤户和⽤户组分类"><a href="#Linux⽤户和⽤户组分类" class="headerlink" title="Linux⽤户和⽤户组分类"></a>Linux⽤户和⽤户组分类</h4><p>Linux 系统是⼀个多⽤户多任务的分时操作系统，任何⼀个要使⽤系统资源的⽤户，都必须要拥有⼀个账号进⼊系统。账号实质上就是⼀个⽤户在系统上的标识，系统根据该标识分配不同的权限和资源。⼀个账号包含⽤户和⽤户组两部分。</p>
<ul>
<li><p>⽤户分类</p>
<ul>
<li>超级管理员 ：具有操作系统的⼀切权限，UID 为 0 。⼀般是 “root”⽤户，不建议⼀个系统有多个超级⽤户</li>
<li>系统⽤户(伪⽤户) ：⽅便系统管理，⽤来运⾏系统和服务的⽤户，没有密码不能登录，UID在 1 - 499 之间。⽐如有些服务不希望使⽤ root 的身份去执⾏，⽽是希望使⽤权限更⼩的账号去执⾏，所以我们就得要提供这些运作程序的拥有者</li>
<li>普通⽤户 ：可登⼊⽤户，拥有系统部分权限的⽤户，UID 从 500 开始。</li>
</ul>
</li>
<li><p>⽤户组分类</p>
<ul>
<li>初始组 ：⽤户刚登录⼊系统就所在的组，⽤户的必须要有⼀个初始组且只能有⼀个，⼀般初始组名和⽤户名相同</li>
<li>附加组 ：⽤户除了初始组外加⼊的其他组，每个⽤户可以拥有0或多个附加组</li>
</ul>
</li>
</ul>
<h4 id="Linux系统添加⽤户-useradd"><a href="#Linux系统添加⽤户-useradd" class="headerlink" title="Linux系统添加⽤户 useradd"></a>Linux系统添加⽤户 useradd</h4><p>命令格式： <code>useradd [选项] ⽤户名</code></p>
<ul>
<li>-u ⽤户ID ：指定⽤户ID。⼀般指定 UID 要⼤于500，如果没有特殊需求尽量不要指定，由系统⾃动分配即可</li>
<li>-g 初始组名 ：指定⽤户所属初始组。尽量不要指定，系统会⾃动创建⼀个和新增⽤户名相同的组最为该新增⽤户的初始组</li>
<li>-G 附加组名 ：指定⽤户所属附加组。如果要指定多个附加组，组名⽤ “,”隔开</li>
<li>-c 说明⽂字 ：加上备注⽂字。备注⽂字会保存在 “/etc/passwd” ⽂件的第5 列</li>
<li>-d 家⽬录 ：指定⽤户家⽬录</li>
<li>-s shell ：指定⽤户登⼊后所使⽤的 shell 程序</li>
</ul>
<h4 id="Linux修改⽤户密码-passwd"><a href="#Linux修改⽤户密码-passwd" class="headerlink" title="Linux修改⽤户密码 passwd"></a>Linux修改⽤户密码 passwd</h4><p>刚添加成功的⽤户没有密码(此时该⽤户的密码是 “ !! “ )，还不能⽤于登录系统，需要通过 “ passwd “ 命令设置密码后才能登录。当然，” passwd “ 命令也能⽤来修改已存在的⽤户密码，以及管理⽤户密码有效时间等。</p>
<p>命令格式： <code>passwd [选项] [⽤户名]</code></p>
<ul>
<li><p>选项</p>
<ul>
<li>-l 或 –lock ：临时锁住密码使密码失效。即把 “/etc/shadow” 第⼆列密⽂密码前⾯多加个 “!!”</li>
<li>-u 或 –unlock ：解开已锁住的⽤户密码。相对于 -l 的反向操作</li>
<li>-d 或 –delete ：删除现有⽤户的密码</li>
<li>-n 天数 ：两次密码修改时间间隔。对应”/etc/shadow” 第 4 列</li>
<li>-x 天数 ：密码有效期。对应”/etc/shadow” 第 5 列。</li>
<li>-w 天数 ：密码到期前的警告天数。对应”/etc/shadow” 第 6 列</li>
<li>-i 天数 ：密码到期后的宽限天数。对应”/etc/shadow” 第 7 列</li>
<li>-S 或 –status ：显示⽤户密码状态</li>
<li>–stdin ：从标准输⼊读取令牌。主要⽤在通过脚本批量添加⽤户，不需<br>要交互的场景</li>
</ul>
</li>
<li><p>⽤户名</p>
<ul>
<li>⽤户名省略，默认修改当前登录⽤户的密码。⼀般⽤户修改⾃⼰的密码直接执⾏ “ passwd “ 即可</li>
</ul>
</li>
</ul>
<blockquote>
<p>注意：只有管理者才能修改其他⽤户的密码，普通⽤户只能修改⾃⼰的密码</p>
</blockquote>
<h4 id="Linux修改系统⽤户信息-usermod"><a href="#Linux修改系统⽤户信息-usermod" class="headerlink" title="Linux修改系统⽤户信息 usermod"></a>Linux修改系统⽤户信息 usermod</h4><p>命令格式： <code>usermod [选项] ⽤户名</code></p>
<ul>
<li>选项<ul>
<li>-u ⽤户ID ：修改⽤户ID</li>
<li>-d 家⽬录 ：修改⽤户家⽬录</li>
<li>-c ⽤户说明 ：修改⽤户说明</li>
<li>-g 初始组名 ：修改⽤户初始组</li>
<li>-G 附加组名 ：修改⽤户附加组</li>
<li>-s shell ：修改⽤户登⼊后所使⽤的 shell 程序</li>
<li>-e ⽇期 ：修改账号失效⽇期，格式是 “YYYY-MM-DD”。即修改/etc/shadow 第 8 列数据</li>
<li>-l 新⽤户名 ：修改⽤户名</li>
<li>-L ：临时锁定账号。与 “ passwd -l ⽤户名 “ 作⽤⼀样</li>
<li>-U ：解锁账号</li>
</ul>
</li>
</ul>
<h4 id="Linux删除⽤户-userdel"><a href="#Linux删除⽤户-userdel" class="headerlink" title="Linux删除⽤户 userdel"></a>Linux删除⽤户 userdel</h4><p>命令格式： <code>userdel [选项] ⽤户名</code></p>
<ul>
<li>-r ：同时删除⽤户家⽬录和⽤户邮件</li>
</ul>
<h4 id="Linux查看⽤户UID和GID-id"><a href="#Linux查看⽤户UID和GID-id" class="headerlink" title="Linux查看⽤户UID和GID id"></a>Linux查看⽤户UID和GID id</h4><p>查询⽤户UID/GID等信息：id</p>
<p>命令格式： <code>id [选项] [⽤户名]</code></p>
<ul>
<li>选项：⼀般使⽤不加任何选项<ul>
<li>-g ：仅显示该⽤户当前有效的⽤户组ID</li>
<li>-G ：显示该⽤户所有⽤户组ID</li>
<li>-u ：仅显示该⽤户ID</li>
</ul>
</li>
<li>⽤户名：省略代表查询当前进程⽤户</li>
</ul>
<blockquote>
<p>该命令使⽤⼀般不加任何选项，基本能输出所有要查询的信息。例如直接执⾏” id “ 或 “ id root “</p>
</blockquote>
<h4 id="Linux-添加⽤户组-groupadd"><a href="#Linux-添加⽤户组-groupadd" class="headerlink" title="Linux 添加⽤户组 groupadd"></a>Linux 添加⽤户组 groupadd</h4><p>添加组：groupadd</p>
<p>命令格式： <code>groupadd [选项] 组名</code></p>
<ul>
<li>选项：<ul>
<li>-g 组ID ：指定组ID</li>
<li>-r ：创建系统⽤户组，系统⽤户组的组ID⼩于1000。与 /etc/login.defs 内的 GID_MIN 有关</li>
</ul>
</li>
</ul>
<h4 id="Linux修改⽤户组-groupmod"><a href="#Linux修改⽤户组-groupmod" class="headerlink" title="Linux修改⽤户组 groupmod"></a>Linux修改⽤户组 groupmod</h4><p>组信息修改：groupmod</p>
<p>命令格式：<code>groupmod [选项] 组名</code></p>
<ul>
<li>选项：<ul>
<li>-g 组ID ：修改组ID</li>
<li>-n 新组名 ：修改组名</li>
</ul>
</li>
</ul>
<h4 id="Linux删除⽤户组-groupdel"><a href="#Linux删除⽤户组-groupdel" class="headerlink" title="Linux删除⽤户组 groupdel"></a>Linux删除⽤户组 groupdel</h4><p>组删除：groupdel</p>
<p>命令格式： <code>groupdel 组名</code></p>
<p>注意：如果⽤户组是某个⽤户的初始组，必须先删除这个⽤户或者修改该⽤户的GID后，才能删除该⽤户组</p>
<h4 id="Linux显示当前登录⽤户名：whoami"><a href="#Linux显示当前登录⽤户名：whoami" class="headerlink" title="Linux显示当前登录⽤户名：whoami"></a>Linux显示当前登录⽤户名：whoami</h4><p>命令格式： <code>whoami</code></p>
<p>不需要任何选项和参数，直接执⾏即可</p>
<h4 id="Linux显示当前已登录⽤户信息：w、who"><a href="#Linux显示当前已登录⽤户信息：w、who" class="headerlink" title="Linux显示当前已登录⽤户信息：w、who"></a>Linux显示当前已登录⽤户信息：w、who</h4><p><code>w</code> 和 <code>who</code> 命令作⽤相似都是显示系统中正在登录的⽤户信息，这两个命令查询信息都来源于⽇志⽂件 “/var/run/utmp”。</p>
<p>w 命令格式：<strong>w [选项] [⽤户名]</strong></p>
<ul>
<li>选项：<ul>
<li>-h ：不打印头信息</li>
<li>-s ：使⽤短输出格式</li>
</ul>
</li>
<li>⽤户：<ul>
<li>仅显示指定⽤户</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># w</span>
<span class="token number">18</span>:31:08 up <span class="token number">1</span> day, <span class="token number">16</span> min, <span class="token number">3</span> users, load average: <span class="token number">0.00</span>, <span class="token number">0.00</span>, <span class="token number">0.00</span>
<span class="token environment constant">USER</span> TTY FROM LOGIN@ IDLE JCPU PCPU WHAT
root tty1 - Sat18 <span class="token number">49</span>:23 <span class="token number">0</span>.07s <span class="token number">0</span>.07s <span class="token parameter variable">-bash</span>
root pts/0 <span class="token number">192.168</span>.199.119 <span class="token number">18</span>:22 <span class="token number">8</span>:17 <span class="token number">0</span>.02s <span class="token number">0</span>.02s <span class="token parameter variable">-bash</span>
root pts/1 <span class="token number">192.168</span>.199.119 <span class="token number">18</span>:22 <span class="token number">0</span>.00s <span class="token number">0</span>.03s <span class="token number">0</span>.00s w<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>第⼀⾏内容：<ul>
<li>18:31:08：系统当前时间</li>
<li>up 1 day, 16 min：系统的运⾏时间</li>
<li>3 users：当前登录终端数量</li>
<li>load average: 0.00, 0.00, 0.00：系统在之前1分钟、5分钟、15分钟的平均负载。如果CPU是单核的，则这个数据超过1就是⾼负载；如果CPU是四核的，则这个数值超过4就是⾼负载</li>
</ul>
</li>
<li>第⼆⾏内容：<ul>
<li>USER：当前登录的⽤户</li>
<li>TTY：登录的终端。tty1-6: 本地字符终端(alt+F1-6 切换)，tty7: 本地图形终端(ctrl+F7切换，必须安装启动图形界⾯)，pts/0-255: 远程终端</li>
<li>FROM：登录的IP地址，如果是本地终端，则是空</li>
<li>LOGIN@：登录时间</li>
<li>IDLE：⽤户空闲时间</li>
<li>JCPU：所有的进程占⽤的CPU时间</li>
<li>PCPU：当前进程占⽤的CPU时间</li>
<li>WHAT：⽤户正在进⾏的操作</li>
</ul>
</li>
</ul>
<p>who 命令格式：<code>who [选项] [查询⽂件]</code></p>
<ul>
<li>选项<ul>
<li>-H ：显示各栏位的标题信息列</li>
<li>-q ：只显示登⼊系统的帐号名称和总⼈数</li>
<li>-w ：显示⽤户的信息状态栏</li>
<li>-u ：显示闲置时间，若该⽤户在前⼀分钟之内有进⾏任何动作，将标示成”.”号，如果该⽤户已超过24⼩时没有任何动作，则标示出”old”字符串</li>
</ul>
</li>
<li>查询⽂件<ul>
<li>指定要查询的⽂件，默认是/var/run/utmp</li>
</ul>
</li>
</ul>
<h4 id="Linux⽤户身份切换-su与sudo"><a href="#Linux⽤户身份切换-su与sudo" class="headerlink" title="Linux⽤户身份切换(su与sudo)"></a>Linux⽤户身份切换(su与sudo)</h4><p>当⽤普通账号登录系统，需要执⾏某些操作但是权限不⾜，这时就需要切换到更⾼权限的⽤户身份去执⾏啦。这⾥就涉及到两个命令的使⽤ <strong>su</strong> 和 <strong>sudo</strong></p>
<h5 id="su"><a href="#su" class="headerlink" title="su"></a>su</h5><p>su 是最简单的⽤户身份切换命令，可以进⾏任何身份的切换。除了 root ⽤户切换到其他⽤户不需要输⼊密码外，其他情况使⽤ “su” 命令切换⽤户时都必须输⼊要切换⽤户的登录密码</p>
<p>命令格式： <code>su [选项] [⽤户名]</code></p>
<p>选项：</p>
<ul>
<li>或 -l 或 –login ：使⽤ login-shell 的变量⽂件读取⽅式来登录系统。</li>
</ul>
<p>即切换身份时同时切换环境变量，如果不加该选项的话，⽤户切换后环境变量还是旧的，建议每次切换都带上该选项</p>
<ul>
<li>-c 命令 ：只是以某个⽤户执⾏⼀次指令，⽽不切换⽤户身份</li>
</ul>
<p>⽤户名 ：</p>
<ul>
<li>要切换的⽤户。如果省略则代表切换到 root ⽤户</li>
</ul>
<h5 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h5><p>虽然 su 很⽅便了，但是如果有很多⼈都需要切换 root 身份来执⾏某些指令，就必须知道 root 密码，这样容易导致密码流出，很不妥。相对于 su 必须知道要切换的⽤户密码，⽽使⽤ sudo 来切换身份只需要知道⽤户⾃⼰的密码即可。并不是所有⽤户都能使⽤ sudo 切换身份，前提必须是由管理员审核后，给⽤户开放了 sudo权限才能使⽤，能使⽤ sudo 其实就已经代表是受信任的⽤户了，这也是使⽤sudo不要需要知道切换⽤户密码的原因。</p>
<p>命令格式： <code>sudo [-b] [-u 新使⽤者账号] 要执⾏的命令</code></p>
<p>常⽤的选项与参数：</p>
<ul>
<li>-b ：将后续的命令放到背景中让系统⾃⾏运⾏，不对当前的 shell 环境产⽣影响。</li>
<li>-u ：后⾯可以接切换的⽤户名，若⽆此项则代表切换身份为 root 。</li>
<li>-l：此选项的⽤法为 sudo -l，⽤于显示当前⽤户可以⽤ sudo 执⾏那些命令。</li>
</ul>
<p>sudo 预设只有 root ⽤户能够使⽤，那么普通⽤户如何才能使⽤ sudo 来获取其他⽤户身份呢？这就涉及到 “/etc/sudoers” ⽂件的配置，因为 sudo 的执⾏流程是这样的：</p>
<ol>
<li>当⽤户执⾏ sudo 时，系统于 /etc/sudoers ⽂件中搜寻该使⽤者是否有执⾏sudo 的权限</li>
<li>若使⽤者具有可执⾏ sudo 的权限，便让使⽤者输⼊⾃⼰的密码来确认</li>
<li>若密码输⼊成功，便开始进⾏ sudo 后续接的指令</li>
<li>若欲切换的身份与执⾏者身份相同或者 root ⽤户执⾏ sudo 时，不需要输⼊密码</li>
</ol>
<p>所以⽤户能否使⽤ sudo，只需要编辑 /etc/sudoers ⽂件就可以了。</p>
<h5 id="sudo命令的配置⽂件-x2F-etc-x2F-sudoers"><a href="#sudo命令的配置⽂件-x2F-etc-x2F-sudoers" class="headerlink" title="sudo命令的配置⽂件/etc/sudoers"></a>sudo命令的配置⽂件/etc/sudoers</h5><p>修改 /etc/sudoers，不建议直接使⽤ vim，⽽是使⽤ visudo。因为修改/etc/sudoers ⽂件需遵循⼀定的语法规则，使⽤ visudo 的好处就在于，当修改完毕 /etc/sudoers ⽂件，离开修改⻚⾯时，系统会⾃⾏检验 /etc/sudoers ⽂件的语法。</p>
<p>修改 /etc/sudoers ⽂件的命令如下</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># visudo</span>
…省略部分输出…
root <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL <span class="token operator">&lt;</span>--⼤约 <span class="token number">76</span> ⾏的位置
<span class="token comment"># %wheel ALL=(ALL) ALL &lt;--⼤约84⾏的位置</span>
<span class="token comment">#这两⾏是系统为我们提供的模板，我们参照它写⾃⼰的就可以了</span>
…省略部分输出…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过 visudo 命令，我们就打开了 /etc/sudoers ⽂件，可以看到如上显示的 2 ⾏信息，这是系统给我们提供的 2 个模板，分别⽤于添加⽤户和群组，使其能够使⽤sudo 命令。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">这两⾏模板的含义分为是：
root <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL
<span class="token comment">#⽤户名 被管理主机的地址=(可使⽤的身份) 授权命令(绝对路径)</span>
<span class="token comment">#%wheel ALL=(ALL) ALL</span>
<span class="token comment">#%组名 被管理主机的地址=(可使⽤的身份) 授权命令(绝对路径)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="x2F-etc-x2F-sudoers-⽤户和群组模板的含义"><a href="#x2F-etc-x2F-sudoers-⽤户和群组模板的含义" class="headerlink" title="/etc/sudoers ⽤户和群组模板的含义"></a>/etc/sudoers ⽤户和群组模板的含义</h5><table>
<thead>
<tr>
<th>模块</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>⽤户名或群组名</td>
<td>表示系统中的那个⽤户或群组，可以使⽤ sudo 这个命令。</td>
</tr>
<tr>
<td>被管理主机的地址</td>
<td>⽤户可以管理指定 IP 地址的服务器。这⾥如果写 ALL，则代表⽤户可以管理任何主机；<br>如果写固定 IP，则代表⽤户可以管理指定的服务器。<br>如果我们在这⾥写本机的 IP 地址，不代表只允许本机的⽤户使⽤指定命令，⽽是代表指定的⽤户可以从任何 IP 地址来管理当前服务器。</td>
</tr>
<tr>
<td>可使⽤的身份</td>
<td>就是把来源⽤户切换成什么身份使⽤，（ALL）代表可以切换成任意身份。这个字段可以省略。</td>
</tr>
<tr>
<td>授权命令</td>
<td>表示 root 把什么命令命令授权给⽤户，换句话说，可以⽤切换的身份执⾏什么命令。需要注意的是，此命令必须使⽤绝对路径写。默认值是 ALL，表示可以执⾏任何命令。</td>
</tr>
</tbody></table>
<blockquote>
<p>如果两次执⾏ sudo 的间隔在五分钟内，那么再次执⾏ sudo 时就不需要再次输⼊密码了。这是因为系统相信你在五分钟内不会离开你的作业，所以执⾏ sudo 的是同⼀个⼈</p>
</blockquote>
<h2 id="Linux权限管理"><a href="#Linux权限管理" class="headerlink" title="Linux权限管理"></a>Linux权限管理</h2><h3 id="Linux-权限介绍"><a href="#Linux-权限介绍" class="headerlink" title="Linux 权限介绍"></a>Linux 权限介绍</h3><p>Linux 是多⽤户的操作系统，允许多个⽤户同时登录和⼯作，Linux 权限是操作系统⽤来限制不同⽤户对资源的访问机制。这⾥暂且将 Linux 中的权限分为三类：</p>
<ul>
<li>基本权限：给⽂件和⽬录的<strong>所属者(u)、所属组(g)、其他⽤户(o)</strong> 分配的 <strong>读(r)、写(w)、执⾏(x)</strong> 权限</li>
<li><strong>ACL权限</strong>：ACL 权限可以针对单⼀⽤户或⽤户组设定权限，是基本权限之外更细化的权限设定，弥补了基本权限设定不能满⾜的⼀些场景</li>
<li><strong>特殊权限</strong>：除了<strong>读写执⾏权限(rwx)</strong> 的另⼀种 <strong>特殊权限(s/t, SUID/SGID/SBIT)</strong></li>
</ul>
<h3 id="基本权限"><a href="#基本权限" class="headerlink" title="基本权限"></a>基本权限</h3><h4 id="权限位介绍"><a href="#权限位介绍" class="headerlink" title="权限位介绍"></a>权限位介绍</h4><p>使⽤ ls 命令时，⻓格式显示的第⼀列就是⽂件的权限，例如：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l install.log</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">48425</span> <span class="token number">11</span>⽉ <span class="token number">30</span> <span class="token number">18</span>:50 install.log<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230120215749661.png" alt="image-20230120215749661"></p>
<ul>
<li><p>第1位：代表⽂件类型。Linux不像Windows使⽤扩展名表示⽂件类型，⽽是使⽤权限位的第⼀位表示⽂件类型。虽然Linux⽂件的种类不像Windows中那么多，但是分类也不少，这⾥列出⼀些常⻅的⽂件类型：</p>
<ul>
<li><code>_</code>: 普通⽂件</li>
<li><code>d</code>: ⽬录⽂件。Linux中⼀切皆⽂件，所以⽬录也是⽂件的⼀种</li>
<li><code>l</code>: 软链接⽂件</li>
<li><code>b</code>: 块设备⽂件。这是⼀种特殊设备⽂件，存储设备都是这种⽂件，如分区⽂件/dev/sda1就是这种⽂件</li>
<li><code>c</code>: 字符设备⽂件。这也是特殊设备⽂件，输⼊设备⼀般都是这种⽂件，如⿏标、键盘等</li>
<li><code>p</code>: 管道符⽂件。这是⼀种⾮常少⻅的特殊设备⽂件。</li>
<li><code>s</code>: 套接字⽂件。这也是⼀种特殊设备⽂件，⼀些服务⽀持socket访问就会产⽣这样的⽂件</li>
</ul>
</li>
<li><p>第2~4位：代表⽂件所属者的权限</p>
<ul>
<li><code>r</code>: 代表read，是读取权限</li>
<li><code>w</code>： 代表write，是写权限</li>
<li><code>x</code>: 代表execute，是执⾏权限</li>
</ul>
</li>
<li><p>第5~7位：代表⽂件所属组的权限，同样拥有 “rwx” 权限</p>
</li>
<li><p>第8~10位：代表⽂件其他⼈的权限，同样拥有 “rwx” 权限</p>
</li>
<li><p>第11位</p>
<ul>
<li><code>.</code>：如果是个点代表受 SELinux 安全上下⽂保护，这⾥忽略暂不做详细介绍</li>
<li><code>+</code>：如果是个加号表示设置了ACL权限</li>
</ul>
</li>
</ul>
<h4 id="权限含义解释"><a href="#权限含义解释" class="headerlink" title="权限含义解释"></a>权限含义解释</h4><p>读、写、执⾏权限对⽂件和⽬录的含义是不同的。</p>
<ul>
<li><p>权限对⽂件的作⽤</p>
<ul>
<li>**读(r)**：对⽂件有读权限，代表可以读取⽂件中的数据。如果把权限对应到命令上，那么⼀旦对⽂件有读权限，就可以对⽂件执⾏<br><code>cat</code> 、 <code>more</code> 、<code>less</code> 、<code>head</code> 、<code>tail</code> 等⽂件查看命令</li>
<li>**写(w)**：对⽂件有写权限，代表可以修改⽂件中的数据。如果把权限对应到命令上，那么⼀旦对⽂件有写权限，就可以对⽂件执⾏ <code>vim</code> 、<code>echo</code> 等修改⽂件数据的命令。注意：对⽂件有写权限，是不能删除⽂件本身的，只能修改⽂件中的数据，如果想要删除⽂件，则需要对⽂件的上级⽬录拥有写权限。</li>
<li>**执⾏(x)**：对⽂件有执⾏权限，代表⽂件可以运⾏。在Linux中，只要⽂件有执⾏权限，这个⽂件就是执⾏⽂件了，只是这个⽂件到底能不能正确执⾏，不仅需要看执⾏权限，还要看⽂件的代码是不是正确的语⾔代码</li>
</ul>
</li>
<li><p>权限对⽬录的作⽤</p>
<ul>
<li>**读(r)**：对⽬录有读权限，代表可以查看⽬录下的内容，也就是可以查看⽬录下有哪些⽂件和⼦⽬录。如果包权限对应到命令上，那么⼀旦对⽬录拥有了读权限，就可以在⽬录下执⾏ ls 命令查看⽬录下的内容了</li>
<li>**写(w)**：对⽬录有写权限，代表可以修改⽬录下的数据，也就是可以在⽬录中新建、删除、复制、剪贴⼦⽂件或⼦⽬录。如果把权限对应到命令上，那么⼀旦对⽬录拥有了写权限，就可以在⽬录下执⾏<code>touch</code> 、<code>rm</code> 、<code>cp</code> 、<code>mv</code> 等命令</li>
<li>**执⾏(x)**：⽬录是不能运⾏的，那么对⽬录拥有执⾏权限，代表可以进⼊⽬录。如果把权限对应到命令上，那么⼀旦对⽬录拥有了执⾏权限，就可以对⽬录执⾏ cd 命令进⼊⽬录</li>
</ul>
</li>
</ul>
<h4 id="权限设定"><a href="#权限设定" class="headerlink" title="权限设定"></a>权限设定</h4><h5 id="chmod-命令"><a href="#chmod-命令" class="headerlink" title="chmod 命令"></a>chmod 命令</h5><p>chmod 命令⽤来修改⽂件或⽬录的权限。</p>
<p>命令格式： <code>chmod [选项] 权限模式 ⽂件或⽬录</code></p>
<ul>
<li><p>选项：</p>
<ul>
<li><code>-R</code> ：递归设置权限，也就是给予⽬录中的所有⽂件和⼦⽬录设定权限</li>
<li><code>--reference=参考⽂件或⽬录</code> ：使⽤参考⽂件或参考⽬录的权限来设置⽬标⽂件或⽬录的权限</li>
</ul>
</li>
<li><p>权限模式 ：权限模式分为符号组合和⼋进制数组合</p>
</li>
<li><p>符号组合的格式是 <code>[ugoa][[+-=][permission]]</code> ，也就是 <code>[⽤户身份][[赋予⽅式][权限]]</code> 的格式。</p>
<ul>
<li><p>⽤户身份</p>
<ul>
<li><code>u</code> ：代表所有者(user)</li>
<li><code>g</code> ：代表所属组(group)</li>
<li><code>o</code> ：代表其他⼈(other)</li>
<li><code>a</code> ：代表全部身份(all)</li>
</ul>
</li>
<li><p>赋予⽅式</p>
<ul>
<li><p><code>+</code>：加⼊权限</p>
</li>
<li><p><code>-</code>：减去权限</p>
</li>
<li><p><code>=</code> ：设置权限</p>
</li>
</ul>
</li>
<li><p>权限</p>
<ul>
<li>r : 读取权限(read)</li>
<li>w : 写权限(write)</li>
<li>x : 执⾏权限(execute)</li>
</ul>
</li>
</ul>
</li>
<li><p>⼋进制数组合的格式是 [0-7][0-7][0-7] 三位数字组成(每⼀位数字都是权限之和)，第⼀位是所属者权限之和，第⼆位是所属组权限之和，第三位其他⼈权限之和</p>
<ul>
<li><p>r 读取权限对应的数字是 4</p>
</li>
<li><p>w 写权限对应的数字是 2</p>
</li>
<li><p>x 执⾏权限对应的数字是 1</p>
</li>
<li><p>例如读写权限 rw ⼋进制数表示 6</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">每⼀段中的内容都是⼀样的，分别限定：读（r<span class="token operator">=</span><span class="token number">4</span>）、写（w<span class="token operator">=</span><span class="token number">2</span>）、执⾏（x<span class="token operator">=</span><span class="token number">1</span>）
rwx <span class="token number">7</span> 具备所有权限<span class="token punctuation">(</span><span class="token number">421</span><span class="token punctuation">)</span>
rw- <span class="token number">6</span> 具备读写权限<span class="token punctuation">(</span><span class="token number">420</span><span class="token punctuation">)</span>
r-x <span class="token number">5</span> 具备读和执⾏权限<span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span>
r-- <span class="token number">4</span> 具备只读权限<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span>
<span class="token parameter variable">-wx</span> <span class="token number">3</span> 具备写和执⾏权限<span class="token punctuation">(</span>021<span class="token punctuation">)</span>
-w- <span class="token number">2</span> 具备写权限<span class="token punctuation">(</span>020<span class="token punctuation">)</span>
<span class="token parameter variable">--x</span> <span class="token number">1</span> 具备执⾏权限<span class="token punctuation">(</span>001<span class="token punctuation">)</span>
--- <span class="token number">0</span> 000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
</li>
</ul>
<h5 id="chown-命令"><a href="#chown-命令" class="headerlink" title="chown 命令"></a>chown 命令</h5><p>chown 命令⽤来修改⽂件和⽬录的所有者和所属组。</p>
<p>命令格式： <code>chown [选项] 所有者[:所属组] ⽂件或⽬录</code></p>
<ul>
<li>选项：<ul>
<li><code>-R</code> ：递归修改⽬录下所有的⽂件及⼦⽬录的所属者和所属组</li>
<li><code>--reference=参考⽂件或⽬录</code> ：使⽤参考⽂件或参考⽬录的所属者和所属组来设置⽬标⽂件或⽬录的所属者和所属组</li>
</ul>
</li>
<li>所有者[:所属组] ：当省略 “ :所属组 “，仅改变⽂件所属者</li>
</ul>
<blockquote>
<p>注意：普通⽤户不能修改⽂件的所属者和所属组，哪怕⾃⼰是这个⽂件的所属者也不⾏。普通⽤户可以修改所属者是⾃⼰的⽂件权限</p>
</blockquote>
<h2 id="Linux磁盘管理"><a href="#Linux磁盘管理" class="headerlink" title="Linux磁盘管理"></a>Linux磁盘管理</h2><h3 id="查看磁盘指令"><a href="#查看磁盘指令" class="headerlink" title="查看磁盘指令"></a>查看磁盘指令</h3><h4 id="df命令"><a href="#df命令" class="headerlink" title="df命令"></a>df命令</h4><p>df命令：检查⽂件系统的磁盘空间占⽤情况。可以利⽤该命令来获取硬盘被占⽤了多少空间，⽬前还剩下多少空间等信息。</p>
<p><code>df [-ahikHTm] [⽬录或⽂件名]</code></p>
<ul>
<li>选项：<ul>
<li><code>-a</code> ：列出所有的⽂件系统，包括系统特有的 /proc 等⽂件系统；</li>
<li><code>-k</code> ：以 KBytes 的容量显示各⽂件系统；</li>
<li><code>-m</code> ：以 MBytes 的容量显示各⽂件系统；</li>
<li><code>-h</code> ：以⼈们较易阅读的 GBytes, MBytes, KBytes 等格式⾃⾏显示；</li>
<li><code>-H</code> ：以 M=1000K 取代 M=1024K 的进位⽅式；</li>
<li><code>-T</code> ：显示⽂件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；</li>
<li><code>-i</code> ：不⽤硬盘容量，⽽以 inode 的数量来显示</li>
</ul>
</li>
</ul>
<h4 id="du命令"><a href="#du命令" class="headerlink" title="du命令"></a>du命令</h4><p>使⽤du命令查看⼀个或多个⽂件占⽤了多⼤的硬盘空间。</p>
<p><code>du [选项] [⽂件或⽬录]</code></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作⽤</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>human-readable，已⼈类可读的⽅式显示单位（K、M、G等）</td>
</tr>
<tr>
<td>-s</td>
<td>summarize，仅显示后边参数的总数</td>
</tr>
</tbody></table>
<h2 id="Linux进程管理"><a href="#Linux进程管理" class="headerlink" title="Linux进程管理"></a>Linux进程管理</h2><h3 id="查看正在运⾏的进程-ps"><a href="#查看正在运⾏的进程-ps" class="headerlink" title="查看正在运⾏的进程 ps"></a>查看正在运⾏的进程 ps</h3><p>ps 命令是最常⽤的监控进程的命令，通过此命令可以查看系统中所有运⾏进程的详细信息。</p>
<p>ps 命令的基本格式如下</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux #查看系统中所有的进程，使⽤ BS 操作系统格式</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps -le #查看系统中所有的进程，使⽤ Linux 标准命令格式</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>选项：<ul>
<li><code>a</code>：显示⼀个终端的所有进程；</li>
<li><code>u</code>：显示进程的归属⽤户及内存的使⽤情况；</li>
<li><code>x</code>：显示没有控制终端的进程；</li>
<li><code>-l</code>：⻓格式显示更加详细的信息；</li>
<li><code>-e</code>：显示所有进程；</li>
</ul>
</li>
</ul>
<p>可以看到，ps 命令有些与众不同，它的部分选项不能加⼊”-“，⽐如命令”ps aux”，其中”aux”是选项，但是前⾯不能带“-”</p>
<p>建议⼤家记忆⼏个固定选项即可。⽐如：</p>
<ul>
<li><code>ps aux</code> 可以查看系统中所有的进程；</li>
<li><code>ps -le</code> 可以查看系统中所有的进程，⽽且还能看到进程的⽗进程的 PID 和进程优先级；</li>
<li><code>ps -l</code> 只能看到当前 Shell 产⽣的进程；</li>
</ul>
<h3 id="实时监听正在运⾏进程-top"><a href="#实时监听正在运⾏进程-top" class="headerlink" title="实时监听正在运⾏进程 top"></a>实时监听正在运⾏进程 top</h3><p>ps 命令可以⼀次性给出当前系统中进程状态，但使⽤此⽅式得到的信息缺乏时效性，并且，如果管理员需要实时监控进程运⾏情况，就必须不停地执⾏ ps 命令，这显然是缺乏效率的。</p>
<p>top 命令可以动态地持续监听进程地运⾏状态，与此同时，该命令还提供了⼀个交互界⾯，⽤户可以根据需要，⼈性化地定制⾃⼰的输出，进⽽更清楚地了进程的运⾏状态。</p>
<p>top 命令格式</p>
<p><code>top [选项]</code></p>
<ul>
<li><p>选项：</p>
<ul>
<li><code>-d 秒数</code>：指定 top 命令每隔⼏秒更新。默认是 3 秒；</li>
<li><code>-b</code>：使⽤批处理模式输出。⼀般和”-n”选项合⽤，⽤于把 top 命令重定向到⽂件中；</li>
<li><code>-n 次数</code>：指定 top 命令执⾏的次数。⼀般和”-“选项合⽤；</li>
<li><code>-p 进程PID</code>：仅查看指定 ID 的进程；</li>
<li><code>-s</code>：使 top 命令在安全模式中运⾏，避免在交互模式中出现错误；</li>
<li><code>-u ⽤户名</code>：只监听某个⽤户的进程；</li>
</ul>
</li>
<li><p>在 top 命令的显示窗⼝中，还可以使⽤如下按键，进⾏⼀下交互操作：</p>
<ul>
<li><code>? 或 h</code>：显示交互模式的帮助；</li>
<li><code>P</code>：按照 CPU 的使⽤率排序，默认就是此选项；</li>
<li><code>M</code>：按照内存的使⽤率排序；</li>
<li><code>N</code>：按照 PID 排序；</li>
<li><code>T</code>：按照 CPU 的累积运算时间排序，也就是按照 TIME+ 项排序；</li>
<li><code>k</code>：按照 PID 给予某个进程⼀个信号。⼀般⽤于中⽌某个进程，信号 9 是强制中⽌的信号；</li>
<li><code>r</code>：按照 PID 给某个进程重设优先级（Nice）值；</li>
<li><code>q</code>：退出 top 命令；</li>
</ul>
</li>
</ul>
<h3 id="查看进程数-pstree"><a href="#查看进程数-pstree" class="headerlink" title="查看进程数 pstree"></a>查看进程数 pstree</h3><p>pstree 命令是以树形结构显示程序和进程之间的关系。</p>
<p>其优点在于您可以⽴即找出某进程的⽗进程：当您想要终⽌整个进程系列⽽且其中存在了许许多多的下属分⽀进程，您只需终⽌最上层的进程即可。</p>
<p>基本格式如下 <code>pstree [选项] [PID或⽤户名]</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token parameter variable">-y</span> <span class="token function">install</span> psmisc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>常⽤选项以及各⾃的含义</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示启动每个进程对应的完整指令，包括启动进程的路径、参数等</td>
</tr>
<tr>
<td>-c</td>
<td>不使⽤精简法显示进程信息，即显示的进程中包含⼦进程和⽗进程</td>
</tr>
<tr>
<td>-n</td>
<td>根据进程 PID 号来排序输出，默认是以程序名排序输出的</td>
</tr>
<tr>
<td>-p</td>
<td>显示进程的 PID</td>
</tr>
<tr>
<td>-u</td>
<td>显示进程对应的⽤户名称</td>
</tr>
</tbody></table>
<p>需要注意的是，在使⽤ pstree 命令时，如果不指定进程的 PID 号，也不指定⽤户名称，则会以 init 进程为根进程，显示系统中所有程序和进程的信息；反之，若指定 PID 号或⽤户名，则将以 PID 或指定命令为根进程，显示 PID 或⽤户对应的所有程序和进程。</p>
<p>systemd 进程是系统启动的第⼀个进程，进程的 PID 是 1，也是系统中所有进程的⽗进程。</p>
<h3 id="列出进程调⽤或打开⽂件信息-lsof"><a href="#列出进程调⽤或打开⽂件信息-lsof" class="headerlink" title="列出进程调⽤或打开⽂件信息 lsof"></a>列出进程调⽤或打开⽂件信息 lsof</h3><p>lsof 命令，“list opened files”的缩写，直译过来，就是列举系统中已经被打开的⽂件。通过 lsof 命令，我们就可以根据⽂件找到对应的进程信息，也可以根据进程信息找到进程打开的⽂件。</p>
<p>lsof 命令的基本格式如下：<code>lsof [选项]</code></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-c 字符串</td>
<td>只列出以字符串开头的进程打开的⽂件</td>
</tr>
<tr>
<td>+d ⽬录名</td>
<td>列出某个⽬录中所有被进程调⽤的⽂件</td>
</tr>
<tr>
<td>+D ⽬录名</td>
<td>同上，但是会搜索⽬录下的所有⽬录，时间相对较⻓</td>
</tr>
<tr>
<td>-u ⽤户名</td>
<td>只列出某个⽤户的进程打开的⽂件</td>
</tr>
<tr>
<td>-p pid</td>
<td>列出某个 PID 进程打开的⽂件</td>
</tr>
</tbody></table>
<h2 id="Linux服务管理"><a href="#Linux服务管理" class="headerlink" title="Linux服务管理"></a>Linux服务管理</h2><h3 id="Linux系统服务概述"><a href="#Linux系统服务概述" class="headerlink" title="Linux系统服务概述"></a>Linux系统服务概述</h3><p>服务就是常驻内存中的程序，可以提供⼀些系统或⽹路等功能，这就是服务。</p>
<p>服务也是⼀种程序，但它是⼀种⽐较特殊的程序，服务是在系统后台运⾏、并等待⽤户或其它软件调⽤的⼀类特殊程序。我们通过执⾏命令所打开的进程⼤都属于是交互式进程，如果不采⽤nohup进⾏处理，那么这些进程基本上都是与终端相关，只要将进程所在的终端关闭，那么这些进程也就⾃动终⽌了。但是服务则不同，我们⽆论在哪个终端上运⾏了⼀个服务，这个服务所产⽣的进程都与终端⽆关，也就是说，将终端关闭之后，这些服务进程仍然会在系统后台⾃动运⾏。</p>
<p>计算机中的系统服务很多，⽐如：</p>
<ul>
<li>apache提供的服务；</li>
<li>ftp提供⽂件上传服务；</li>
<li>ssh提供了远程连接服务；</li>
<li>防⽕墙提供了安全防护服务。</li>
</ul>
<h3 id="守护进程"><a href="#守护进程" class="headerlink" title="守护进程"></a>守护进程</h3><p>Linux服务器的主要任务就是为本地或远程⽤户提供各种服务。通常 Linux系统上提供服务的程序是由运⾏在后台的守护进程( Daemon)来执⾏。⼀个实际运⾏中的Linux系统⼀般会有多个这样的程序在运⾏。这些后台守护进程在系统开机后就运⾏了,并且在时刻地监听前台客户地服务请求,⼀旦客户发出了服务请求,守护进程便为它们提供服务。</p>
<h3 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h3><p>在 Linux 中，⽆论何时当你安装任何带有服务和守护进程的包，系统默认会把这些服务的初始化及 systemd 脚本添加进去，不过此时它们并没有被启⽤。</p>
<h4 id="Linux-系统中最常⽤的三个初始化系统"><a href="#Linux-系统中最常⽤的三个初始化系统" class="headerlink" title="Linux 系统中最常⽤的三个初始化系统"></a>Linux 系统中最常⽤的三个初始化系统</h4><ul>
<li>System V（Sys V）<ul>
<li>System V（Sys V）是类Unix系统第⼀个也是传统的初始化系统</li>
</ul>
</li>
<li>Upstart<ul>
<li>Upstart 是⼀个基于事件的/sbin/init守护进程的替代品，它在系统启动过程中处理任务和服务的启动，在系统运⾏期间监视它们，在系统关机的时候关闭它们</li>
</ul>
</li>
<li>systemd<ul>
<li>systemd是⼀个新的初始化系统和系统管理器，它被⽤于所有主要的 Linux发⾏版，以取代传统的SysV初始化系统</li>
</ul>
</li>
</ul>
<h4 id="Systemctl和service、chkconfig命令的关系"><a href="#Systemctl和service、chkconfig命令的关系" class="headerlink" title="Systemctl和service、chkconfig命令的关系"></a>Systemctl和service、chkconfig命令的关系</h4><ul>
<li><code>systemctl</code>命令 ：是⼀个systemd⼯具，主要负责控制systemd系统和服务管理器。</li>
<li><code>service</code>命令 ：可以启动、停⽌、重新启动和关闭系统服务，还可以显示所有系统服务的当前状态。</li>
<li><code>chkconfig</code>命令 ：是管理系统服务(service)的命令⾏⼯具。所谓系统服务(service)，就是随系统启动⽽启动，随系统关闭⽽关闭的程序。</li>
</ul>
<p>systemctl命令是系统服务管理器指令，它实际上将 service 和 chkconfig 这两个命令组合到⼀起。</p>
<h4 id="常⽤命令"><a href="#常⽤命令" class="headerlink" title="常⽤命令"></a>常⽤命令</h4><h5 id="service"><a href="#service" class="headerlink" title="service"></a>service</h5><p>service命令⽤于对系统服务进⾏管理，⽐如启动（start）、停⽌（stop）、重启（restart）、查看状态（status）等。 相关的命令还包括chkconfig、ntsysv等，chkconfig⽤于查看、设置服务的运⾏级别，ntsysv⽤于直观⽅便的设置各个服务是否⾃动启动。 service命令本身是⼀个shell脚本，它在/etc/init.d/⽬录查找指定的服务脚本，然后调⽤该服务脚本来完成任务。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查看所有服务当前的运⾏状态</span>
<span class="token function">service</span> --status-all

<span class="token comment"># 查看指定服务（vsftpd）的运⾏状态</span>
<span class="token function">service</span> vsftpd status

<span class="token comment"># 停⽌指定服务（vsftpd）</span>
<span class="token function">service</span> vsftpd stop

<span class="token comment"># 重启⽹络服务</span>
<span class="token function">service</span> network restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="chkconfig"><a href="#chkconfig" class="headerlink" title="chkconfig"></a>chkconfig</h5><p>chkconfig 实⽤程序是⼀个命令⾏⼯具，chkconfig命令主要⽤来更新（启动或停⽌）和查询系统服务的运⾏级信息，它还允许我们从启动中启⽤或禁⽤服务。前提是你有超级管理员权限（ root 或者sudo ）运⾏这个命令。</p>
<p>所有的服务脚本位于 /etc/init.d ⽂件中</p>
<h5 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h5><p>systemctl 是系统服务管理器命令，它实际上将 service 和 chkconfig 这两个命令组合到⼀起，在CentOS 7就开始被使⽤了。</p>
<p>systemd 核⼼概念 unit （单元）类型： unit 表示不同类型的 systemd 对象，通过配置⽂件进⾏标识和配置； ⽂件中主要包含了 系统服务 、监听socket 、 保存的系统快照 以及其它与init相关的信息</p>
<p>下⾯为unit类型 ：</p>
<ul>
<li><p>service ：⽂件扩展名为 .service , ⽤于定义系统服务</p>
</li>
<li><p>target ：⽂件扩展名为.target ，⽤于模拟实现运⾏级别</p>
</li>
<li><p>device ：⽤于定义内核识别的设备</p>
</li>
<li><p>mount ：定义⽂件系统挂载点</p>
</li>
<li><p>socket ：⽤于标识进程间通信⽤的socket⽂件，也可在系统启动时，延迟启动服务</p>
</li>
<li><p>snapshot ：管理系统快照</p>
</li>
<li><p>swap ：⽤于标识swap设备</p>
</li>
<li><p>automount ：⽂件系统的⾃动挂载点</p>
</li>
<li><p>path ：⽤于定义⽂件系统中的⼀个⽂件或⽬录使⽤,常⽤于当⽂件系统变化时，延迟激活服务</p>
</li>
</ul>
<p>如何查看这些类型呢?</p>
<p>可以使⽤-t 加上类型去查看，以service 为例</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl <span class="token parameter variable">-t</span> <span class="token function">service</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>systemctl指令的常规⽤法</p>
</blockquote>
<table>
<thead>
<tr>
<th>systemctl命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>systemctl start [unit type]</td>
<td>启动服务</td>
</tr>
<tr>
<td>systemctl stop [unit type]</td>
<td>停⽌服务</td>
</tr>
<tr>
<td>systemctl restart [unit type]</td>
<td>重启服务</td>
</tr>
<tr>
<td>systemctl status[unit type]</td>
<td>服务状态</td>
</tr>
<tr>
<td>systemctl reload[unit type]</td>
<td>重新加载</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#启动⽹络服务</span>
systemctl start network.service

<span class="token comment">#停⽌⽹络服务</span>
systemctl stop network.service

<span class="token comment">#重启⽹络服务</span>
systemctl restart network.service

<span class="token comment">#查看⽹络服务状态</span>
systemctl status network.serivce<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>设置开机启动/不启动</p>
</blockquote>
<table>
<thead>
<tr>
<th>systemctl命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>systemctl enable [unit type]</td>
<td>设置服务开机启动</td>
</tr>
<tr>
<td>systemctl disable [unit type]</td>
<td>设备服务禁⽌开机启动</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#禁⽌cups服务开机启动</span>
systemctl disable network.service

<span class="token comment">#查看cups服务状态</span>
systemctl status network.service

<span class="token comment">#重新设置⽹络服务开机启动</span>
systemctl <span class="token builtin class-name">enable</span> network.service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>与开关机相关的其他命令</p>
</blockquote>
<table>
<thead>
<tr>
<th>systemctl命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>systemctl poweroff</td>
<td>系统关机</td>
</tr>
<tr>
<td>systemctl reboot</td>
<td>重新启动</td>
</tr>
<tr>
<td>systemctl suspend</td>
<td>进⼊睡眠模式</td>
</tr>
<tr>
<td>systemctl hibernate</td>
<td>进⼊休眠模式</td>
</tr>
<tr>
<td>systemctl rescue</td>
<td>强制进⼊救援模式</td>
</tr>
<tr>
<td>systemctl emergency</td>
<td>强制进⼊紧急救援模式</td>
</tr>
</tbody></table>
<blockquote>
<p>关闭防⽕墙firewall</p>
</blockquote>
<p>Centos 7.x 中取消了iptables, ⽤firewall取⽽代之。要关闭防⽕墙并禁⽌开机启动服务使⽤下⾯的命令:</p>
<table>
<thead>
<tr>
<th>systemctl命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>systemctl enable firewalld.service</td>
<td>设置开机启⽤防⽕墙</td>
</tr>
<tr>
<td>systemctl disable firewalld.service</td>
<td>设置开机禁⽤防⽕墙</td>
</tr>
<tr>
<td>systemctl start firewalld</td>
<td>启动防⽕墙</td>
</tr>
<tr>
<td>systemctl stop firewalld</td>
<td>关闭防⽕墙</td>
</tr>
<tr>
<td>systemctl status firewalld</td>
<td>检查防⽕墙状态</td>
</tr>
</tbody></table>
<h4 id="Linux源码包服务管理"><a href="#Linux源码包服务管理" class="headerlink" title="Linux源码包服务管理"></a>Linux源码包服务管理</h4><p>源码包 是开源的，⽐RPM包安装更⾃由，但是它安装更慢，更容易报错.源码包服务中所有的⽂件都会安装到指定⽬录当中，所以服务的管理脚本程序也会安装到指定⽬录中。源码包服务的启动管理⽅式就是在服务的安装⽬录中找到管理脚本，然后执⾏这个脚本。我们可以査看每个服务的说明⽂档 （⼀般是 INSTALL或 READEM），在这个说明⽂档中会明确地告诉⼤家服务的启动脚本是哪个⽂件。</p>
<h5 id="源码包服务被服务管理命令识别"><a href="#源码包服务被服务管理命令识别" class="headerlink" title="源码包服务被服务管理命令识别"></a>源码包服务被服务管理命令识别</h5><p>在默认情况下，源码包服务是不能被系统的服务管理命令所识别和管理的，但是如果我们做⼀些设定，则也是可以让源码包服务被系统的服务管理命令所识别和管理的。</p>
<p>Centos 系统服务脚本⽬录 /usr/lib/systemd/ 下有系统（system）和⽤户（user）之分。如需要开机没有登陆情况下就能运⾏的程序，则保存在系统服务/usr/lib/systemd/system/下，如果需要⽤户登录后才能运⾏的程序，则保存在⽤户/usr/lib/systemd/user/ 下。服务以.service结尾。</p>
<blockquote>
<p>以mysql 为例</p>
</blockquote>
<p>1.建⽴服务⽂件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /lib/systemd/system/mysql.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>2.编辑内容如下</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>mysql
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target remote-fs.target nss-lookup.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/local/mysql/support-files/mysql.server start
<span class="token comment">#ExecReload=/usr/local/mysql/support-files/mysql.server</span>
restart
<span class="token comment">#ExecStop=/usr/local/mysql/support-files/mysql.server stop</span>
<span class="token comment">#PrivateTmp=true</span>

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>说明：</p>
<ul>
<li><p>Unit :服务的说明</p>
</li>
<li><p>Description:描述服务</p>
</li>
<li><p>After:描述服务类别</p>
</li>
<li><p>[Service]服务运⾏参数的设置</p>
</li>
<li><p>Type=forking是后台运⾏的形式</p>
</li>
<li><p>ExecStart为服务的具体运⾏命令</p>
</li>
<li><p>ExecReload为重启命令</p>
</li>
<li><p>ExecStop为停⽌命令</p>
</li>
<li><p>PrivateTmp=True表示给服务分配独⽴的临时空间</p>
</li>
<li><p>Install服务安装的相关设置，可设置为多⽤户</p>
</li>
</ul>
<p>注意：Service的启动、重启、停⽌命令全部要求使⽤绝对路径</p>
<p>把服务添加到linux系统的⾃启动服务列表中去,使⽤命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl <span class="token builtin class-name">enable</span> mysql.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>查看是否添加成功，使⽤命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl status mysql.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="Linux软件包管理器"><a href="#Linux软件包管理器" class="headerlink" title="Linux软件包管理器"></a>Linux软件包管理器</h2><h3 id="rpm软件包管理器"><a href="#rpm软件包管理器" class="headerlink" title="rpm软件包管理器"></a>rpm软件包管理器</h3><p>通过 rpm命令 实现对软件 的安装、查询、卸载</p>
<p>RPM 是Red-Hat Package Manager（RPM软件包管理器）的缩写</p>
<p>虽然 打上了 red-hat 的标记, 但是理念开放, 很多发⾏版都采⽤, 已经成为⾏业标准</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>英⽂</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-q</td>
<td>query</td>
<td>查询</td>
</tr>
<tr>
<td>-a</td>
<td>all</td>
<td>所有</td>
</tr>
<tr>
<td>-i</td>
<td>info</td>
<td>信息</td>
</tr>
<tr>
<td>-l</td>
<td>list</td>
<td>显示所有相关⽂件</td>
</tr>
<tr>
<td>-f</td>
<td>file</td>
<td>⽂件, 显示⽂件对应 rpm 包</td>
</tr>
</tbody></table>
<h4 id="rpm包的查询命令"><a href="#rpm包的查询命令" class="headerlink" title="rpm包的查询命令"></a>rpm包的查询命令</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查询已安装的rpm列表</span>
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> XXX
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">less</span>

<span class="token comment"># 查询软件包信息</span>
<span class="token function">rpm</span> <span class="token parameter variable">-qi</span> 软件全包名

<span class="token comment"># 查看⼀个rpm包中的⽂件安装到那⾥去了？</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ql</span> 软件全包名

<span class="token comment"># 查看指定⽂件归属于那个软件包</span>
<span class="token function">rpm</span> <span class="token parameter variable">-qf</span> ⽂件的全路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="rpm包的卸载"><a href="#rpm包的卸载" class="headerlink" title="rpm包的卸载"></a>rpm包的卸载</h4><table>
<thead>
<tr>
<th>命令</th>
<th>英⽂</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>rpm -e 软件包名称</td>
<td>erase清除</td>
<td>卸载rpm软件包</td>
</tr>
<tr>
<td>rpm -e –nodeps 软件包名称</td>
<td>Don’t check dependencies</td>
<td>卸载前 跳过 依赖检查</td>
</tr>
</tbody></table>
<h4 id="rpm包的安装"><a href="#rpm包的安装" class="headerlink" title="rpm包的安装"></a>rpm包的安装</h4><table>
<thead>
<tr>
<th>命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>rpm -ivh rpm包的全路径</td>
<td>安装 rpm 包</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>参数</th>
<th>英⽂</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-i</td>
<td>install</td>
<td>安装</td>
</tr>
<tr>
<td>-v</td>
<td>verbose</td>
<td>打印提示信息</td>
</tr>
<tr>
<td>-h</td>
<td>hase</td>
<td>显示安装进度</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 1 查询</span>
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> rpm包

<span class="token comment"># 2 卸载</span>
<span class="token function">rpm</span> <span class="token parameter variable">-e</span> rpm全包名
<span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> rpm全包名

<span class="token comment"># 3 安装</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> rpm包的全路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="yum软件包管理器"><a href="#yum软件包管理器" class="headerlink" title="yum软件包管理器"></a>yum软件包管理器</h3><p>yum 是⼀个交互式的、基于 rpm 的包管理器，是⼀种联⽹安装软件的⽅式。它可以安装软件、卸载软件、查询软件、更新软件以及系统、⾃动解决rpm包依赖问题</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230121124434208.png" alt="image-20230121124434208"></p>
<h4 id="更新yum源"><a href="#更新yum源" class="headerlink" title="更新yum源"></a>更新yum源</h4><p>备份旧的软件源配置⽂件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 防⽌新的软件源⽂件⽆法使⽤，导致系统⽆法安装软件，需要提前备份软件源配置⽂件，操作配置⽂件前备份是⼀个好的习惯。</span>
<span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS￾Base.repo.backup<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>下载软件源配置⽂件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> <span class="token parameter variable">-O</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>yum软件源更新</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum clean all
yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="yum中指令-必须联⽹"><a href="#yum中指令-必须联⽹" class="headerlink" title="yum中指令(必须联⽹)"></a>yum中指令(<strong>必须联⽹</strong>)</h4><table>
<thead>
<tr>
<th>命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>yum list | grep 需要的软件名</td>
<td>yum list显示所有已经安装和可以安装的程序包</td>
</tr>
<tr>
<td>yum -y install 需要的软件包</td>
<td>下载安装</td>
</tr>
<tr>
<td>yum -y remove 需要卸载的软件包</td>
<td>卸载</td>
</tr>
<tr>
<td>yum repolist</td>
<td>列出设定yum源信息</td>
</tr>
<tr>
<td>yum clean all</td>
<td>清除yum缓存信息</td>
</tr>
</tbody></table>
<h3 id="安装httpd软件"><a href="#安装httpd软件" class="headerlink" title="安装httpd软件"></a>安装httpd软件</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 安装httpd</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> httpd
<span class="token comment"># 启动 httpd 服务</span>
systemctl start httpd
<span class="token comment"># 测试</span>
http://192.168.80.100:80
<span class="token comment"># 注意：关闭防⽕墙</span>
systemctl stop firewalld <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Shell编程"><a href="#Shell编程" class="headerlink" title="Shell编程"></a>Shell编程</h2><h3 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h3><p>Shell 是⼀个⽤ C 语⾔编写的程序，通过 Shell ⽤户可以访问操作系统内核服务。</p>
<p>Shell 既是⼀种命令语⾔，⼜是⼀种程序设计语⾔。</p>
<p>Shell 是指⼀种应⽤程序，这个应⽤程序提供了⼀个界⾯，⽤户通过这个界⾯访问操作系统内核的服务。</p>
<p>Shell 脚本（shell script），是⼀种为 shell 编写的脚本程序。</p>
<blockquote>
<p>业界所说的 shell 通常都是指 shell 脚本，⼤家要知道，shell 和 shell script 是两个不同的概念。由于习惯的原因，简洁起⻅，本⽂出现的 “shell编程” 都是指 shell脚本编程，不是指开发 shell ⾃身。</p>
</blockquote>
<h4 id="编写脚本"><a href="#编写脚本" class="headerlink" title="编写脚本"></a>编写脚本</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">'hello world'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>#! 告诉系统其后路径所指定的程序即是解释此脚本⽂件的 Shell 程序。</p>
<p>echo 命令⽤于向窗⼝输出⽂本。</p>
</blockquote>
<h4 id="执⾏shell脚本"><a href="#执⾏shell脚本" class="headerlink" title="执⾏shell脚本"></a>执⾏shell脚本</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@centos7-1 shell<span class="token punctuation">]</span><span class="token comment"># /bin/sh hello.sh</span>
hello world
<span class="token punctuation">[</span>root@centos7-1 shell<span class="token punctuation">]</span><span class="token comment"># /bin/bash hello.sh</span>
hello world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>sh 是 bash 的 快捷⽅式</p>
</blockquote>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h4><p>在shell脚本中, 定义变量时，变量名不加美元符号（$），如：<code>username="tom"</code></p>
<p>注意 : 变量名和等号之间不能有空格，这可能和你熟悉的所有编程语⾔都不⼀样。</p>
<p>同时，变量名的命名须遵循如下规则：</p>
<ul>
<li>命名只能使⽤英⽂字⺟，数字和下划线，⾸个字符不能以数字开头。</li>
<li>中间不能有空格，可以使⽤下划线（_）。</li>
<li>不能使⽤标点符号。</li>
<li>不能使⽤bash⾥的关键字（可⽤help命令查看保留关键字）。</li>
</ul>
<h4 id="使⽤变量"><a href="#使⽤变量" class="headerlink" title="使⽤变量"></a>使⽤变量</h4><p>使⽤⼀个定义过的变量，只要在变量名前⾯加美元符号即可，如：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">"tom"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${your_name}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>变量名外⾯加花括号是可选的, 添加花括号是帮助解释器识别变量边界</p>
</blockquote>
<h4 id="使⽤语句给变量赋值"><a href="#使⽤语句给变量赋值" class="headerlink" title="使⽤语句给变量赋值"></a>使⽤语句给变量赋值</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token function">file</span> <span class="token keyword">in</span><span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> /etc<span class="token variable">`</span></span>

<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> /etc<span class="token variable">)</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>以上语句是将/etc下⽬录的⽂件名循环出来</p>
<h4 id="只读变量"><a href="#只读变量" class="headerlink" title="只读变量"></a>只读变量</h4><p>使⽤readyonly命令可以将变量定义为只读变量, 只读变量的值不能被改变</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">readonly</span> 变量名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">username</span><span class="token operator">=</span>tom
<span class="token builtin class-name">readonly</span> username
<span class="token assign-left variable">username</span><span class="token operator">=</span>jack 报错 /bin/sh: NAME: This variable is <span class="token builtin class-name">read</span> only.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="删除变量"><a href="#删除变量" class="headerlink" title="删除变量"></a>删除变量</h4><p>使⽤unset命令可以删除变量</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">unset</span> variable_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>注意:unset命令不能删除只读变量</p>
</blockquote>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>字符串是shell编程中最常⽤最有⽤的数据类型（除了数字和字符串，也没啥其它类型好⽤了），字符串可以⽤单引号，也可以⽤双引号，也可以不⽤引号。</p>
<h5 id="单引号"><a href="#单引号" class="headerlink" title="单引号"></a>单引号</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">skill</span><span class="token operator">=</span><span class="token string">'java'</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">'I am goot at $skill'</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$str</span>

<span class="token comment"># 输出结果为：</span>
I am goot at <span class="token variable">$skill</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>单引号字符串的限制：</p>
<ul>
<li>单引号⾥的任何字符都会原样输出，单引号字符串中的变量是⽆效的；</li>
<li>单引号字串中不能出现单独⼀个的单引号（对单引号使⽤转义符后也不⾏）</li>
</ul>
<h5 id="双引号"><a href="#双引号" class="headerlink" title="双引号"></a>双引号</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">skill</span><span class="token operator">=</span><span class="token string">'java'</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">"I am good at <span class="token variable">$skill</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$str</span>

<span class="token comment"># 输出结果为：</span>
I am good at <span class="token function">java</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>双引号的优点：</p>
<ul>
<li>双引号⾥可以有变量</li>
<li>双引号⾥可以出现转义字符</li>
</ul>
<h5 id="获取字符串⻓度"><a href="#获取字符串⻓度" class="headerlink" title="获取字符串⻓度"></a>获取字符串⻓度</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">skill</span><span class="token operator">=</span><span class="token string">'java'</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${skill}</span> <span class="token comment"># 输出结果: java</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>skill}</span> <span class="token comment"># 输出结果: 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="提取⼦字符串"><a href="#提取⼦字符串" class="headerlink" title="提取⼦字符串"></a>提取⼦字符串</h5><p>从字符串第2个字符开始截取4个字符</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">"i like java"</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${str<span class="token operator">:</span>2}</span>   <span class="token comment">#substring(2)</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${str<span class="token operator">:</span>2<span class="token operator">:</span>2}</span> <span class="token comment">#substring(2,2)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="查找⼦字符串"><a href="#查找⼦字符串" class="headerlink" title="查找⼦字符串"></a>查找⼦字符串</h5><p>查找字符o在那个位置(最先出现的字符)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">"java is so easy"</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">"<span class="token variable">$str</span>"</span> o<span class="token variable">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>找的时候是从1开始查找</p>
</blockquote>
<h4 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h4><p>以 <code>#</code> 开头的⾏就是注释，会被解释器忽略。通过每⼀⾏加⼀个 <code>#</code> 号设置多⾏注释</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#--------------------------------------------</span>
<span class="token comment"># 这是⼀个注释</span>
<span class="token comment"># author：强哥</span>
<span class="token comment">#--------------------------------------------</span>
<span class="token comment">##### ⽤户配置区 开始 #####</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment"># 这⾥可以添加脚本描述信息</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment">##### ⽤户配置区 结束 #####</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="多⾏注释"><a href="#多⾏注释" class="headerlink" title="多⾏注释"></a>多⾏注释</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">:<span class="token operator">&lt;&lt;</span><span class="token string">EOF
注释内容...
注释内容...
注释内容...
EOF</span>

<span class="token comment"># EOF 也可以使⽤其他符号</span>
:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>数组中可以存放多个值。Bash Shell 只⽀持<strong>⼀维数组</strong>（不⽀持多维数组），初始化时不需要定义数组⼤⼩。</p>
<p>与⼤部分编程语⾔类似，数组元素的下标由 0 开始。Shell 数组⽤括号来表示，元素⽤”空格”符号分割开。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 定义数组⽅式1</span>
<span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>value1 value2 <span class="token punctuation">..</span>. valuen<span class="token punctuation">)</span>

<span class="token comment"># 定义数组⽅式2</span>
array_name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>value0
array_name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>value1
array_name<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>value2

<span class="token comment"># 读取数组格式</span>
<span class="token variable">${array_name<span class="token punctuation">[</span>index<span class="token punctuation">]</span>}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>定义数组，并获取数组中内容</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">my_array</span><span class="token operator">=</span><span class="token punctuation">(</span>A B <span class="token string">"C"</span> D<span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第⼀个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第⼆个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第三个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第四个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>3<span class="token punctuation">]</span>}</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="获取数组中所有元素"><a href="#获取数组中所有元素" class="headerlink" title="获取数组中所有元素"></a>获取数组中所有元素</h5><p>使⽤<code>@</code> 或 <code>*</code> 可以获取数组中的所有元素</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">my_array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>A
my_array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>B
my_array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>C
my_array<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>D
<span class="token builtin class-name">echo</span> <span class="token string">"数组的元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"数组的元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="获取数组的⻓度"><a href="#获取数组的⻓度" class="headerlink" title="获取数组的⻓度"></a>获取数组的⻓度</h5><p>获取数组⻓度的⽅法与获取字符串⻓度的⽅法相同</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">my_array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>A
my_array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>B
my_array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>C
my_array<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>D
<span class="token builtin class-name">echo</span> <span class="token string">"数组元素个数为: <span class="token variable">${<span class="token operator">#</span>my_array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"数组元素个数为: <span class="token variable">${<span class="token operator">#</span>my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h4><p>我们可以在执⾏ Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：<code>$n</code>。n 代表⼀个数字，1 为执⾏脚本的第⼀个参数，2 为执⾏脚本的第⼆个参数。</p>
<p>以下实例我们向脚本传递三个参数，并分别输出，其中 <code>$0</code> 为执⾏的⽂件名（包含⽂件路径）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"Shell 传递参数实例！"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"执⾏的⽂件名：<span class="token variable">$0</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第⼀个参数为：<span class="token variable">$1</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第⼆个参数为：<span class="token variable">$2</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第三个参数为：<span class="token variable">$3</span>"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>为脚本设置可执⾏权限，并执⾏脚本，输出结果如下所示为脚本设置可执⾏权限，并执⾏脚本，输出结果如下所示</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> +x test.sh
./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token comment"># Shell 传递参数实例！</span>
<span class="token comment"># 执⾏的⽂件名：./test.sh</span>
<span class="token comment"># 第⼀个参数为：1</span>
<span class="token comment"># 第⼆个参数为：2</span>
<span class="token comment"># 第三个参数为：3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>还有⼏个特殊字符⽤来处理参数</p>
<table>
<thead>
<tr>
<th>参数处理</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>$#</td>
<td>传递到脚本的参数个数</td>
</tr>
<tr>
<td>$$</td>
<td>脚本运⾏的当前进程ID号</td>
</tr>
<tr>
<td>$!</td>
<td>后台运⾏的最后⼀个进程的ID号</td>
</tr>
<tr>
<td>$-</td>
<td>显示Shell使⽤的当前选项，与set命令功能相同。</td>
</tr>
<tr>
<td>$?</td>
<td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"Shell 传递参数实例！"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第⼀个参数为：<span class="token variable">$1</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"参数个数为：<span class="token variable">$#</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"传递的参数作为⼀个字符串显示：<span class="token variable">$*</span>"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> +x test.sh
./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token comment"># Shell 传递参数实例！</span>
<span class="token comment"># 第⼀个参数为：1</span>
<span class="token comment"># 参数个数为：3</span>
<span class="token comment"># 传递的参数作为⼀个字符串显示：1 2 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p>Shell 和其他编程语⾔⼀样，⽀持多种运算符，今天我们主要学习两类运算符：</p>
<ul>
<li>算数运算符</li>
<li>关系运算符</li>
</ul>
<p>原⽣bash不⽀持简单的数学运算，但是可以通过其他命令来实现,⽐如：<strong>expr</strong> 是⼀款表达式计算⼯具，使⽤它能完成表达式的求值操作。</p>
<p><strong>两个数相加(注意使⽤的是反引号 ` ⽽不是单引号’)</strong></p>
<blockquote>
<p>1）表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的⼤多数编程语⾔不⼀样。</p>
<p>2）完整的表达式要被 `` 包含，注意这个字符不是常⽤的单引号，在 Esc 键下边。</p>
</blockquote>
<h5 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h5><table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加法</td>
<td><code>expr $a + $b</code> 结果为30。</td>
</tr>
<tr>
<td>-</td>
<td>减法</td>
<td><code>expr $a - $b </code>结果为-10。</td>
</tr>
<tr>
<td>*</td>
<td>乘法</td>
<td><code>expr $a /* $b</code> 结果为200。</td>
</tr>
<tr>
<td>/</td>
<td>除法</td>
<td><code>expr $b / $a</code> 结果为2。</td>
</tr>
<tr>
<td>%</td>
<td>取余</td>
<td><code>expr $b % $a</code> 结果为0。</td>
</tr>
<tr>
<td>=</td>
<td>赋值</td>
<td><code>$a = $b</code>把变量 b 的值赋给 a。</td>
</tr>
<tr>
<td>==</td>
<td>相等</td>
<td><code>[ $a == $b ]</code>⽤于⽐较两个数字，相同则返回true。</td>
</tr>
<tr>
<td>!=</td>
<td>不相等</td>
<td><code>[ $a != $b ]</code>⽤于⽐较两个数字，不相同则返回 true。</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：条件表达式要放在⽅括号之间，并且要有空格，例如: <code>[$a==$b]</code> 是错误的，必须写成<code>[ $a == $b ]</code> 。</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">4</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token comment">#加法运算</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span>

<span class="token comment">#减法运算</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span>

<span class="token comment">#乘法运算，注意*号前⾯需要反斜杠</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span>

<span class="token comment">#除法运算</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a / $b<span class="token variable">`</span></span>
此外，还可以通过<span class="token variable"><span class="token punctuation">((</span><span class="token punctuation">))</span>、$<span class="token punctuation">((</span><span class="token punctuation">))</span></span>、$<span class="token punctuation">[</span><span class="token punctuation">]</span>进⾏算术运算。
<span class="token variable"><span class="token punctuation">((</span>a<span class="token operator">++</span><span class="token punctuation">))</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>

<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">+</span> b<span class="token variable">))</span></span>
<span class="token assign-left variable">d</span><span class="token operator">=</span>$<span class="token punctuation">[</span>a + b<span class="token punctuation">]</span>

<span class="token builtin class-name">echo</span> <span class="token string">"c = <span class="token variable">$c</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"d = <span class="token variable">$d</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h5><p>关系运算符<strong>只⽀持数字</strong>，<strong>不⽀持字符串</strong>，<strong>除⾮字符串的值是数字</strong>。</p>
<p>下表列出了常⽤的关系运算符，假定变量 a 为 10，变量 b 为 20：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>举例举例</th>
</tr>
</thead>
<tbody><tr>
<td>-eq</td>
<td>检测两个数是否相等，相等返回 true。</td>
<td>[ a -eq b ] 返回false。</td>
</tr>
<tr>
<td>-ne</td>
<td>检测两个数是否不相等，不相等返回 true。</td>
<td>[ a -ne b ] 返回true。</td>
</tr>
<tr>
<td>-gt</td>
<td>检测左边的数是否⼤于右边的，如果是，则返回true。</td>
<td>[ a -gt b ] 返回false。</td>
</tr>
<tr>
<td>-lt</td>
<td>检测左边的数是否⼩于右边的，如果是，则返回true。</td>
<td>[ a -lt b ] 返回true。</td>
</tr>
<tr>
<td>-ge</td>
<td>检测左边的数是否⼤于等于右边的，如果是，则返回 true。</td>
<td>[ a -ge b ] 返回false。</td>
</tr>
<tr>
<td>-le</td>
<td>检测左边的数是否⼩于等于右边的，如果是，则返回 true。</td>
<td>[ a -le b ] 返回true。</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-eq</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> -eq <span class="token variable">$b</span> : a 等于 b"</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> -eq <span class="token variable">$b</span>: a 不等于 b"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="echo命令"><a href="#echo命令" class="headerlink" title="echo命令"></a>echo命令</h3><p>Shell 的 echo 是⽤于字符串的输出。命令格式：<code>echo string</code></p>
<p>使⽤echo实现更复杂的输出格式控制</p>
<p>1.显示普通字符串:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"It is a test"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这⾥的双引号完全可以省略，以下命令与上⾯实例效果⼀致：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> It is a <span class="token builtin class-name">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>2.显示转义字符</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&quot;">\"</span>It is a test<span class="token entity" title="\&quot;">\"</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>结果将是:</p>
<p>同样，双引号也可以省略</p>
<p>3.显示变量</p>
<p>read 命令从标准输⼊中读取⼀⾏,并把输⼊⾏的每个字段的值指定给 shell 变量</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">read</span> name
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$name</span> It is a test"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>以上代码保存为 test.sh，name 接收标准输⼊的变量，结果将是:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># sh test.sh</span>
OK <span class="token comment">#标准输⼊</span>
OK It is a <span class="token builtin class-name">test</span> <span class="token comment">#输出</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>4.显示换⾏</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"OK! <span class="token entity" title="\n">\n</span>"</span> <span class="token comment"># -e 开启转义</span>
<span class="token builtin class-name">echo</span> <span class="token string">"It is a test"</span>

<span class="token comment"># --------------------</span>
OK<span class="token operator">!</span>

It is a <span class="token builtin class-name">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>5.显示不换⾏</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"OK! <span class="token entity" title="\c">\c</span>"</span> <span class="token comment"># -e 开启转义 \c 不换⾏</span>
<span class="token builtin class-name">echo</span> <span class="token string">"It is a test"</span>

<span class="token comment"># -----------------</span>
OK<span class="token operator">!</span> It is a <span class="token builtin class-name">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>6.显示结果定向⾄⽂件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"It is a test"</span> <span class="token operator">&gt;</span> myfile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>7.原样输出字符串，不进⾏转义或取变量(⽤单引号)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'$name\"'</span>

<span class="token comment"># --------------</span>
<span class="token variable">$name</span><span class="token punctuation">\</span>"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="test-命令"><a href="#test-命令" class="headerlink" title="test 命令"></a>test 命令</h3><p>Shell中的 test 命令⽤于检查某个条件是否成⽴，它可以进⾏数值、字符和⽂件三个⽅⾯的测试。</p>
<p>1.数值测试</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-eq</td>
<td>等于则为真</td>
</tr>
<tr>
<td>-ne</td>
<td>不等于则为真</td>
</tr>
<tr>
<td>-gt</td>
<td>⼤于则为真</td>
</tr>
<tr>
<td>-ge</td>
<td>⼤于等于则为真</td>
</tr>
<tr>
<td>-lt</td>
<td>⼩于则为真</td>
</tr>
<tr>
<td>-le</td>
<td>⼩于等于则为真</td>
</tr>
</tbody></table>
<h3 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h3><h4 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
 command1
 command2
 <span class="token punctuation">..</span>.
 commandN
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="if…else…语句"><a href="#if…else…语句" class="headerlink" title="if…else…语句"></a>if…else…语句</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
 command1
 command2
 <span class="token punctuation">..</span>.
 commandN
<span class="token keyword">else</span>
 <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="if-elif-else"><a href="#if-elif-else" class="headerlink" title="if..elif..else"></a>if..elif..else</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">if</span> condition1
<span class="token keyword">then</span>
 command1
<span class="token keyword">elif</span> condition2
<span class="token keyword">then</span>
 command2
<span class="token keyword">else</span>
 commandN
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>测试</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token comment"># 需求1: 判断 a 是否 100</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">&gt;</span> <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> ⼤于 100"</span>
<span class="token keyword">fi</span>
<span class="token comment"># 需求2: 判断 a 是否等于 b</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-eq</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 等于 <span class="token variable">$b</span>"</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 不等于 <span class="token variable">$b</span>"</span>
<span class="token keyword">fi</span>
<span class="token comment"># 需求3: 判断 a 与 b ⽐较</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> ⼩于 <span class="token variable">$b</span>"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-eq</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 等于 <span class="token variable">$b</span>"</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> ⼤于 <span class="token variable">$b</span>"</span>
<span class="token keyword">fi</span>
<span class="token comment"># 需求4: 判断 (a + 10) 和 (b * b) ⽐较⼤⼩</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span> a + <span class="token number">10</span> <span class="token punctuation">]</span> <span class="token parameter variable">-gt</span> $<span class="token punctuation">[</span> b * b <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"(a+10) ⼤于 (b * b)"</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"(a+10) ⼩于或等于 (b*b)"</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">variable</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
    <span class="token builtin class-name">command</span>
    <span class="token punctuation">..</span>.
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当变量值在列表⾥，for 循环即执⾏⼀次所有命令，使⽤变量名获取列表中的当前取值。命令可为任何有效的 shell 命令和语句。in 列表可以包含字符串和⽂件名。</p>
<p>in列表是可选的，如果不⽤它，for循环使⽤命令⾏的位置参数。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> for_test.sh
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 需求1: 遍历 1~5</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
<span class="token keyword">done</span>
<span class="token comment"># 需求2: 遍历 1~100</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>
<span class="token comment"># 需求3: 遍历 1~100之间的奇数</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">100</span><span class="token punctuation">..</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>
<span class="token comment"># 需求4: 遍历 根⽬录 下的内容</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">f</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> /<span class="token variable">`</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$f</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h4><p>while循环⽤于不断执⾏⼀系列命令，也⽤于从输⼊⽂件中读取数据；命令通常为测试条件。其格式为</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">while</span> condition<span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token builtin class-name">command</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token parameter variable">-le</span> <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token assign-left variable">sum</span><span class="token operator">=</span>$<span class="token punctuation">[</span> <span class="token function">sum</span> + i<span class="token punctuation">]</span> 
	<span class="token assign-left variable">i</span><span class="token operator">=</span>$<span class="token punctuation">[</span> i + <span class="token number">1</span> <span class="token punctuation">]</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token variable">$sum</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="case"><a href="#case" class="headerlink" title="case"></a>case</h4><p>case … esac 为多选择语句，与其他语⾔中的 switch … case 语句类似，是⼀种多分⽀选择结构，每个 case 分⽀⽤<strong>右圆括号</strong>开始，⽤两个分号 <code>;;</code> 表示 break，即执⾏结束，跳出整个 case … esac 语句，<code>esac（就是 case 反过来）作为结束标记</code>。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">case</span> 值 <span class="token keyword">in</span>
	模式1<span class="token punctuation">)</span>
        command1
        command2
        <span class="token punctuation">..</span>.
        commandN
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
	模式2<span class="token punctuation">)</span>
        command1
        command2
        <span class="token punctuation">..</span>.
        commandN
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>case ⼯作⽅式如上所示，取值后⾯必须为单词 in，每⼀模式必须以右括号结束。取值可以为变量或常数，匹配发现取值符合某⼀模式后，其间所有命令开始执⾏直⾄ <code>;;</code>。</p>
<p>取值将检测匹配的每⼀个模式。⼀旦模式匹配，则执⾏完匹配模式相应命令后不再继续其他模式。如果⽆⼀匹配模式，使⽤ <code>*</code>号捕获该值，再执⾏后⾯的命令。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'输⼊ 1 到 4 之间的数字:'</span>
<span class="token builtin class-name">read</span> aNum
<span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
    <span class="token number">1</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 1'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">2</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 2'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">3</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 3'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">4</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 4'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">'你没有输⼊ 1 到 4 之间的数字'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="跳出循环"><a href="#跳出循环" class="headerlink" title="跳出循环"></a>跳出循环</h4><p>在循环过程中，有时候需要在未达到循环结束条件时强制跳出循环，Shell使⽤两个命令来实现该功能：<code>break</code>和<code>continue</code>。</p>
<h5 id="break"><a href="#break" class="headerlink" title="break"></a>break</h5><p>break命令允许跳出所有循环（终⽌执⾏后⾯的所有循环）。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 需求: 执⾏死循环 每隔1秒打印当前时间, 执⾏10次停⽌</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token function">sleep</span> <span class="token number">1</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +<span class="token string">"%Y-%m-%d %H:%M:%S"</span><span class="token variable">`</span></span>
    <span class="token assign-left variable">i</span><span class="token operator">=</span>$<span class="token punctuation">[</span> i + <span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token parameter variable">-eq</span> <span class="token number">10</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
		<span class="token builtin class-name">break</span>
	<span class="token keyword">fi</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h5><p>continue命令与break命令类似，只有⼀点差别，它不会跳出所有循环，仅仅跳出当前循环。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 需求: 打印 1~30, 注意 跳过3的倍数</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span> i % <span class="token number">3</span> <span class="token punctuation">]</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">continue</span>
    <span class="token keyword">fi</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="函数使⽤"><a href="#函数使⽤" class="headerlink" title="函数使⽤"></a>函数使⽤</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> <span class="token function-name function">funname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    action<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。参数返回，可以显示加：return 返回，如果不加，将以最后⼀条命令运⾏结<br>果，作为返回值。 return后跟数值n(0-255)。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function-name function">demoFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"这是我的第⼀个 shell 函数!"</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"-----函数开始执⾏-----"</span>
demoFun
<span class="token builtin class-name">echo</span> <span class="token string">"-----函数执⾏完毕-----"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function-name function">funWithReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"这个函数会对输⼊的两个数字进⾏相加运算..."</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"输⼊第⼀个数字: "</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token builtin class-name">echo</span> <span class="token string">"输⼊第⼆个数字: "</span>
    <span class="token builtin class-name">read</span> anotherNum
	<span class="token builtin class-name">echo</span> <span class="token string">"两个数字分别为 <span class="token variable">$aNum</span> 和 <span class="token variable">$anotherNum</span> !"</span>
	<span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$aNum<span class="token operator">+</span>$anotherNum<span class="token variable">))</span></span>
<span class="token punctuation">}</span>
funWithReturn
<span class="token builtin class-name">echo</span> <span class="token string">"输⼊的两个数字之和为 <span class="token variable">$?</span> !"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="传递参数给函数"><a href="#传递参数给函数" class="headerlink" title="传递参数给函数"></a>传递参数给函数</h4><p>在Shell中，调⽤函数时可以向其传递参数。在函数体内部，通过<code>$n</code>的形式来获取参数的值。<code>$1</code>表示第⼀个参数，<code>$2</code>表示第⼆个参数…<br>带参数的函数示例：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function-name function">funWithParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第⼀个参数为 <span class="token variable">$1</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第⼆个参数为 <span class="token variable">$2</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第⼗个参数为 <span class="token variable">$10</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第⼗个参数为 <span class="token variable">${10}</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第⼗⼀个参数为 <span class="token variable">${11}</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"参数总数有 <span class="token variable">$#</span> 个!"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"作为⼀个字符串输出所有参数 <span class="token variable">$*</span> !"</span>
<span class="token punctuation">}</span>
funWithParam <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Linux集群搭建"><a href="#Linux集群搭建" class="headerlink" title="Linux集群搭建"></a>Linux集群搭建</h2><h3 id="克隆节点"><a href="#克隆节点" class="headerlink" title="克隆节点"></a>克隆节点</h3><h3 id="配置克隆后机器"><a href="#配置克隆后机器" class="headerlink" title="配置克隆后机器"></a>配置克隆后机器</h3><ol>
<li>⽹络配置⽂件 ifcfg-ens33 的 ip 地址</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vi</span> /etc/sysconfig/network-scripts/ifcfg-ens33<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230121154723254.png" alt="image-20230121154723254"></p>
<ol start="2">
<li>重启⽹卡服务器</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol start="3">
<li>检查ip地址是否更变</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ip</span> addr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230121154810330.png" alt="image-20230121154810330"></p>
<ol start="4">
<li>hostname主机名，不要跟源克隆机⼀致</li>
</ol>
<p>查看主机名命令 <code>hostnamectl</code></p>
<p>更改主机名 <code>hostnamectl set-hostname xxx</code></p>
<p>重启机器 <code>reboot</code></p>
<h3 id="关闭selinux"><a href="#关闭selinux" class="headerlink" title="关闭selinux"></a>关闭selinux</h3><p>安全增强型 Linux（Security-Enhanced Linux）简称 SELinux，它是⼀个 Linux 内核模块，也是 Linux 的⼀个安全⼦系统。</p>
<p>linux操作系统中默认开启 SELinux也处于启动状态，⼀般状态为enforing。致使很多服务端⼝默认是关闭的。所以好多服务初学者明明配置⽂件正确，等验证时有时连ping也ping不通或者导致SSH连接异常。</p>
<h4 id="如何关闭"><a href="#如何关闭" class="headerlink" title="如何关闭"></a>如何关闭</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vi</span> /etc/selinux/config<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>将⽂件中的SELINUX=”” 为 disabled ，然后重启。</p>
</blockquote>
<h3 id="ssh-安全外壳协议"><a href="#ssh-安全外壳协议" class="headerlink" title="ssh 安全外壳协议"></a>ssh 安全外壳协议</h3><p>SSH 叫安全外壳协议（Secure Shell），是⼀种加密的⽹络传输协议，可在不安全的⽹络中⽹络服务提供安全的传输环境。它通过在⽹络中创建安全隧道来实现 SSH 客户端和服务器之间的连接。</p>
<p>SSH 主要⽤于远程登录。假定你要以⽤户名 user ，登录远程主机host ，只要⼀条简单命令就可以了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ssh</span> user@host<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果本地⽤户名与远程⽤户名⼀致，登录时可以省略⽤户名。<code>ssh host</code></p>
<p>SSH 的默认端⼝是22，也就是说，你的登录请求会送进远程主机的22端⼝。使⽤p参数，可以修改这个端⼝。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> <span class="token parameter variable">-p</span> <span class="token number">2222</span> user@host<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>上⾯这条命令表示， ssh 直接连接远程主机的 2222 端⼝</p>
<h4 id="ssh⼯作原理"><a href="#ssh⼯作原理" class="headerlink" title="ssh⼯作原理"></a>ssh⼯作原理</h4><p>SSH的安全性⽐较好，其对数据进⾏加密的⽅式主要有两种：对称加密（密钥加密）和 ⾮对称加密（公钥加密） 。</p>
<h5 id="对称加密"><a href="#对称加密" class="headerlink" title="对称加密"></a>对称加密</h5><p>加密解密使⽤的是同⼀套秘钥。Client端把密钥加密后发送给Server端，Server⽤同⼀套密钥解密。对称加密的加密强度⽐较⾼，很难破解,但是，Client数量庞⼤，很难保证密钥不泄漏。如果有⼀个Client端的密钥泄漏，那么整个系统的安全性就存在严重的漏洞。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230121155254083.png" alt="image-20230121155254083"></p>
<h5 id="⾮对称加密"><a href="#⾮对称加密" class="headerlink" title="⾮对称加密"></a>⾮对称加密</h5><p>由于对称加密的这个弊端，产⽣了⾮对称加密，⾮对称加密中有两个密钥：公钥和私钥。公钥由私钥产⽣，但却⽆法推算出私钥；公钥加密后的密⽂，只能通过对应的私钥来解密。</p>
<blockquote>
<p>⾮对称加密的登录流程</p>
</blockquote>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230121155329417.png" alt="image-20230121155329417"></p>
<p>初始状态：client 终端要登录 Server 服务器，发起连接请求<code>ssh work@server.com</code></p>
<ol>
<li><p>服务端运⾏有 ssh 服务，并持续监听22 号端⼝，因此可以⽣成⼀对公钥和私钥；此时将公钥返回给客户端</p>
</li>
<li><p>客户端使⽤公钥，对登录密码进⾏加密，（如服务器work ⽤户密码为 xxx ），⽣成公钥加密字符串</p>
</li>
<li><p>客户端将公钥加密字符串发送给服务端</p>
</li>
<li><p>服务端使⽤私钥，解密公钥加密字符串，得到原始密码</p>
</li>
<li><p>校验密码是否合法（此为本机 work 密码）</p>
</li>
<li><p>返回登录结果给客户端：成功登录或密码错误</p>
</li>
</ol>
<p>在⾮对称加密中，由于只有公钥会被传输，⽽私钥是服务端本地保存，因此即便公钥被监听，也⽆法拿到原始密码，从⽽登录服务器。</p>
<h4 id="ssh免密登录"><a href="#ssh免密登录" class="headerlink" title="ssh免密登录"></a>ssh免密登录</h4><p>ssh 提供⼀种免密登录的⽅式：公钥登录</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230121155507403.png" alt="image-20230121155507403"></p>
<ol>
<li><p>在客户端使⽤ ssh-keygen ⽣成⼀对密钥：公钥+私钥</p>
</li>
<li><p>将客户端公钥追加到服务端的 <strong>authorized_key</strong> ⽂件中，完成公钥认证操作</p>
</li>
<li><p>认证完成后，客户端向服务端发起登录请求，并传递公钥到服务端</p>
</li>
<li><p>服务端检索 authorized_key ⽂件，确认该公钥是否存在</p>
</li>
<li><p>如果存在该公钥，则⽣成随机数R ，并⽤公钥来进⾏加密，⽣成公钥加密字符串 pubKey(R)</p>
</li>
<li><p>将公钥加密字符串传递给客户端</p>
</li>
<li><p>客户端使⽤私钥解密公钥加密字符串，得到 R</p>
</li>
<li><p>服务端和客户端通信时会产⽣⼀个会话ID(sessionKey) ，⽤MD5 对R和 SessionKey 进⾏加密，⽣成摘要（即 MD5 加密字符串）</p>
</li>
<li><p>客户端将⽣成的 MD5 加密字符串传给服务端</p>
</li>
<li><p>服务端同样⽣成 MD5(R,SessionKey) 加密字符串</p>
</li>
<li><p>如果客户端传来的加密字符串等于服务端⾃身⽣成的加密字符串，则认证成功</p>
</li>
<li><p>此时不⽤输⼊密码，即完成建连，可以开始远程执⾏shell 命令了</p>
</li>
</ol>
<h5 id="实现免密登录"><a href="#实现免密登录" class="headerlink" title="实现免密登录"></a>实现免密登录</h5><ol>
<li>配置hostname与IP映射</li>
</ol>
<p>分别的在centos7-1 centos7-2 centos7-3中配置</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vi</span> /etc/hosts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/java-cheng-xu-yuan-bi-hui-de-linux/image-20230121160353383.png" alt="image-20230121160353383"></p>
<ol start="2">
<li>免密登录步骤</li>
</ol>
<p>第⼀步：在三台机器器执⾏⾏以下命令，⽣成公钥与私钥</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token comment"># 在centos7-1和centos7-2和centos7-3上⾯都要执⾏，产⽣公钥和私钥</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>第⼆步：将centos7-2和centos7-3的公钥拷⻉到centos7-1</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-copy-id centos7-1 <span class="token comment"># 在centos7-1 ,centos7-2和centos7-3上执⾏</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>第三步：再将centos7-1的公钥分发给centos7-2和centos7-3</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">scp</span> authorized_keys centos7-2:<span class="token environment constant">$PWD</span>
<span class="token function">scp</span> authorized_keys centos7-3:<span class="token environment constant">$PWD</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>第四步：使⽤ssh完成免密登录即可</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> centos7-2 <span class="token comment"># 其他节点登录centos7-2</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="../../../about" rel="external nofollow noreferrer">Codingqiang</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://nelsonwq.github.io">https://nelsonwq.github.io</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="../../../about" target="_blank">Codingqiang</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="../../../tags/Linux/">
                                    <span class="chip bg-color">Linux</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="../../../libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="qq,qzone,wechat" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="../../../libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="../../../medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="../../../medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="../http-xie-yi/">
                    <div class="card-image">
                        
                        
                        <img src="../../../medias/featureimages/5.jpg" class="responsive-img" alt="Http协议">
                        
                        <span class="card-title">Http协议</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-01-21
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="../../../categories/Http/" class="post-category">
                                    Http
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="../../../tags/Http/">
                        <span class="chip bg-color">Http</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="../nginx-ji-chu-zhi-shi/">
                    <div class="card-image">
                        
                        
                        <img src="../../../medias/featureimages/5.jpg" class="responsive-img" alt="Nginx基础知识">
                        
                        <span class="card-title">Nginx基础知识</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Nginx 是高性能的 HTTP 和反向代理的web服务器，处理高并发能力是十分强大的，能经受高负载的考验,有报告表明能支持高达 50000 个并发连接数。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-01-17
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="../../../categories/Nginx/" class="post-category">
                                    Nginx
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="../../../tags/Nginx/">
                        <span class="chip bg-color">Nginx</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Coding强<br />'
            + '文章作者: Codingqiang<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="../../../libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="../../../libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="../../../libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="../../../libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="../../../libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    <div class="container row center-align"
        style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
            <span id="year">2023</span>
            
            <span id="year">2023</span>
            <a href="../../../about" target="_blank">Codingqiang</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">267.8k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2023";
                    var startMonth = "1";
                    var startDate = "7";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
            <span id="icp"><img src="../../../medias/icp.png"
                    style="vertical-align: text-bottom;" />
                <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">皖ICP备2023005041号</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/nelsonwq" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2501551375@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2501551375" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2501551375" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>


</div>
    </div>
</footer>

<div class="progress-bar"></div>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('../../../search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>

    <!-- 白天和黑夜主题 -->
<div class="sum-moon-box">
    <a class="btn-floating btn-large waves-effect waves-light" onclick="switchNightMode()" title="切换主题">
        <i id="sum-moon-icon" class="fas fa-sun" style="width:48px; height:48px; font-size: 28px;"></i>
    </a>
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
            setTimeout(function () {
                $('body').hasClass('DarkMode') ?
                    ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon')
                        .removeClass("fa-sun").addClass('fa-moon')) :
                    ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon')
                        .addClass("fa-sun").removeClass('fa-moon')),

                    setTimeout(function () {
                        $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                            $(this).remove()
                        })
                    }, 2e3)
                setTimeout(function () {
                    window.location.reload();
                }, 1500)
            })

    }
</script>

    

    <script>
        /* 模式判断 */
        if (localStorage.getItem('isDark') === '1') {
            document.body.classList.add('DarkMode');
            $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')
        } else {
            document.body.classList.remove('DarkMode');
            $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')
        }
    </script>

    <script src="../../../libs/materialize/materialize.min.js"></script>
    <script src="../../../libs/masonry/masonry.pkgd.min.js"></script>
    <script src="../../../libs/aos/aos.js"></script>
    <script src="../../../libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="../../../libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="../../../js/matery.js"></script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="../../../libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="../../../libs/others/busuanzi.pure.mini.js"></script>
    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="../../../libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="../../../libs/background/ribbon-dynamic.js"
        async="async"></script>
    

    


        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(a){a.imageLazyLoadSetting.processImages=t;var i=a.imageLazyLoadSetting.isSPA,o=a.imageLazyLoadSetting.preloadRatio||1,r=c();function c(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){i&&(r=c());for(var t,e,n=0;n<r.length;n++)t=r[n],e=void 0,0<=(e=t.getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(a.innerHeight*o||document.documentElement.clientHeight*o)&&function(){var e=r[n];!function(t,e){if(t.hasAttribute("bg-lazy"))return t.removeAttribute("bg-lazy"),e&&e();var n=new Image,a=t.getAttribute("data-original");n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a)}(e,function(){r=r.filter(function(t){return e!==t}),a.imageLazyLoadSetting.onImageLoaded&&a.imageLazyLoadSetting.onImageLoaded(e)})}()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),a.addEventListener("resize",e),a.addEventListener("orientationchange",e)}(this);</script></body>

</html>