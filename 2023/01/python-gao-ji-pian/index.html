<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python高级篇, 软件工程 博客 算法 软件开发 Java">
    <meta name="description" content="学习博客 | 记录学习 | 记录生活 | 有道无术，术尚可求 有术无道，止于术">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Python高级篇 | Coding强</title>
    <link rel="icon" type="image/png" href="../../../favicon.png">

    <link rel="stylesheet" type="text/css" href="../../../libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="../../../css/matery.css">
    <link rel="stylesheet" type="text/css" href="../../../css/my.css">

    <script src="../../../libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>



<style>
    body{
       background-image: url(/medias/background.jpg);
       background-repeat:no-repeat;
       background-size:cover;
       background-attachment:fixed;
    }
</style>



    <style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loader页面消失采用渐隐的方式*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }

    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }

   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}


    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logo出现动画 */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1500); 
        },500);//强制显示loading page 1s  
    };
    loaded();
})()
</script>

 

<body>
    <div class="stars-con">
        <div id="stars"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>  
      </div>
  
    
        <div id="loading-container">
            <p class="loading-text">嘘~  正在从服务器偷取页面 . . . </p> 
            <div class="loading-image">
                <div></div>
                <div></div>
                <div></div>
                <div></div> 
                <div></div>
            </div>
        </div>
    

    <!-- 弹出文字 -->
    
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write(
                    '<script type="text/javascript" src="../../../libs/others/popupText.js"><\/script>'
                );
            }
        </script>
    

       <!-- 自定义标题 -->
       
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write(
                    '<script type="text/javascript" src="../../../libs/others/title.js"><\/script>'
                );
            }
        </script>
    

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="../../../index.html" class="waves-effect waves-light">
                    
                    <img src="../../../medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Coding强</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../index.html" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友链</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="../../../about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>自传</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="../../../medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Coding强</div>
        <div class="logo-desc">
            
            学习博客 | 记录学习 | 记录生活 | 有道无术，术尚可求 有术无道，止于术
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="../../../index.html" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友链
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="../../../about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			自传
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/nelsonwq" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/nelsonwq" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    

<div class="bg-cover pd-header post-cover" style="background-image: url('../../../medias/featureimages/11.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python高级篇</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="../../../libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="../../../tags/Python/">
                                <span class="chip bg-color">Python</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="../../../categories/Python/" class="post-category">
                                Python
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-01-30
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2023-03-12
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    20.8k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    81 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="../../../libs/prism/prism.css">
        

        
        <!-- 代码块折行 -->
        <style type="text/css">
            code[class*="language-"], pre[class*="language-"] { white-space: pre-wrap !important; }
        </style>
        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Python高级篇"><a href="#Python高级篇" class="headerlink" title="Python高级篇"></a>Python高级篇</h1><h2 id="函数的基本使用"><a href="#函数的基本使用" class="headerlink" title="函数的基本使用"></a>函数的基本使用</h2><h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><p>定义函数的格式如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>示例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义一个函数，能够完成打印信息的功能</span>
<span class="token keyword">def</span> <span class="token function">printInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'         人生苦短，我用Python'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h3><p>定义了函数之后，就相当于有了一个具有某些功能的代码，想要让这些代码能够执行，需要调用它</p>
<p>调用函数很简单的，通过 <strong>函数名()</strong> 即可完成调用</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义完函数后，函数是不会自动执行的，需要调用它才可以</span>
printInfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>函数定义好以后，函数体里的代码并不会执行，如果想要执行函数体里的内容，需要手动的调用函数。</li>
<li>每次调用函数时，函数都会从头开始执行，当这个函数中的代码执行完毕后，意味着调用结束了。</li>
<li>当然了如果函数中执行到了return也会结束函数。</li>
</ul>
<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><h4 id="定义、调用带有参数的函数"><a href="#定义、调用带有参数的函数" class="headerlink" title="定义、调用带有参数的函数"></a>定义、调用带有参数的函数</h4><p>定义一个add2num(a, b)函数，来计算任意两个数字之和:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add2num</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> a<span class="token operator">+</span>b
    <span class="token keyword">print</span> c

add2num<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span> <span class="token comment"># 调用带有参数的函数时，需要在小括号中，传递数据</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意点：</p>
<ul>
<li>在定义函数的时候，小括号里写等待赋值的变量名</li>
<li>在调用函数的时候，小括号里写真正要进行运算的数据</li>
</ul>
<p>调用带有参数函数的运行过程：</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0.gif" alt="img"></p>
<h4 id="调用函数时参数的顺序"><a href="#调用函数时参数的顺序" class="headerlink" title="调用函数时参数的顺序"></a>调用函数时参数的顺序</h4><p>位置参数需要写在关键字参数之前</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> test<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 位置参数</span>
<span class="token number">1</span> <span class="token number">2</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> test<span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>a<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 关键字参数</span>
<span class="token number">2</span> <span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> test<span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 关键字参数写在位置参数之前会导致出错</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span>
SyntaxError<span class="token punctuation">:</span> positional argument follows keyword argument<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<ul>
<li><strong>定义时</strong>小括号中的参数，用来接收参数用的，称为 “<strong>形参</strong>”</li>
<li><strong>调用时</strong>小括号中的参数，用来传递给函数用的，称为 “<strong>实参</strong>”</li>
</ul>
</blockquote>
<h3 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h3><p>所谓“返回值”，就是程序中函数完成一件事情后，最后给调用者的结果</p>
<p><strong>使用返回值的前提需求就是函数调用者想要在函数外使用计算结果</strong></p>
<h4 id="带有返回值的函数"><a href="#带有返回值的函数" class="headerlink" title="带有返回值的函数"></a>带有返回值的函数</h4><p>想要在函数中把结果返回给调用者，需要在函数中使用return</p>
<p>如下示例:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add2num</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> a<span class="token operator">+</span>b
    <span class="token keyword">return</span> c  <span class="token comment"># return 后可以写变量名</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>或者</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add2num</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b  <span class="token comment"># return 后可以写计算表达式</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="保存函数的返回值"><a href="#保存函数的返回值" class="headerlink" title="保存函数的返回值"></a>保存函数的返回值</h4><p>保存函数的返回值示例如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#定义函数</span>
<span class="token keyword">def</span> <span class="token function">add2num</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b

<span class="token comment">#调用函数，顺便保存函数的返回值</span>
result <span class="token operator">=</span> add2num<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">)</span>

<span class="token comment">#因为result已经保存了add2num的返回值，所以接下来就可以使用了</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>结果:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token number">198</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="函数的文档说明"><a href="#函数的文档说明" class="headerlink" title="函数的文档说明"></a>函数的文档说明</h3><h4 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token string">"用来完成对2个数求和"</span>  <span class="token comment"># 函数第一行写一个字符串作为函数文档</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token operator">%</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> test<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>  <span class="token comment"># 函数可以正常调用</span>
<span class="token number">33</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">help</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span>  <span class="token comment"># 使用 help 查看test函数的文档说明</span>
Help on function test <span class="token keyword">in</span> module __main__<span class="token punctuation">:</span>

test<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    用来完成对<span class="token number">2</span>个数求和<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用效果</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%87%BD%E6%95%B0%E8%AF%B4%E6%98%8E.png" alt="img"></p>
<h4 id="2-高级使用"><a href="#2-高级使用" class="headerlink" title="2.高级使用"></a>2.高级使用</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_info</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    接收用户的名字和年龄，拼接一个字符串并返回

    :param name: 接收一个名字
    :param age: 接收用户的年龄，必须是 0-200 间的一个整数
    :return: 返回拼接好的字符串
    """</span>
    <span class="token keyword">return</span> <span class="token string">"我的名字叫 %s，今年是 %d 岁"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>


get_info<span class="token punctuation">(</span><span class="token string">"吴彦祖"</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span>
get_info<span class="token punctuation">(</span><span class="token number">520</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span>  <span class="token comment"># 注意，形参上标注的类型只是提高代码的可读性，并不会限制实参的类型</span>
<span class="token builtin">help</span><span class="token punctuation">(</span>get_info<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用效果</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E.png" alt="img"></p>
<h3 id="函数的嵌套调用"><a href="#函数的嵌套调用" class="headerlink" title="函数的嵌套调用"></a>函数的嵌套调用</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">testB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---- testB start----'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这里是testB函数执行的代码...(省略)...'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---- testB end----'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">testA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---- testA start----'</span><span class="token punctuation">)</span>
    testB<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---- testA end----'</span><span class="token punctuation">)</span>

testA<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>结果：</p>
<pre class="line-numbers language-none"><code class="language-none">---- testA start----
---- testB start----
这里是testB函数执行的代码...(省略)...
---- testB end----
---- testA end----<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>一个函数里面又调用了另外一个函数，这就是所谓的函数嵌套调用</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0-1675063269088.png" alt="img"></p>
<p>如果函数A中，调用了另外一个函数B，那么先把函数B中的任务都执行完毕之后才会回到上次 函数A执行的位置</p>
<h3 id="函数高级"><a href="#函数高级" class="headerlink" title="函数高级"></a>函数高级</h3><h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h4><ul>
<li>局部变量，就是在函数内部定义的变量</li>
<li>其作用范围是这个函数内部，即只能在这个函数中使用，在函数的外部是不能使用的</li>
<li>因为其作用范围只是在自己的函数内部，所以不同的函数可以定义相同名字的局部变量（打个比方，把你、我是当做成函数，把局部变量理解为每个人手里的手机，你可有个iPhone8，我当然也可以有个iPhone8了， 互不相关）</li>
<li>局部变量的作用，为了临时保存数据需要在函数中定义变量来进行存储</li>
<li>当函数调用时，局部变量被创建，当函数调用完成后这个变量就不能够使用了</li>
</ul>
<p>如下图所示:</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F.png" alt="img"></p>
<h4 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h4><p>如果一个变量，既能在一个函数中使用，也能在其他的函数中使用，这样的变量就是全局变量</p>
<p>打个比方：有2个兄弟 各自都有手机，各自有自己的小秘密在手机里，不让另外一方使用（可以理解为局部变量）；但是家里的电话是2个兄弟都可以随便使用的（可以理解为全局变量）</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义全局变量</span>
a <span class="token operator">=</span> <span class="token number">100</span>

<span class="token keyword">def</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment"># 虽然没有定义变量a但是依然可以获取其数据</span>

<span class="token keyword">def</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment"># 虽然没有定义变量a但是依然可以获取其数据</span>

<span class="token comment"># 调用函数</span>
test1<span class="token punctuation">(</span><span class="token punctuation">)</span>
test2<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>在函数外边定义的变量叫做<code>全局变量</code></li>
<li>全局变量能够在所有的函数中进行访问</li>
</ul>
<h4 id="全局变量和局部变量名字相同问题"><a href="#全局变量和局部变量名字相同问题" class="headerlink" title="全局变量和局部变量名字相同问题"></a>全局变量和局部变量名字相同问题</h4><p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E5%92%8C%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E9%87%8D%E5%90%8D.png" alt="img"></p>
<p>当函数内出现局部变量和全局变量相同名字时，函数内部中的 <code>变量名 = 数据</code> 此时理解为定义了一个局部变量，而不是修改全局变量的值</p>
<h4 id="修改全局变量"><a href="#修改全局变量" class="headerlink" title="修改全局变量"></a>修改全局变量</h4><p>函数中进行使用时可否进行修改呢？</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E4%BF%AE%E6%94%B9%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F.png" alt="img"></p>
<ul>
<li>如果在函数中出现<code>global 全局变量的名字</code> 那么这个函数中即使出现和全局变量名相同的<code>变量名 = 数据</code> 也理解为对全局变量进行修改，而不是定义局部变量</li>
<li>如果在一个函数中需要对多个全局变量进行修改，那么可以一次性全部声明，也可以分开声明</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 可以使用一次global对多个全局变量进行声明</span>
<span class="token keyword">global</span> a<span class="token punctuation">,</span> b
<span class="token comment"># 还可以用多次global声明都是可以的</span>
<span class="token comment"># global a</span>
<span class="token comment"># global b</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="查看所有的全局变量和局部变量"><a href="#查看所有的全局变量和局部变量" class="headerlink" title="查看所有的全局变量和局部变量"></a>查看所有的全局变量和局部变量</h4><p>Python提供了两个内置函数<code>globals()</code>和<code>locals()</code>可以用来查看所有的全局变量和局部变量。</p>
<h4 id="函数返回值-1"><a href="#函数返回值-1" class="headerlink" title="函数返回值"></a>函数返回值</h4><p>在python中我们怎样返回多个值？</p>
<h5 id="多个return"><a href="#多个return" class="headerlink" title="多个return"></a>多个return</h5><ul>
<li>一个函数中可以有多个return语句，但是只要有一个return语句被执行到，那么这个函数就会结束了，因此后面的return没有什么用处</li>
<li>如果程序设计为如下，是可以的因为不同的场景下执行不同的return</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">create_nums</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---1---"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> num <span class="token operator">==</span> <span class="token number">100</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---2---"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> num<span class="token operator">+</span><span class="token number">1</span>  <span class="token comment"># 函数中下面的代码不会被执行，因为return除了能够将数据返回之外，还有一个隐藏的功能：结束函数</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---3---"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> num<span class="token operator">+</span><span class="token number">2</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---4---"</span><span class="token punctuation">)</span>

result1 <span class="token operator">=</span> create_nums<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span>  <span class="token comment"># 打印101</span>
result2 <span class="token operator">=</span> create_nums<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span>  <span class="token comment"># 打印202</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="一个函数返回多个数据的方式"><a href="#一个函数返回多个数据的方式" class="headerlink" title="一个函数返回多个数据的方式"></a>一个函数返回多个数据的方式</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">divid</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    shang <span class="token operator">=</span> a<span class="token operator">//</span>b
    yushu <span class="token operator">=</span> a<span class="token operator">%</span>b 
    <span class="token keyword">return</span> shang<span class="token punctuation">,</span> yushu  <span class="token comment">#默认是元组</span>

result <span class="token operator">=</span> divid<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment"># 输出(2, 1)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>return后面可以是元组，列表、字典等，只要是能够存储多个数据的类型，就可以一次性返回多个数据。</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># return [1, 2, 3]</span>
    <span class="token comment"># return (1, 2, 3)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">"num1"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"num2"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"num3"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>如果return后面有多个数据，那么默认是元组。</li>
</ul>
<h4 id="对返回的数据直接拆包"><a href="#对返回的数据直接拆包" class="headerlink" title="对返回的数据直接拆包"></a>对返回的数据直接拆包</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_my_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    high <span class="token operator">=</span> <span class="token number">178</span>
    weight <span class="token operator">=</span> <span class="token number">100</span>
    age <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token keyword">return</span> high<span class="token punctuation">,</span> weight<span class="token punctuation">,</span> age  <span class="token comment"># 函数返回三个数据，会自动打包为元组</span>

<span class="token comment"># result = get_my_info()  # result 接收到一个元组</span>
<span class="token comment"># print(result)</span>

my_high<span class="token punctuation">,</span> my_weight<span class="token punctuation">,</span> my_age <span class="token operator">=</span> get_my_info<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 直接把元组拆分为三个变量来使用，更加方便</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_high<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_weight<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_age<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>拆包时要注意，需要拆的数据的个数要与变量的个数相同，否则程序会异常</li>
<li>除了对元组拆包之外，还可以对列表、字典等拆包</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
In <span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a
Out<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">11</span>
In <span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b
Out<span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">22</span>

In <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span>
In <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a
Out<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">11</span>
In <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b
Out<span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">22</span>

In <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"m"</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">"n"</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">}</span>  <span class="token comment"># 取出来的是key，而不是键值对</span>
In <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a
Out<span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'m'</span>
In <span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b
Out<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'n'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="函数参数详解"><a href="#函数参数详解" class="headerlink" title="函数参数详解"></a>函数参数详解</h4><h5 id="一、缺省参数"><a href="#一、缺省参数" class="headerlink" title="一、缺省参数"></a>一、缺省参数</h5><p>调用函数时，缺省参数的值如果没有传入，则取默认值。</p>
<p>下例会打印默认的age，如果age没有被传入：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   	<span class="token comment"># 打印任何传入的字符串</span>
   	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"name: %s"</span> <span class="token operator">%</span> name<span class="token punctuation">)</span>
  	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"age %d"</span> <span class="token operator">%</span> age<span class="token punctuation">)</span>

<span class="token comment"># 调用printinfo函数</span>
printinfo<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"miki"</span><span class="token punctuation">)</span>  <span class="token comment"># 在函数执行过程中 age取默认值35</span>
printinfo<span class="token punctuation">(</span>age<span class="token operator">=</span><span class="token number">9</span> <span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"miki"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上实例输出结果：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">name<span class="token punctuation">:</span> miki
age<span class="token punctuation">:</span> <span class="token number">35</span>
name<span class="token punctuation">:</span> miki
age<span class="token punctuation">:</span> <span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>在形参中默认有值的参数，称之为缺省参数</li>
<li>注意：带有默认值的参数一定要位于参数列表的最后面</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">35</span><span class="token punctuation">,</span> sex<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span> name
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span>
    SyntaxError<span class="token punctuation">:</span> non<span class="token operator">-</span>default argument follows default argument<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="二、不定长参数"><a href="#二、不定长参数" class="headerlink" title="二、不定长参数"></a>二、不定长参数</h5><p>有时可能需要一个函数能处理比当初声明时更多的参数, 这些参数叫做不定长参数，声明时不会命名。</p>
<p>基本语法如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span><span class="token punctuation">[</span>formal_args<span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""函数_文档字符串"""</span>
    function_suite
    <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>加了星号<code>*</code>的变量args会存放所有未命名的变量参数，<strong>args为元组</strong></li>
<li>而加<code>**</code>的变量kwargs会存放命名参数，即形如key=value的参数， <code>kwargs为字典</code></li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token string">"函数在声明时，需要两个参数"</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a={},b={},args={},kwargs={}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>args<span class="token punctuation">,</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">)</span>

test<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'你好'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">,</span> <span class="token string">'how do you do'</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">)</span>
<span class="token comment"># a=2,b=3,args=('你好', 'hi', 'how do you do'),kwargs={'name': 'zhangsan', 'age': 18}</span>


b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span> <span class="token string">'大家好'</span><span class="token punctuation">,</span> <span class="token string">'今天天气真好'</span><span class="token punctuation">)</span>
d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span>

<span class="token comment"># 注意，在传入参数时的星号问题。</span>
test<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> <span class="token operator">**</span>d<span class="token punctuation">)</span> 
<span class="token comment"># a=10,b=20,args=('hi', '大家好', '今天天气真好'),kwargs={'name': 'zhangsan', 'age': 19}</span>


<span class="token comment"># 如果在传值时，不使用星号，会把后面的参数当做 args</span>
test<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>b<span class="token punctuation">,</span>d<span class="token punctuation">)</span>
<span class="token comment"># a=10,b=20,args=(('hi', '大家好', '今天天气真好'), {'name': 'zhangsan', 'age': 19}),kwargs={}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="三、缺省参数在-args后面"><a href="#三、缺省参数在-args后面" class="headerlink" title="三、缺省参数在*args后面"></a>三、缺省参数在*args后面</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_nums_3</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span>

sum_nums_3<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> mm<span class="token operator">=</span><span class="token number">800</span><span class="token punctuation">,</span> nn<span class="token operator">=</span><span class="token number">900</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>如果很多个值都是不定长参数，那么这种情况下，可以将缺省参数放到 <em>args的后面， 但如果有*<em>kwargs的话，kwargs必须是最后的</em></em></li>
</ul>
<h4 id="可变、不可变数据类型"><a href="#可变、不可变数据类型" class="headerlink" title="可变、不可变数据类型"></a>可变、不可变数据类型</h4><p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%8F%AF%E5%8F%98%E5%92%8C%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B.jpg" alt="img"></p>
<ul>
<li>所谓可变类型与不可变类型是指：数据能够直接进行修改，如果能直接修改那么就是可变，否则是不可变</li>
<li>可变类型(修改数据，内存地址不会发生变化)有： 列表、字典、集合</li>
<li>不可变类型(修改数据，内存地址必定发生变化)有： 数字、字符串、元组</li>
</ul>
<h2 id="函数的高级用法"><a href="#函数的高级用法" class="headerlink" title="函数的高级用法"></a>函数的高级用法</h2><h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><h4 id="什么是递归函数"><a href="#什么是递归函数" class="headerlink" title="什么是递归函数"></a>什么是递归函数</h4><p>通过前面的学习知道一个函数可以调用其他函数。</p>
<p>如果一个函数在内部不调用其它的函数，而是自己本身的话，这个函数就是递归函数。</p>
<h4 id="递归函数的作用"><a href="#递归函数的作用" class="headerlink" title="递归函数的作用"></a>递归函数的作用</h4><p>举个例子，我们来计算阶乘 <code>n! = 1 * 2 * 3 * ... * n</code></p>
<p>解决办法1:使用循环来完成</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">cal</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    result<span class="token punctuation">,</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">:</span>
        result <span class="token operator">*=</span> i
        i<span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> result

<span class="token keyword">print</span><span class="token punctuation">(</span>cal<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="看阶乘的规律"><a href="#看阶乘的规律" class="headerlink" title="看阶乘的规律"></a>看阶乘的规律</h5><pre class="line-numbers language-none"><code class="language-none">1! = 1
2! = 2 × 1 = 2 × 1!
3! = 3 × 2 × 1 = 3 × 2!
4! = 4 × 3 × 2 × 1 = 4 × 3!
...
n! = n × (n-1)!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>解决办法2:使用递归来实现</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">factorial</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    result <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">if</span> num <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    result <span class="token operator">=</span> num <span class="token operator">*</span> factorial<span class="token punctuation">(</span>num <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
<span class="token keyword">print</span><span class="token punctuation">(</span>cal<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>原理</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E9%98%B6%E4%B9%98.png" alt="阶乘递归原理"></p>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>用lambda关键词能创建小型匿名函数。这种函数得名于省略了用def声明函数的标准步骤。</p>
<p>lambda函数的语法<strong>只包含一个语句</strong>，如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">lambda</span> 参数列表<span class="token punctuation">:</span> 运算表达式<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如下实例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token keyword">lambda</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">:</span> arg1 <span class="token operator">+</span> arg2

<span class="token comment"># 调用sum函数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Value of total : %d"</span> <span class="token operator">%</span> <span class="token builtin">sum</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Value of total : %d"</span> <span class="token operator">%</span> <span class="token builtin">sum</span><span class="token punctuation">(</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上实例输出结果：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">Value of total <span class="token punctuation">:</span>  <span class="token number">30</span>
Value of total <span class="token punctuation">:</span>  <span class="token number">40</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>Lambda函数能接收任何数量的参数但只能返回一个表达式的值</p>
<p>匿名函数可以执行任意表达式(甚至print函数)，但是一般认为表达式应该有一个计算结果供返回使用。</p>
<p>python在编写一些执行脚本的时候可以使用lambda，这样可以接受定义函数的过程，比如写一个简单的脚本管理服务器。</p>
<h4 id="函数作为参数传递"><a href="#函数作为参数传递" class="headerlink" title="函数作为参数传递"></a>函数作为参数传递</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> opt<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a = "</span> <span class="token operator">%</span> a<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b = "</span> <span class="token operator">%</span> b<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"result ="</span> <span class="token operator">%</span> opt<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span>

add <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span>x<span class="token operator">+</span>y
fun<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> add<span class="token punctuation">)</span>  <span class="token comment"># 把 add 作为实参传递</span>

<span class="token comment">#------------</span>
a <span class="token operator">=</span> <span class="token number">1</span>
b <span class="token operator">=</span> <span class="token number">2</span>
result <span class="token operator">=</span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>练习:</p>
<p>有一个列表</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">students <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'score'</span><span class="token punctuation">:</span> <span class="token number">92</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'score'</span><span class="token punctuation">:</span> <span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'wangwu'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'score'</span><span class="token punctuation">:</span> <span class="token number">95</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'jerry'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token string">'score'</span><span class="token punctuation">:</span> <span class="token number">98</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'chris'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token string">'score'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>要求，对上述列表里的数据按照score进行升序排序。</p>
<p>Python中使用函数作为参数的内置函数和类:</p>
<table>
<thead>
<tr>
<th>函数名或类名</th>
<th>功能</th>
<th>参数描述</th>
</tr>
</thead>
<tbody><tr>
<td>sorted函数</td>
<td>用来将一个无序列表进行排序</td>
<td>函数参数的返回值规定按照元素的哪个属性进行排序</td>
</tr>
<tr>
<td>filter类</td>
<td>用来过滤一个列表里符合规定的所有元素，得到的结果是一个迭代器</td>
<td>函数参数的返回值指定元素满足的过滤条件</td>
</tr>
<tr>
<td>map类</td>
<td>将列表里的每一项数据都执行相同的操作，得到的结果是一个迭代器</td>
<td>函数参数用来指定列表里元素所执行的操作</td>
</tr>
<tr>
<td>reduce函数</td>
<td>对一个序列进行压缩运算，得到一个值。python3以后，这个方法被移到了functools模块</td>
<td>函数参数用来指定元素按照哪种方式合并</td>
</tr>
</tbody></table>
<h3 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h3><p>在Python中，函数其实也是一种数据类型。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'hello world'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'function'&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>函数对应的数据类型是 <code>function</code>,可以把它当做是一种复杂的数据类型。</p>
<p>既然同样都是一种数据类型，我们就可以把它当做数字或者字符串来处理。</p>
<h4 id="定义一个变量指向函数"><a href="#定义一个变量指向函数" class="headerlink" title="定义一个变量指向函数"></a>定义一个变量指向函数</h4><p>在Python中，我们还可以定义一个变量，让它来指向一个函数，相当于给函数起了一个别名。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'hello wrold'</span>

fun <span class="token operator">=</span> test   <span class="token comment"># 定义了一个变量fun,让它指向了 test 这个函数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>fun<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 使用fun()可以直接调用test这个函数</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 1819677672040</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 1819677672040</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意：在定义一个变量表示一个函数时，函数后面不能加括号！加括号表示的是调用这个函数。</p>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'hello world'</span>

result <span class="token operator">=</span> test<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 这种写法是调用test函数，并把函数的返回值赋值给result变量</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 这里会报错  TypeError: 'str' object is not callable</span>

fun <span class="token operator">=</span> test   <span class="token comment"># 这种写法是给test函数起了一个别名，注意，这里的test后面不能加()</span>
fun<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># 可以使用别名调用这个函数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，同样，我们还可以把一个函数当做另一个函数的返回值。</p>
<p>这种函数的使用方式我们称之为<strong>高阶函数</strong>。</p>
<h4 id="函数做为另一个函数的参数"><a href="#函数做为另一个函数的参数" class="headerlink" title="函数做为另一个函数的参数"></a>函数做为另一个函数的参数</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span>action<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> age <span class="token operator">&lt;</span> <span class="token number">18</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'您还没满十八岁，请退出'</span><span class="token punctuation">)</span>
    action<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 把参数action直接当做一个函数来调用</span>

<span class="token keyword">def</span> <span class="token function">smoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我已经年满十八岁了，我想抽烟'</span><span class="token punctuation">)</span>

my_action <span class="token operator">=</span> smoke  <span class="token comment"># 定义一个变量my_action，让它指向smoke函数</span>
test<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span> my_action<span class="token punctuation">)</span>  <span class="token comment"># 将my_action传给 test 函数作为它的参数</span>

test<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span>smoke<span class="token punctuation">)</span>  <span class="token comment"># 还可以不再定义一个新的变量，直接传入函数名</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="函数作为另一个函数的返回值"><a href="#函数作为另一个函数的返回值" class="headerlink" title="函数作为另一个函数的返回值"></a>函数作为另一个函数的返回值</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是test函数里输入的内容'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是demo里输入的内容'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> test  <span class="token comment"># test 函数作为demo函数的返回值</span>

result <span class="token operator">=</span> demo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 我是demo里输入的内容  调用 demo 函数，把demo函数的返回值赋值给 result</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># &lt;class 'function'&gt;  result 的类型是一个函数</span>

result<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 我是demo里输入的内容    我是test函数里输入的内容   既然result是一个函数，那么就可以直接使用() 调用这个函数</span>

demo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 我是demo里输入的内容    我是test函数里输入的内容</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>函数只是一段可执行代码，编译后就“固化”了，每个函数在内存中只有一份实例，得到函数的入口点便可以执行函数了。函数还可以嵌套定义，即在一个函数内部可以定义另一个函数，有了嵌套函数这种结构，便会产生闭包问题。</p>
<h4 id="函数嵌套"><a href="#函数嵌套" class="headerlink" title="函数嵌套"></a>函数嵌套</h4><p>在函数里面还可以定义函数，可以嵌套多层，执行需要被调用。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'outer----hello'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># inner这个函数是在outer函数内部定义的</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'inner----hello'</span><span class="token punctuation">)</span>
    inner<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># inner函数只在outer函数内部可见</span>

outer<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># inner()  这里会报错，在outer函数外部无法访问到inner函数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h4><p>闭包是由函数及其相关的引用环境组合而成的实体(即：<strong>闭包=函数块+引用环境</strong>)。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> n
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> num<span class="token operator">+</span><span class="token number">1</span>
    <span class="token keyword">return</span> inner

<span class="token keyword">print</span><span class="token punctuation">(</span>outer<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>outer<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在这段程序中，函数 inner 是函数 outer 的内嵌函数，并且 inner 函数是outer函数的返回值。我们注意到一个问题：内嵌函数 inner 中引用到外层函数中的局部变量num，Python解释器会这么处理这个问题呢？ 先让我们来看看这段代码的运行结果，当我们调用分别由不同的参数调用 outer 函数得到的函数时，得到的结果是隔离的(相互不影响)，也就是说每次调用outer函数后都将生成并保存一个新的局部变量num,这里outer函数返回的就是闭包。 <strong>如果在一个内部函数里，对在外部作用域（但不是在全局作用域）的变量进行引用，那么内部函数就被认为是闭包(closure).</strong></p>
<h4 id="修改外部变量的值"><a href="#修改外部变量的值" class="headerlink" title="修改外部变量的值"></a>修改外部变量的值</h4><p>闭包里默认不能修改外部变量。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> n
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> num
    <span class="token keyword">return</span> inner

<span class="token keyword">print</span><span class="token punctuation">(</span>outer<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上述代码运行时会报错！</p>
<pre class="line-numbers language-none"><code class="language-none">UnboundLocalError: local variable 'num' referenced before assignment<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h5><p>在python里，只要看到了赋值语句，就会认为赋值语句的左边是一个局部变量。<code>num = num + 1</code> 这段代码里，<code>num</code> 在<code>=</code>的左边，python解析器会认为我们要修改<code>inner</code>函数里<code>num</code>这个局部变量，而这个变量使用之前是未声明的，所以会报错。</p>
<h5 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h5><p>我们分析过，报错的原因在于当我们在闭包内修改外部变量时，会被python解析器误会为内部函数的局部变量。所以，解决方案就在于，我们需要想办法，让解析器知道我们不是要修改局部变量，而是要修改外部变量。</p>
<ul>
<li>解决方法：使用 <code>nonlocal</code> 关键字</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> n
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">nonlocal</span> num  <span class="token comment"># 修改前使用nonlocal关键字对 num 变量进行说明</span>
        num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> num
    <span class="token keyword">return</span> inner

<span class="token keyword">print</span><span class="token punctuation">(</span>outer<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h3><p>装饰器是程序开发中经常会用到的一个功能，用好了装饰器，开发效率如虎添翼，所以这也是Python面试中必问的问题。但对于好多初次接触这个知识的人来讲，这个功能有点绕，自学时直接绕过去了，然后面试问到了就挂了，因为装饰器是程序开发的基础知识，这个都不会，别跟人家说你会Python, 看了下面的文章，保证你学会装饰器。</p>
<h4 id="1、先明白这段代码"><a href="#1、先明白这段代码" class="headerlink" title="1、先明白这段代码"></a>1、先明白这段代码</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#### 第一波 ####</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>

foo  <span class="token comment"># 表示是函数</span>
foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 表示执行foo函数</span>

<span class="token comment">#### 第二波 ####</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>

foo <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">+</span> <span class="token number">1</span>

foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 执行lambda表达式，而不再是原来的foo函数，因为foo这个名字被重新指向了另外一个匿名函数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>函数名仅仅是个变量，只不过指向了定义的函数而已，所以才能通过 函数名()调用，如果 函数名=xxx被修改了，那么当在执行 函数名()时，调用的就不知之前的那个函数了</p>
<h4 id="2、需求来了"><a href="#2、需求来了" class="headerlink" title="2、需求来了"></a>2、需求来了</h4><p>初创公司有N个业务部门，基础平台部门负责提供底层的功能，如：数据库操作、redis调用、监控API等功能。业务部门使用基础功能时，只需调用基础平台提供的功能即可。如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">############### 基础平台提供的功能如下 ###############</span>

<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f1'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f2'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f3'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f4'</span><span class="token punctuation">)</span>

<span class="token comment">############### 业务部门A 调用基础平台提供的功能 ###############</span>

f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
f2<span class="token punctuation">(</span><span class="token punctuation">)</span>
f3<span class="token punctuation">(</span><span class="token punctuation">)</span>
f4<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">############### 业务部门B 调用基础平台提供的功能 ###############</span>

f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
f2<span class="token punctuation">(</span><span class="token punctuation">)</span>
f3<span class="token punctuation">(</span><span class="token punctuation">)</span>
f4<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>目前公司有条不紊的进行着，但是，以前基础平台的开发人员在写代码时候没有关注验证相关的问题，即：基础平台的提供的功能可以被任何人使用。现在需要对基础平台的所有功能进行重构，为平台提供的所有功能添加验证机制，即：执行功能前，先进行验证。</p>
<h5 id="老大把工作交给-Low-B，他是这么做的："><a href="#老大把工作交给-Low-B，他是这么做的：" class="headerlink" title="老大把工作交给 Low B，他是这么做的："></a>老大把工作交给 Low B，他是这么做的：</h5><blockquote>
<p>跟每个业务部门交涉，每个业务部门自己写代码，调用基础平台的功能之前先验证。诶，这样一来基础平台就不需要做任何修改了。太棒了，有充足的时间泡妹子…</p>
</blockquote>
<p>当天Low B 被开除了…</p>
<h5 id="老大把工作交给-Low-BB，他是这么做的："><a href="#老大把工作交给-Low-BB，他是这么做的：" class="headerlink" title="老大把工作交给 Low BB，他是这么做的："></a>老大把工作交给 Low BB，他是这么做的：</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">############### 基础平台提供的功能如下 ############### </span>

<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 验证1</span>
    <span class="token comment"># 验证2</span>
    <span class="token comment"># 验证3</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f1'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 验证1</span>
    <span class="token comment"># 验证2</span>
    <span class="token comment"># 验证3</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f2'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 验证1</span>
    <span class="token comment"># 验证2</span>
    <span class="token comment"># 验证3</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f3'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 验证1</span>
    <span class="token comment"># 验证2</span>
    <span class="token comment"># 验证3</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f4'</span><span class="token punctuation">)</span>

<span class="token comment">############### 业务部门不变 ############### </span>
<span class="token comment">### 业务部门A 调用基础平台提供的功能### </span>

f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
f2<span class="token punctuation">(</span><span class="token punctuation">)</span>
f3<span class="token punctuation">(</span><span class="token punctuation">)</span>
f4<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">### 业务部门B 调用基础平台提供的功能 ### </span>

f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
f2<span class="token punctuation">(</span><span class="token punctuation">)</span>
f3<span class="token punctuation">(</span><span class="token punctuation">)</span>
f4<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>过了一周 Low BB 被开除了…</p>
<h5 id="老大把工作交给-Low-BBB，他是这么做的："><a href="#老大把工作交给-Low-BBB，他是这么做的：" class="headerlink" title="老大把工作交给 Low BBB，他是这么做的："></a>老大把工作交给 Low BBB，他是这么做的：</h5><blockquote>
<p>只对基础平台的代码进行重构，其他业务部门无需做任何修改</p>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">############### 基础平台提供的功能如下 ############### </span>

<span class="token keyword">def</span> <span class="token function">check_login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 验证1</span>
    <span class="token comment"># 验证2</span>
    <span class="token comment"># 验证3</span>
    <span class="token keyword">pass</span>


<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    check_login<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f1'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    check_login<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f2'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    check_login<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f3'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    check_login<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f4'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>老大看了下Low BBB 的实现，嘴角漏出了一丝的欣慰的笑，语重心长的跟Low BBB聊了个天：</p>
<p>老大说：</p>
<p>写代码要遵循<code>开放封闭</code>原则，虽然在这个原则是用的面向对象开发，但是也适用于函数式编程，简单来说，它规定已经实现的功能代码不允许被修改，但可以被扩展，即：</p>
<ul>
<li>封闭：已实现的功能代码块</li>
<li>开放：对扩展开发</li>
</ul>
<p>如果将开放封闭原则应用在上述需求中，那么就不允许在函数 f1 、f2、f3、f4的内部进行修改代码，老板就给了Low BBB一个实现方案：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">w1</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 验证1</span>
        <span class="token comment"># 验证2</span>
        <span class="token comment"># 验证3</span>
        func<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> inner

<span class="token decorator annotation punctuation">@w1</span>
<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f1'</span><span class="token punctuation">)</span>
<span class="token decorator annotation punctuation">@w1</span>
<span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f2'</span><span class="token punctuation">)</span>
<span class="token decorator annotation punctuation">@w1</span>
<span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f3'</span><span class="token punctuation">)</span>
<span class="token decorator annotation punctuation">@w1</span>
<span class="token keyword">def</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f4'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>对于上述代码，也是仅仅对基础平台的代码进行修改，就可以实现在其他人调用函数 f1 f2 f3 f4 之前都进行【验证】操作，并且其他业务部门无需做任何操作。</p>
<p>Low BBB心惊胆战的问了下，这段代码的内部执行原理是什么呢？</p>
<p>老大正要生气，突然Low BBB的手机掉到地上，恰巧屏保就是Low BBB的女友照片，老大一看一紧一抖，喜笑颜开，决定和Low BBB交个好朋友。</p>
<p>详细的开始讲解了：</p>
<p>单独以f1为例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">w1</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 验证1</span>
        <span class="token comment"># 验证2</span>
        <span class="token comment"># 验证3</span>
        func<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> inner

<span class="token decorator annotation punctuation">@w1</span>
<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f1'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>python解释器就会从上到下解释代码，步骤如下：</p>
<ol>
<li>def w1(func): ==&gt;将w1函数加载到内存</li>
<li>@w1</li>
</ol>
<p>没错， 从表面上看解释器仅仅会解释这两句代码，因为函数在 没有被调用之前其内部代码不会被执行。</p>
<p>从表面上看解释器着实会执行这两句，但是 @w1 这一句代码里却有大文章， <strong>@函数名 是python的一种语法糖</strong>。</p>
<h5 id="上例-w1内部会执行一下操作："><a href="#上例-w1内部会执行一下操作：" class="headerlink" title="上例@w1内部会执行一下操作："></a>上例@w1内部会执行一下操作：</h5><h6 id="执行w1函数"><a href="#执行w1函数" class="headerlink" title="执行w1函数"></a>执行w1函数</h6><blockquote>
<p>执行w1函数 ，并将 @w1 下面的函数作为w1函数的参数，即：**@w1 等价于 w1(f1)** 所以，内部就会去执行：</p>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
   <span class="token comment">#验证 1</span>
   <span class="token comment">#验证 2</span>
   <span class="token comment">#验证 3</span>
   f1<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># func是参数，此时 func 等于 f1 </span>
   <span class="token keyword">return</span> inner<span class="token comment"># 返回的 inner，inner代表的是函数，非执行函数 ,其实就是将原来的 f1 函数塞进另外一个函数中</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="w1的返回值"><a href="#w1的返回值" class="headerlink" title="w1的返回值"></a>w1的返回值</h6><blockquote>
<p>将执行完的w1函数返回值 赋值 给@w1下面的函数的函数名 f1 即将w1的返回值再重新赋值给 f1，即：</p>
</blockquote>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">新f1 <span class="token operator">=</span> <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
       <span class="token comment">#验证 1</span>
       <span class="token comment">#验证 2</span>
       <span class="token comment">#验证 3</span>
       原来f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token keyword">return</span> inner<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>所以，以后业务部门想要执行 f1 函数时，就会执行 新f1 函数，在新f1 函数内部先执行验证，再执行原来的f1函数，然后将原来f1 函数的返回值返回给了业务调用者。</p>
</blockquote>
<h4 id="3-再议装饰器"><a href="#3-再议装饰器" class="headerlink" title="3. 再议装饰器"></a>3. 再议装饰器</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义函数：完成包裹数据</span>
<span class="token keyword">def</span> <span class="token function">makeBold</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wrapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"&lt;b&gt;"</span> <span class="token operator">+</span> fn<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&lt;/b&gt;"</span>
    <span class="token keyword">return</span> wrapped

<span class="token comment"># 定义函数：完成包裹数据</span>
<span class="token keyword">def</span> <span class="token function">makeItalic</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wrapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"&lt;i&gt;"</span> <span class="token operator">+</span> fn<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&lt;/i&gt;"</span>
    <span class="token keyword">return</span> wrapped

<span class="token decorator annotation punctuation">@makeBold</span>
<span class="token keyword">def</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"hello world-1"</span>

<span class="token decorator annotation punctuation">@makeItalic</span>
<span class="token keyword">def</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"hello world-2"</span>

<span class="token decorator annotation punctuation">@makeBold</span>
<span class="token decorator annotation punctuation">@makeItalic</span>
<span class="token keyword">def</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"hello world-3"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>test1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>test2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>test3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>运行结果:</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>hello world-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>hello world-2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>hello world-3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="4-装饰器-decorator-功能"><a href="#4-装饰器-decorator-功能" class="headerlink" title="4. 装饰器(decorator)功能"></a>4. 装饰器(decorator)功能</h4><ol>
<li>引入日志</li>
<li>函数执行时间统计</li>
<li>执行函数前预备处理</li>
<li>执行函数后清理功能</li>
<li>权限校验等场景</li>
<li>缓存</li>
</ol>
<h4 id="5-装饰器示例"><a href="#5-装饰器示例" class="headerlink" title="5. 装饰器示例"></a>5. 装饰器示例</h4><h5 id="例1-无参数的函数"><a href="#例1-无参数的函数" class="headerlink" title="例1:无参数的函数"></a>例1:无参数的函数</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">check_time</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">do_action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        action<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> do_action

<span class="token decorator annotation punctuation">@check_time</span>
<span class="token keyword">def</span> <span class="token function">go_to_bed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'去睡觉'</span><span class="token punctuation">)</span>

go_to_bed<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上面代码理解装饰器执行行为可理解成</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">result <span class="token operator">=</span> check_time<span class="token punctuation">(</span>go_to_bed<span class="token punctuation">)</span>  <span class="token comment"># 把go_to_bed 当做参数传入给 check_time函数，再定义一个变量用来保存check_time的运行结果</span>
result<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># check_time 函数的返回值result是一个函数, result()再调用这个函数，让它再调用go_to_bed函数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="例2-被装饰的函数有参数"><a href="#例2-被装饰的函数有参数" class="headerlink" title="例2:被装饰的函数有参数"></a>例2:被装饰的函数有参数</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">check_time</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">do_action</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        action<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
    <span class="token keyword">return</span> do_action

<span class="token decorator annotation punctuation">@check_time</span>
<span class="token keyword">def</span> <span class="token function">go_to_bed</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{}去{}睡觉'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>

go_to_bed<span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span><span class="token string">"床上"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="例3-被装饰的函数有不定长参数"><a href="#例3-被装饰的函数有不定长参数" class="headerlink" title="例3:被装饰的函数有不定长参数"></a>例3:被装饰的函数有不定长参数</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">do_cal</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        cal<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
    <span class="token keyword">return</span> do_cal

<span class="token decorator annotation punctuation">@test</span>
<span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> x <span class="token keyword">in</span> args<span class="token punctuation">:</span>
        <span class="token builtin">sum</span> <span class="token operator">+=</span>x
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span>

demo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="例4-装饰器中的return"><a href="#例4-装饰器中的return" class="headerlink" title="例4:装饰器中的return"></a>例4:装饰器中的return</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">do_cal</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> cal<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>  <span class="token comment"># 需要再这里写return语句，表示调用函数，获取函数的返回值并返回</span>
    <span class="token keyword">return</span> do_cal

<span class="token decorator annotation punctuation">@test</span>
<span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b


<span class="token keyword">print</span><span class="token punctuation">(</span>demo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h5><ul>
<li>一般情况下为了让装饰器更通用，可以有return</li>
</ul>
<h5 id="例5-装饰器带参数"><a href="#例5-装饰器带参数" class="headerlink" title="例5:装饰器带参数"></a>例5:装饰器带参数</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer_check</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">check_time</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">do_action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> time <span class="token operator">&lt;</span> <span class="token number">22</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> action<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">'对不起，您不具有该权限'</span>
        <span class="token keyword">return</span> do_action
    <span class="token keyword">return</span> check_time

<span class="token decorator annotation punctuation">@outer_check</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">play_game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'玩儿游戏'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>play_game<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="提高：使用装饰器实现权限验证"><a href="#提高：使用装饰器实现权限验证" class="headerlink" title="提高：使用装饰器实现权限验证"></a>提高：使用装饰器实现权限验证</h5><p>以下代码不要求掌握，如果能看懂最好，如果能自己手动写出来，那就太棒了！</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer_check</span><span class="token punctuation">(</span>base_permission<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">check_permission</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">do_action</span><span class="token punctuation">(</span>my_permission<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> my_permission <span class="token operator">&amp;</span> base_permission<span class="token punctuation">:</span>
                <span class="token keyword">return</span> action<span class="token punctuation">(</span>my_permission<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">'对不起，您不具有该权限'</span>
        <span class="token keyword">return</span> do_action
    <span class="token keyword">return</span> check_permission

READ_PERMISSION <span class="token operator">=</span> <span class="token number">1</span>
WRITE_PERMISSION <span class="token operator">=</span> <span class="token number">2</span>
EXECUTE_PERMISSION <span class="token operator">=</span> <span class="token number">4</span>

<span class="token decorator annotation punctuation">@outer_check</span><span class="token punctuation">(</span>base_permission<span class="token operator">=</span>READ_PERMISSION<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>my_permission<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'读取数据'</span>

<span class="token decorator annotation punctuation">@outer_check</span><span class="token punctuation">(</span>base_permission<span class="token operator">=</span>WRITE_PERMISSION<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">write</span><span class="token punctuation">(</span>my_permission<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'写入数据'</span>

<span class="token decorator annotation punctuation">@outer_check</span><span class="token punctuation">(</span>base_permission<span class="token operator">=</span>EXECUTE_PERMISSION<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>my_permission<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'执行程序'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>read<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>模块就好比是工具包，要想使用这个工具包中的工具(就好比函数)，就需要导入这个模块</p>
<p>比如我们经常使用工具 random，就是一个模块。使用 import random 导入工具之后，就可以使用 random 的函数。</p>
<h3 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h3><p>导入模块有五种方式</p>
<ul>
<li>import 模块名</li>
<li>from 模块名 import 功能名</li>
<li>from 模块名 import *</li>
<li>import 模块名 as 别名</li>
<li>from 模块名 import 功能名 as 别名</li>
</ul>
<h4 id="import"><a href="#import" class="headerlink" title="import"></a>import</h4><p>语法:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> 模块<span class="token number">1</span><span class="token punctuation">,</span>模块<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment"># 导入方式</span>

模块名<span class="token punctuation">.</span>函数名<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 使用模块里的函数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>想一想:</p>
<blockquote>
<p>为什么必须加上模块名调用呢？</p>
</blockquote>
</li>
<li><p>答:</p>
<blockquote>
<p>因为可能存在这样一种情况：在多个模块中含有相同名称的函数，此时如果只是通过函数名来调用，解释器无法知道到底要调用哪个函数。</p>
<p>所以如果像上述这样引入模块的时候，调用函数必须加上模块名</p>
</blockquote>
</li>
</ul>
<p>示例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> math

<span class="token comment">#这样才能正确输出结果</span>
<span class="token keyword">print</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">#这样会报错</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="from…import"><a href="#from…import" class="headerlink" title="from…import"></a>from…import</h4><p>有时候我们只需要用到模块中的某个函数，只需要引入该函数即可，此时可以用下面方法实现：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> 模块名 <span class="token keyword">import</span> 函数名<span class="token number">1</span><span class="token punctuation">,</span>函数名<span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>不仅可以引入函数，还可以引入一些全局变量、类等</p>
<ul>
<li><p>注意:</p>
<blockquote>
<p>通过这种方式引入的时候，调用函数时只能给出函数名，不能给出模块名，但是当两个模块中含有相同名称函数的时候，后面一次引入会覆盖前一次引入。</p>
<p>也就是说假如模块A中有函数function( )，在模块B中也有函数function( )，如果引入A中的function在先、B中的function在后，那么当调用function函数的时候，是去执行模块B中的function函数。</p>
</blockquote>
</li>
</ul>
<p>例如，要导入模块fib的fibonacci函数，使用如下语句：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> fib <span class="token keyword">import</span> fibonacci<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>注意：不会把整个fib模块导入到当前的命名空间中，它只会将fib里的fibonacci单个函数引入</p>
</blockquote>
<h4 id="from-…-import"><a href="#from-…-import" class="headerlink" title="from … import *"></a>from … import *</h4><p>把一个模块的所有内容全都导入到当前的命名空间也是可行的，只需使用如下声明：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> modname <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="as-别名"><a href="#as-别名" class="headerlink" title="as 别名"></a>as 别名</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">import</span> time <span class="token keyword">as</span> tt  <span class="token comment"># 导入模块时设置别名为 tt</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
NameError                                 Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>ipython<span class="token operator">-</span><span class="token builtin">input</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span>07a34f5b1e42<span class="token operator">&gt;</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">1</span> time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

NameError<span class="token punctuation">:</span> name <span class="token string">'time'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> 

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> tt<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 使用别名才能调用方法</span>

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> 

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">from</span> time <span class="token keyword">import</span> sleep <span class="token keyword">as</span> sp  <span class="token comment"># 导入方法时设置别名</span>

In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
NameError                                 Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>ipython<span class="token operator">-</span><span class="token builtin">input</span><span class="token operator">-</span><span class="token number">5</span><span class="token operator">-</span>82e5c2913b44<span class="token operator">&gt;</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">1</span> sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

NameError<span class="token punctuation">:</span> name <span class="token string">'sleep'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined

In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> 

In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> sp<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 使用别名才能调用方法</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="常见系统模块"><a href="#常见系统模块" class="headerlink" title="常见系统模块"></a>常见系统模块</h3><p>为了方便程序员开发代码，Python提供了很多内置的模块给程序员用来提高编码效率。常见的内置模块有:</p>
<ul>
<li><a href="#os">os模块</a></li>
<li><a href="#sys">sys模块</a></li>
<li><a href="#math">math模块</a></li>
<li><a href="#random">random模块</a></li>
<li><a href="#datetime">datetime模块</a></li>
<li><a href="#time">time模块</a></li>
<li><a href="#calendar">calendar模块</a></li>
<li><a href="#hashlib">hashlib模块</a></li>
<li><a href="#hmac">hmac模块</a></li>
<li><a href="#copy">copy模块</a></li>
<li><a href="#uuid">uuid模块</a></li>
</ul>
<h4 id="OS模块"><a href="#OS模块" class="headerlink" title="OS模块"></a>OS模块</h4><p>OS全称OperationSystem,即操作系统模块，这个模块可以用来操作系统的功能，并且实现跨平台操作。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os

os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取当前的工作目录，即当前python脚本工作的目录</span>
os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span> <span class="token comment"># 改变当前脚本工作目录，相当于shell下的cd命令</span>
os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span><span class="token string">'毕业论文.txt'</span><span class="token punctuation">,</span><span class="token string">'毕业论文-最终版.txt'</span><span class="token punctuation">)</span> <span class="token comment"># 文件重命名</span>
os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'毕业论文.txt'</span><span class="token punctuation">)</span> <span class="token comment"># 删除文件</span>
os<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token string">'demo'</span><span class="token punctuation">)</span>  <span class="token comment"># 删除空文件夹</span>
os<span class="token punctuation">.</span>removedirs<span class="token punctuation">(</span><span class="token string">'demo'</span><span class="token punctuation">)</span> <span class="token comment"># 删除空文件夹</span>
os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'demo'</span><span class="token punctuation">)</span>  <span class="token comment"># 创建一个文件夹</span>
os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span><span class="token string">'C:\\'</span><span class="token punctuation">)</span> <span class="token comment"># 切换工作目录</span>
os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'C:\\'</span><span class="token punctuation">)</span> <span class="token comment"># 列出指定目录里的所有文件和文件夹</span>
os<span class="token punctuation">.</span>name <span class="token comment"># nt-&gt;widonws posix-&gt;Linux/Unix或者MacOS</span>
os<span class="token punctuation">.</span>environ <span class="token comment"># 获取到环境配置</span>
os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'PATH'</span><span class="token punctuation">)</span> <span class="token comment"># 获取指定的环境配置</span>

os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token comment"># 获取Path规范下的绝对路径</span>
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>path<span class="token punctuation">)</span>  <span class="token comment"># 如果Path存在，则返回True</span>
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>  <span class="token comment"># 如果path是一个存在的目录，返回True。否则返回False</span>
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token comment"># 如果path是一个存在的文件，返回True。否则返回False</span>
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>path<span class="token punctuation">)</span>  <span class="token comment"># 用来将指定路径进行分隔，可以获取到文件的后缀名</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h4><p>该模块提供对解释器使用或维护的一些变量的访问，以及与解释器强烈交互的函数。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys

sys<span class="token punctuation">.</span>path <span class="token comment"># 模块的查找路径</span>
sys<span class="token punctuation">.</span>argv <span class="token comment"># 传递给Python脚本的命令行参数列表</span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token comment"># 让程序以指定的退出码结束</span>

sys<span class="token punctuation">.</span>stdin <span class="token comment"># 标准输入。可以通过它来获取用户的输入</span>
sys<span class="token punctuation">.</span>stdout <span class="token comment"># 标准输出。可以通过修改它来百变默认输出</span>
sys<span class="token punctuation">.</span>stderr <span class="token comment"># 错误输出。可以通过修改它来改变错误删除</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="math模块"><a href="#math模块" class="headerlink" title="math模块"></a>math模块</h4><p>math模块保存了数学计算相关的方法，可以很方便的实现数学运算。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> math

<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>fabs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 取绝对值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>ceil<span class="token punctuation">(</span><span class="token number">34.01</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#向上取整</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>factorial<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 计算阶乘</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>floor<span class="token punctuation">(</span><span class="token number">34.98</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 向下取整</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span>   <span class="token comment"># π的值，约等于 3.141592653589793</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2的10次方</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 正弦值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 余弦值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>tan<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 正切值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h4><p>random 模块主要用于生成随机数或者从一个列表里随机获取数据。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 生成 [0,1)的随机浮点数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 生成[20,30]的随机浮点数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 生成[10,30]的随机整数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 生成[20,30)的随机整数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token string">'abcdefg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 从列表里随机取出一个元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token string">'abcdefghij'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 从列表里随机取出指定个数的元素</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="datetime模块"><a href="#datetime模块" class="headerlink" title="datetime模块"></a>datetime模块</h4><p>datetime模块主要用来显示日期时间</p>
<p> <code>date</code>类，用来显示日期；</p>
<p><code>time</code>类，用来显示时间；</p>
<p><code>dateteime</code>类，用来显示日期时间;</p>
<p><code>timedelta</code>类用来计算时间。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> datetime

<span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 创建一个日期</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 创建一个时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 获取当前的日期时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 计算三天以后的日期时间</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h4><p>除了使用datetime模块里的time类以外，Python还单独提供了另一个time模块，用来操作时间。</p>
<p>time模块不仅可以用来显示时间，还可以控制程序，让程序暂停(使用sleep函数)</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 获取从1970-01-01 00:00:00 UTC 到现在时间的秒数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 按照指定格式输出时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>asctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># Mon Apr 15 20:03:23 2019</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># Mon Apr 15 20:03:23 2019</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 让线程暂停10秒钟</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="calendar模块"><a href="#calendar模块" class="headerlink" title="calendar模块"></a>calendar模块</h4><p>calendar模块用来显示一个日历，使用的不多，了解即可。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">calendar<span class="token punctuation">.</span>setfirstweekday<span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>SUNDAY<span class="token punctuation">)</span> <span class="token comment"># 设置每周起始日期码。周一到周日分别对应 0 ~ 6</span>
calendar<span class="token punctuation">.</span>firstweekday<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回当前每周起始日期的设置。默认情况下，首次载入calendar模块时返回0，即星期一。</span>
c <span class="token operator">=</span> calendar<span class="token punctuation">.</span>calendar<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">)</span>  <span class="token comment"># 生成2019年的日历，并且以周日为其实日期码</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 打印2019年日历</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>isleap<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True.闰年返回True,否则返回False</span>
count <span class="token operator">=</span> calendar<span class="token punctuation">.</span>leapdays<span class="token punctuation">(</span><span class="token number">1996</span><span class="token punctuation">,</span><span class="token number">2010</span><span class="token punctuation">)</span> <span class="token comment"># 获取1996年到2010年一共有多少个闰年</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>month<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 打印2019年3月的日历</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="hashlib模块"><a href="#hashlib模块" class="headerlink" title="hashlib模块"></a>hashlib模块</h4><p>hashlib是一个提供字符加密功能的模块，包含MD5和SHA的加密算法，具体支持md5,sha1, sha224, sha256, sha384, sha512等算法。 该模块在用户登录认证方面应用广泛，对文本加密也很常见。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> hashlib

<span class="token comment"># 待加密信息</span>
<span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'这是一个测试'</span>

<span class="token comment"># 创建md5对象</span>
hl <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span>encoding<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'MD5加密后为 ：'</span> <span class="token operator">+</span> hl<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

h1 <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>sha1<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
h2 <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>sha224<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>h2<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
h3 <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>sha256<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>h3<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
h4 <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>sha384<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>h4<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="hmac模块"><a href="#hmac模块" class="headerlink" title="hmac模块"></a>hmac模块</h4><p>HMAC算法也是一种单项加密算法，并且它是基于上面各种哈希算法/散列算法的，只是它可以在运算过程中使用一个密钥来增强安全性。</p>
<p>hmac模块实现了HAMC算法，提供了相应的函数和方法，且与hashlib提供的api基本一致。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> hmac

h <span class="token operator">=</span> hmac<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'h'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'你好'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> digestmod<span class="token operator">=</span><span class="token string">'md5'</span><span class="token punctuation">)</span>
result <span class="token operator">=</span> h<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment"># 获取加密后的结果</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="copy模块"><a href="#copy模块" class="headerlink" title="copy模块"></a>copy模块</h4><p>copy模块里有copy和deepcopy两个函数，分别用来对数据进行浅复制和深复制。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> copy

nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
nums1 <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>  <span class="token comment"># 对nums列表进行浅复制</span>
nums2 <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>  <span class="token comment"># 对nums列表进行深复制</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="uuid模块"><a href="#uuid模块" class="headerlink" title="uuid模块"></a>uuid模块</h4><p>UUID是128位的全局唯一标识符，通常由32字节的字母串表示，它可以保证时间和空间的唯一性，也称为GUID。通过MAC地址、时间戳、命名空间、随机数、伪随机数来保证生产的ID的唯一性。随机生成字符串，可以当成token使用，当成用户账号使用，当成订单号使用。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>uuid.uuid1()</td>
<td>基于MAC地址，时间戳，随机数来生成唯一的uuid，可以保证全球范围内的唯一性。</td>
</tr>
<tr>
<td>uuid.uuid2()</td>
<td>算法与uuid1相同，不同的是把时间戳的前4位置换为POSIX的UID。不过需要注意的是python中没有基于DCE的算法，所以python的uuid模块中没有uuid2这个方法。</td>
</tr>
<tr>
<td>uuid.uuid3(namespace,name)</td>
<td>通过计算一个命名空间和名字的md5散列值来给出一个uuid，所以可以保证命名空间中的不同名字具有不同的uuid，但是相同的名字就是相同的uuid了。namespace并不是一个自己手动指定的字符串或其他量，而是在uuid模块中本身给出的一些值。比如uuid.NAMESPACE_DNS，uuid.NAMESPACE_OID，uuid.NAMESPACE_OID这些值。这些值本身也是UUID对象，根据一定的规则计算得出。</td>
</tr>
<tr>
<td>uuid.uuid4()</td>
<td>通过伪随机数得到uuid，是有一定概率重复的</td>
</tr>
<tr>
<td>uuid.uuid5(namespace,name)</td>
<td>和uuid3基本相同，只不过采用的散列算法是sha1</td>
</tr>
</tbody></table>
<p>一般而言，在对uuid的需求不是很复杂的时候，uuid1或者uuid4方法就已经够用了，使用方法如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> uuid

<span class="token keyword">print</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 根据时间戳和机器码生成uuid,可以保证全球唯一</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 随机生成uuid,可能会有重复</span>

<span class="token comment"># 使用命名空间和字符串生成uuid.</span>
<span class="token comment"># 注意一下两点:</span>
<span class="token comment"># 1. 命名空间不是随意输入的字符串，它也是一个uuid类型的数据</span>
<span class="token comment"># 2. 相同的命名空间和想到的字符串，生成的uuid是一样的</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid3<span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>NAMESPACE_DNS<span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid5<span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>NAMESPACE_OID<span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="pip命令的使用"><a href="#pip命令的使用" class="headerlink" title="pip命令的使用"></a>pip命令的使用</h3><p>在安装Python时，同时还会安装pip软件，它是Python的包管理工具，可以用来查找、下载、安装和卸载Python的第三方资源包。</p>
<h4 id="配置pip"><a href="#配置pip" class="headerlink" title="配置pip"></a>配置pip</h4><p>可以直接在终端中输入pip命令，如果出错，可能会有两个原因:</p>
<ol>
<li>pip安装成功以后没有正确配置</li>
<li>安装Python时，没有自动安装pip(很少见)</li>
</ol>
<p>和运行Python命令一样，如果想要运行 pip 命令同样也需要将pip命令的安装目录添加到环境变量中。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/pip%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95.png" alt="img"></p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E6%B7%BB%E5%8A%A0pip%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" alt="img"></p>
<h4 id="安装pip"><a href="#安装pip" class="headerlink" title="安装pip"></a>安装pip</h4><p>如果在Python安装对应的目录中，没有发现pip.exe文件，可能是因为在安装Python时未自动安装pip,建议将Python卸载，然后在重新安装Python时选择<code>Install Now</code>使用默认方式安装Python.</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%AE%89%E8%A3%85pip.png" alt="img"></p>
<h3 id="管理第三方包"><a href="#管理第三方包" class="headerlink" title="管理第三方包"></a>管理第三方包</h3><p>对第三方包的管理主要包含查找、安装和卸载三个部分的操作。</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>使用 <code>pip install &lt;包名&gt;</code>命令可以安装指定的第三方资源包。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> ipython <span class="token comment"># 安装ipython包</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>使用 install 命令下载第三方资源包时，默认是从 pythonhosted下载，由于各种原因，在国内下载速度相对来说比较慢，在某些时候甚至会出现连接超时的情况，我们可以使用国内镜像来提高下载速度。</p>
<h5 id="临时修改"><a href="#临时修改" class="headerlink" title="临时修改"></a>临时修改</h5><p>如果只是想临时修改某个第三方资源包的下载地址，在第三方包名后面添加 -i 参数，再指定下载路径即可，格式为<code>pip install &lt;包名&gt; -i &lt;国内镜像路径&gt;</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> ipython <span class="token parameter variable">-i</span> https://pypi.douban.com/simple<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="永久修改"><a href="#永久修改" class="headerlink" title="永久修改"></a>永久修改</h5><p>除了临时修改pip的下载源以外，我们还能永久改变pip的默认下载路径。</p>
<p>在当前用户目录下创建一个pip的文件夹，然后再在文件夹里创建pip.ini文件并输入一下内容:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>global<span class="token punctuation">]</span>
index-url<span class="token operator">=</span>https://pypi.douban.com/simple
<span class="token punctuation">[</span>install<span class="token punctuation">]</span>
trusted-host<span class="token operator">=</span>pypi.douban.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="常见国内镜像"><a href="#常见国内镜像" class="headerlink" title="常见国内镜像"></a>常见国内镜像</h5><ul>
<li>阿里云 <a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/pypi/simple/">https://mirrors.aliyun.com/pypi/simple/</a></li>
<li>中国科技大学 <a target="_blank" rel="noopener" href="https://pypi.mirrors.ustc.edu.cn/simple/">https://pypi.mirrors.ustc.edu.cn/simple/</a></li>
<li>豆瓣(douban) <a target="_blank" rel="noopener" href="https://pypi.douban.com/simple/">https://pypi.douban.com/simple/</a></li>
<li>清华大学 <a target="_blank" rel="noopener" href="https://pypi.tuna.tsinghua.edu.cn/simple/">https://pypi.tuna.tsinghua.edu.cn/simple/</a></li>
<li>中国科学技术大学 <a target="_blank" rel="noopener" href="https://pypi.mirrors.ustc.edu.cn/simple/">https://pypi.mirrors.ustc.edu.cn/simple/</a></li>
</ul>
<h4 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h4><p>使用 <code>pip install &lt;包名&gt;</code>命令可以用来卸载指定的第三方资源包。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip uninstall ipython <span class="token comment"># 卸载ipython包</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h4><p>使用<code>pip list</code> 或者 <code>pip freeze</code>命令可以来管理第三方资源包。这两个命令的功能一致，都是用来显示当前环境里已经安装的包，区别在于<code>pip list</code>会列出所有的包，包括一些无法uninstall的包；而<code>pip freeze</code>只会列出我们安装的第三方包。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>开发中，我们通常会使用很多第三方的资源包，我们在将程序部署到服务器的时候，不仅要把代码上传到服务器，同时还需要把代码里用到的第三方资源包告诉服务器。那么这里就有两个问题:</p>
<ol>
<li><p>当我们电脑上运行很多个项目，每个项目使用的第三方资源包又不一致时，怎样将代码和它使用到的第三方资源包放在一起呢？答:虚拟环境</p>
</li>
<li><p>怎样将自己代码使用到的第三方资源包告诉给服务器？</p>
<blockquote>
<ol>
<li>使用 <code>pip freeze &gt; requires.txt</code> 命令，将代码里使用到的第三方资源包以及版本号写入到 requirements.txt 文件，在部署时，同时将 requirements.txt 文件上传到服务器。</li>
<li>服务器在拿到代码以后，首先运行 <code>pip install -r requirements.txt</code> 命令，将文件里列出的所有第三方框架先安装到服务器，然后才能运行代码。</li>
</ol>
</blockquote>
</li>
</ol>
<h4 id="使用pycharm管理第三方包"><a href="#使用pycharm管理第三方包" class="headerlink" title="使用pycharm管理第三方包"></a>使用pycharm管理第三方包</h4><p>除了使用pip 命令管理第三方资源包以外，我们还能使用pycharm来对第三方包进行管理。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/pycharm%E7%AE%A1%E7%90%86%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85.png" alt="img"></p>
<h3 id="自定义模块"><a href="#自定义模块" class="headerlink" title="自定义模块"></a>自定义模块</h3><p>除了使用系统提供的内置模块以外，我们还能自己写一个模块供自己的程序使用。一个py文件就是一个模块，所以，自定义模块很简单，基本上相当于创建一个py文件。但是，需要注意的是，如果一个py文件要作为一个模块被别的代码使用，这个py文件的名字一定要遵守标识符的命名规则。</p>
<h4 id="模块的查找路径"><a href="#模块的查找路径" class="headerlink" title="模块的查找路径"></a>模块的查找路径</h4><p>创建一个模块非常简单，安装标识符的命名规则创建一个.py文件就是一个模块。但是问题是，我们需要把创建好的这个py文件放在哪个位置，在代码中使用 <code>import</code>语句才能找到这个模块呢?</p>
<p>Python内置sys模块的path属性，列出了程序运行时查找模块的目录，只需要把我们创建好的模块放到这些任意的一个目录里即可。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
<span class="token punctuation">[</span>
 <span class="token string">'C:\\Users\\chris\\Desktop\\Test'</span><span class="token punctuation">,</span>
 <span class="token string">'C:\\Users\\chris\\AppData\\Local\\Programs\\Python\\Python37\\python37.zip'</span><span class="token punctuation">,</span>
 <span class="token string">'C:\\Users\\chris\\AppData\\Local\\Programs\\Python\\Python37\\DLLs'</span><span class="token punctuation">,</span>
 <span class="token string">'C:\\Users\\chris\\AppData\\Local\\Programs\\Python\\Python37\\lib'</span><span class="token punctuation">,</span>
 <span class="token string">'C:\\Users\\chris\\AppData\\Local\\Programs\\Python\\Python37'</span><span class="token punctuation">,</span>
 <span class="token string">'C:\\Users\\chris\\AppData\\Roaming\\Python\\Python37\\site-packages'</span><span class="token punctuation">,</span>
 <span class="token string">'C:\\Users\\chris\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages'</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="all-的使用"><a href="#all-的使用" class="headerlink" title="__all__的使用"></a><code>__all__</code>的使用</h4><p>使用<code>from &lt;模块名&gt; import *</code>导入一个模块里所有的内容时，本质上是去查找这个模块的<code>__all__</code>属性，将<code>__all__</code>属性里声明的所有内容导入。如果这个模块里没有设置<code>__all__</code>属性，此时才会导入这个模块里的所有内容。</p>
<h4 id="模块里的私有成员"><a href="#模块里的私有成员" class="headerlink" title="模块里的私有成员"></a>模块里的私有成员</h4><p>模块里以一个下划线<code>_</code>开始的变量和函数，是模块里的私有成员，当模块被导入时，以<code>_</code>开头的变量默认不会被导入。但是它不具有强制性，如果一个代码强行使用以<code>_</code>开头的变量，有时也可以。但是强烈不建议这样使用，因为有可能会出问题。</p>
<h4 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h4><p>test1.py:模块里没有<code>__all__</code>属性</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">'hello'</span>
<span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是test1模块里的fn函数'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>test2.py:模块里有<code>__all__</code>属性</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> <span class="token string">'你好'</span>
y <span class="token operator">=</span> <span class="token string">'good'</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是test2模块里的foo函数'</span><span class="token punctuation">)</span>
__all__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>test3.py:模块里有以<code>_</code>开头的属性</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">m <span class="token operator">=</span> <span class="token string">'早上好'</span>
_n <span class="token operator">=</span> <span class="token string">'下午好'</span>
<span class="token keyword">def</span> <span class="token function">_bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是test3里的bar函数'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>demo.py</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> test1 <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> test2 <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> test3 <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
fn<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># print(y) 会报错，test2的__all__里没有变量 y</span>
foo<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token comment"># print(_n)  会报错，导入test3时， _n 不会被导入</span>

<span class="token keyword">import</span> test3
<span class="token keyword">print</span><span class="token punctuation">(</span>test3<span class="token punctuation">.</span>_n<span class="token punctuation">)</span>  <span class="token comment"># 也可以强行使用，但是强烈不建议</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="name-的使用"><a href="#name-的使用" class="headerlink" title="__name__的使用"></a><code>__name__</code>的使用</h4><p>在实际开中，当一个开发人员编写完一个模块后，为了让模块能够在项目中达到想要的效果，这个开发人员会自行在py文件中添加一些测试信息，例如：</p>
<p>test1.py</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b

<span class="token comment"># 这段代码应该只有直接运行这个文件进行测试时才要执行</span>
<span class="token comment"># 如果别的代码导入本模块，这段代码不应该被执行</span>
ret <span class="token operator">=</span> add<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试的结果是'</span><span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>demo.py</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> test1<span class="token punctuation">.</span>py   <span class="token comment"># 只要导入了tets1.py,就会立刻执行 test1.py 代码，打印测试内容</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>为了解决这个问题，python在执行一个文件时有个变量<code>__name__</code>。在Python中，当直接运行一个py文件时，这个py文件里的<code>__name__</code>值是<code>__main__</code>,据此可以判断一个一个py文件是被直接执行还是以模块的形式被导入。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>  <span class="token comment"># 只有直接执行这个py文件时,__name__的值才是 __main__</span>
    <span class="token comment"># 以下代码只有直接运行这个文件才会执行，如果是文件被别的代码导入，下面的代码不会执行</span>
    ret <span class="token operator">=</span> add<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试的结果是'</span><span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意事项：在自定义模块时，需要注意一点，自定义模块名不要和系统的模块名重名，否则会出现问题！</p>
</blockquote>
<h2 id="包的使用"><a href="#包的使用" class="headerlink" title="包的使用"></a>包的使用</h2><p>一个模块就是一个 py 文件，在 Python 里为了对模块分类管理，就需要划分不同的文件夹。多个有联系的模块可以将其放到同一个文件夹下，为了称呼方便，一般把 Python 里的<strong>一个代码文件夹称为一个包。</strong></p>
<h3 id="1-导入包的方式"><a href="#1-导入包的方式" class="headerlink" title="1. 导入包的方式"></a>1. 导入包的方式</h3><p>现有以下包<code>newmsg</code>,包里由两个模块，分别是<code>sendmsg.py</code>、<code>recvmsg.py</code>文件。在包的上级文件夹里，有一个<code>test.py</code>文件，目标是在<code>test.py</code>文件里引入<code>newmsg</code>的两个模块。</p>
<p>目录结构如下图所示：</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="img"></p>
<p>sendmsg.py文件里的内容如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">send_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------sendmsg方法被调用了-------'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>recvmsg.py文件里的内容如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">recv_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-----recvmsg方法被调用了--------'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>可以使用以下几种方式来导入模块，使用模块里的方法。</p>
<ol>
<li>直接使用包名.模块模块名导入指定的模块。</li>
</ol>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%AF%BC%E5%85%A5%E6%8C%87%E5%AE%9A%E6%A8%A1%E5%9D%97.png" alt="img"></p>
<ol start="2">
<li>使用<code>from xxx import xxx</code> 方式导入指定模块。</li>
</ol>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E4%BD%BF%E7%94%A8from...import%E5%AF%BC%E5%85%A5%E6%8C%87%E5%AE%9A%E6%A8%A1%E5%9D%97.png" alt="img"></p>
<ol start="3">
<li>使用<code>__init__.py</code>文件，导入包里的指定模块。</li>
</ol>
<p>可以在<code>newmsg</code>里创建<code>__init__.py</code>文件，在该文件里导入指定的内容。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/__init__%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE.png" alt="img"></p>
<p>在<code>__init__.py</code>文件里编写代码:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> sendmsg  <span class="token comment"># 导入指定的模块    . 代表的是当前文件夹</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>test.py文件里的代码</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> newmsg <span class="token comment"># 导入时，只需要输入包名即可。在包名的__init__.py文件里，导入了指定模块</span>
newmsg<span class="token punctuation">.</span>sendmsg<span class="token punctuation">.</span>sendm_msg<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 可以直接调用对应的方法</span>
<span class="token comment"># newmsg.recvmsg.recv_msg()   不可以使用 recvmsg 模块，因为 __init__.py文件里没有导入这个模块</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ol start="4">
<li>使用<code>__init__.py</code>文件，结合<code>__all__</code>属性，导入包里的所有模块。</li>
</ol>
<p>在<code>newmsg</code>包里的<code>__init__.py</code>文件里编写代码:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"sendmsg"</span><span class="token punctuation">,</span><span class="token string">"recvmsg"</span><span class="token punctuation">]</span>  <span class="token comment"># 指定导入的内容</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>test.py文件代码:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> newmsg <span class="token keyword">import</span> <span class="token operator">*</span>  <span class="token comment"># 将newmsg里的__inint__.py文件里,__all__属性对应的所有模块都导入</span>
sendmsg<span class="token punctuation">.</span>sendmsg<span class="token punctuation">(</span><span class="token punctuation">)</span>
recvmsg<span class="token punctuation">.</span>recvmsg<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<ul>
<li><p>包将有联系的模块组织在一起，即放到同一个文件夹下，并且在这个文件夹创建一个名字为<code>__init__.py</code> 文件，那么这个文件夹就称之为<code>包</code></p>
</li>
<li><p>有效避免模块名称冲突问题，让应用组织结构更加清晰</p>
</li>
</ul>
</blockquote>
<h3 id="2-init-py文件有什么用"><a href="#2-init-py文件有什么用" class="headerlink" title="2. __init__.py文件有什么用"></a>2. <code>__init__.py</code>文件有什么用</h3><p><code>__init__.py</code> 控制着包的导入行为。<code>__init__.py</code>为空仅仅是把这个包导入，不会导入包中的模块。可以在<code>__init__.py</code>文件中编写内容。</p>
<p><code>newmsg/__init__.py</code>文件：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>别的模块在引入这个包的时候，会自动调用这段代码。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/init%E6%96%87%E4%BB%B6.png" alt="img"></p>
<h3 id="3-all"><a href="#3-all" class="headerlink" title="3. __all__"></a>3. <code>__all__</code></h3><p>在<code>__init__.py</code>文件中，定义一个<code>__all__</code>变量，它控制着 from 包名 import *时导入的模块。</p>
<p><code>newmsg/__init__.py</code>文件：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'sendmsg'</span><span class="token punctuation">,</span><span class="token string">'recvmsg'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/__all__%E7%9A%84%E4%BD%BF%E7%94%A8.png" alt="img"></p>
<h2 id="面向对象基础"><a href="#面向对象基础" class="headerlink" title="面向对象基础"></a>面向对象基础</h2><h3 id="面向对象与面向过程"><a href="#面向对象与面向过程" class="headerlink" title="面向对象与面向过程"></a>面向对象与面向过程</h3><ul>
<li>面向过程：根据业务逻辑从上到下写代码。</li>
<li>面向对象：将变量与函数绑定到一起，分类进行封装，每个程序只要负责分配给自己的分类，这样能够更快速的开发程序，减少了重复代码。</li>
</ul>
<p>面向过程编程最易被初学者接受，其往往用一长段代码来实现指定功能，开发过程的思路是将数据与函数按照执行的逻辑顺序组织在一起，数据与函数分开考虑，面向过程基本是由函数组成的。</p>
<h4 id="1-面向过程编程"><a href="#1-面向过程编程" class="headerlink" title="1.面向过程编程"></a>1.面向过程编程</h4><p>面向过程编程的关注点在于<strong>怎么做</strong></p>
<ul>
<li>把完成某一个需求的 所有步骤 从头到尾 逐步实现</li>
<li>根据开发需求，将某些 功能独立 的代码 封装 成一个又一个 函数</li>
<li>最后完成的代码，就是顺序地调用 不同的函数</li>
</ul>
<p>特点:</p>
<ul>
<li>注重步骤与过程，不注重职责分工</li>
<li>如果需求复杂，代码会变得很复杂</li>
<li>开发复杂项目，没有固定的套路，开发难度很大！</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B.png" alt="img"></p>
<h4 id="2-面向对象基本概念"><a href="#2-面向对象基本概念" class="headerlink" title="2. 面向对象基本概念"></a>2. 面向对象基本概念</h4><p>面向对象编程（Object Oriented Programming，OOP，面向对象程序设计）和面相过程编程，是两种不同的编程方式。</p>
<p>面向对象编程的关注点在于<strong>谁来做</strong></p>
<blockquote>
<p>相比较函数，面向对象是更大的封装，根据职责在 一个对象中封装多个方法</p>
</blockquote>
<ul>
<li>在完成某一个需求前，首先确定职责 —— 要做的事情（方法）</li>
<li>根据 职责 确定不同的 对象，在对象内部封装不同的方法（多个）</li>
<li>最后完成的代码，就是顺序地调用不同对象的相应方法。</li>
</ul>
<p>特点:</p>
<ul>
<li>注重 对象和职责，不同的对象承担不同的职责。</li>
<li>更加适合应对复杂的需求变化，是专门应对复杂项目开发，提供的固定套路。</li>
<li>需要在面向过程基础上，再学习一些面向对象的语法。</li>
</ul>
<h3 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h3><p><strong>类</strong>和<strong>对象</strong>是面向对象编程的两个核心概念。</p>
<h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><p>类是对一群具有相同特征或者行为 的事物的一个统称，是抽象的，不能直接使用</p>
<ul>
<li>特征其实就是一个变量，在类里我们称之为属性。</li>
<li>行为其实就是一个函数，在类里我们称之为方法。</li>
<li>类其实就是由 <strong>属性</strong> 和 <strong>方法</strong> 组成的一个抽象概念。</li>
</ul>
<p>类就相当于制造飞机时的图纸，是一个模板。这个模板只规定了飞机的某些特征(例如大小，颜色，型号等等)和行为(例如起飞，降落，飞行等等)，它并不是一个具体的飞机，而是对飞机的一个抽象概念。它出现的目的，是为了让我们的创建飞机对象。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E9%A3%9E%E6%9C%BA%E8%AE%BE%E8%AE%A1%E5%9B%BE%E7%BA%B8.png" alt="img"></p>
<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><p>对象是由类创建出来的一个具体存在，可以直接使用。由哪一个类创建出来的 对象，就拥有在哪一个类中定义的属性和方法。 <strong>对象</strong> 就相当于用图纸制造的飞机。在开发中，应该先有类，在类里定义好属性和行为，再根据类来创建对象。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/image-20230130183658838.png" alt="image-20230130183658838"></p>
<h4 id="类和对象的关系"><a href="#类和对象的关系" class="headerlink" title="类和对象的关系"></a>类和对象的关系</h4><ul>
<li>类是模板，对象是根据类这个模板创建出来的，应该先有类，再有对象。</li>
<li>使用同一个类，能够创建出很多对象。</li>
<li>类中定义了什么属性和方法，对象中就有什么属性和方法。</li>
<li>不同对象对应的属性值也会不同。</li>
</ul>
<p>例如：定义了一个狗类，这个狗类有以下属性：</p>
<ul>
<li>品种</li>
<li>颜色</li>
<li>性别</li>
<li>名字</li>
</ul>
<p>现在根据这个类创建出了两条狗，这两条狗分别是 <code>哈士奇、灰色、母、二哈</code> 和 <code>中华田园犬、黄色、公、旺财</code>。我们发现，这两条狗都具有 品种、颜色、性别和名字这些属性，但是每条狗对应的属性值却不一样。</p>
<h4 id="类的设计"><a href="#类的设计" class="headerlink" title="类的设计"></a>类的设计</h4><p>在使用面相对象开发前，应该首先分析需求，确定一下，程序中需要包含哪些类！</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E6%A4%8D%E7%89%A9%E5%A4%A7%E6%88%98%E5%83%B5%E5%B0%B8%E7%B1%BB%E5%9B%BE.png" alt="img"></p>
<p>在程序开发中，要设计一个类，通常需要满足一下三个要素：</p>
<ol>
<li><strong>类名</strong> 这类事物的名字，安照大驼峰命名法(每个单词的首字母大写)起名。</li>
<li><strong>属性</strong> 这类事物具有什么样的特征。</li>
<li><strong>方法</strong> 这类事物具有什么样的行为。</li>
</ol>
<h4 id="定义类名"><a href="#定义类名" class="headerlink" title="定义类名"></a>定义类名</h4><p>名词提炼法:分析整个业务流程，出现的名词，通常就是找到的类。</p>
<h4 id="属性和方法的确定"><a href="#属性和方法的确定" class="headerlink" title="属性和方法的确定"></a>属性和方法的确定</h4><ul>
<li>对对象的特征描述，可以定义成属性</li>
<li>对象具有的行为（动词）可以定义成方法</li>
</ul>
<h3 id="面向对象基本语法"><a href="#面向对象基本语法" class="headerlink" title="面向对象基本语法"></a>面向对象基本语法</h3><p>在Python中，对象几乎是无处不在的，我们可以使用<code>dir</code>内置函数来查看这个对象里的方法。</p>
<h4 id="定义简单的类（只包含方法）"><a href="#定义简单的类（只包含方法）" class="headerlink" title="定义简单的类（只包含方法）"></a>定义简单的类（只包含方法）</h4><blockquote>
<p>面向对象是更大的封装，在一个类中封装多个方法，这样通过这个类创建出来的对象，就可以直接调用这些方法了！</p>
</blockquote>
<h5 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h5><p>在Python中要定义一个只包含方法的类，语法格式如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> 类名<span class="token punctuation">:</span>
    <span class="token keyword">def</span> 方法<span class="token number">1</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>参数列表<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">def</span> 方法<span class="token number">2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>参数列表<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<ol>
<li>方法的定义格式和之前学习过的函数一样</li>
<li>方法里的<strong>第一个参数必须是self</strong>，大家暂时先记住，稍后介绍 self.</li>
<li>类名要遵守大驼峰命名法。</li>
</ol>
</blockquote>
<h5 id="创建实例对象"><a href="#创建实例对象" class="headerlink" title="创建实例对象"></a>创建实例对象</h5><p>当一个类定义完成之后，要使用这个类来创建对象，语法格式如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">对象变量名 <span class="token operator">=</span> 类名<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="第一个面向对象代码"><a href="#第一个面向对象代码" class="headerlink" title="第一个面向对象代码"></a>第一个面向对象代码</h5><p>需求</p>
<ul>
<li>小猫 爱 吃 鱼，小猫 要 喝 水</li>
</ul>
<p>分析</p>
<ul>
<li>定义一个猫类 Cat</li>
<li>定义两个方法 eat 和 drink</li>
<li>按照需求 —— 不需要定义属性</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""这是个猫类"""</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"小猫在吃东西"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">drink</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"小猫在喝水"</span><span class="token punctuation">)</span>

tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 创建了一个Cat对象</span>
tom<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>drink<span class="token punctuation">(</span><span class="token punctuation">)</span>

hello_kitty <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 又创建了一个新的Cat对象</span>
hello_kitty<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
hello_kitty<span class="token punctuation">.</span>drink<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>思考：<code>tom</code> 和 <code>hello_kitty</code> 是同一个对象吗？</p>
<h4 id="self的使用"><a href="#self的使用" class="headerlink" title="self的使用"></a>self的使用</h4><h5 id="给对象添加属性"><a href="#给对象添加属性" class="headerlink" title="给对象添加属性"></a>给对象添加属性</h5><p>python支持动态属性，当一个对象创建好了以后，直接使用 <code>对象.属性名 = 属性值</code> 就可以很方便的给对象添加一个属性。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span>  <span class="token comment"># 可以直接给 tom 对象添加一个 name 属性</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这种方法很方便，但是，不建议使用这种方式给对象添加属性。</p>
<h4 id="self的概念"><a href="#self的概念" class="headerlink" title="self的概念"></a>self的概念</h4><p>哪个对象调用了方法，方法里的<code>self</code>指的就是谁。 通过 <code>self.属性名</code> 可以访问到这个对象的属性；通过 <code>self.方法名()</code> 可以调用这个对象的方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s爱吃鱼"</span> <span class="token operator">%</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span>  <span class="token comment"># 给 tom 对象添加了一个name属性</span>
tom<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Tom爱吃鱼</span>

lazy_cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
lazy_cat<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"大懒猫"</span>
lazy_cat<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 大懒猫爱吃鱼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="直接给对象添加属性的缺点"><a href="#直接给对象添加属性的缺点" class="headerlink" title="直接给对象添加属性的缺点"></a>直接给对象添加属性的缺点</h4><p>上述代码中，我们是先创建对象，然后再给对象添加 <code>name</code> 属性，但是这样做会有问题。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
tom<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Tom"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>程序运行时会报错：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">AttributeError<span class="token punctuation">:</span> <span class="token string">'Cat'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'name'</span>
错误提示：<span class="token string">'Cat'</span>对象没有 <span class="token string">'name'</span> 属性<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>在日常开发中，不推荐在类的外部直接给对象添加属性这种方式。对象应该具有哪些属性，我们应该封装在类的内部。</p>
<h3 id="魔法方法"><a href="#魔法方法" class="headerlink" title="魔法方法"></a>魔法方法</h3><p>Python 里有一种方法，叫做魔法方法。Python 的类里提供的，两个下划线开始，两个下划线结束的方法，就是魔法方法，魔法方法在恰当的时候就会被激活，自动执行。 魔法方法的两个特点：</p>
<ul>
<li>两侧各有两个下划线；</li>
<li>“咒语”名字已经由 Python 官方定义好，我们不能乱写。</li>
</ul>
<h4 id="1-init-方法"><a href="#1-init-方法" class="headerlink" title="1.__init__()方法"></a>1.<code>__init__()</code>方法</h4><p><code>__init__()</code>方法，在创建一个对象时默认被调用，不需要手动调用。在开发中，如果希望在创建对象的同时，就设置对象的属性，可以对 <code>__init__</code> 方法进行改造。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""这是一个猫类"""</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 重写了 __init__ 魔法方法</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"%s爱吃鱼"</span><span class="token operator">%</span>self<span class="token punctuation">.</span>name
    <span class="token keyword">def</span> <span class="token function">drink</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'%s爱喝水'</span><span class="token operator">%</span>self<span class="token punctuation">.</span>name

    <span class="token triple-quoted-string string">"""
        tom = Cat()
        TypeError: __init__() missing 1 required positional argument: 'name'
        这种写法在运行时会直接报错！因为 __init__ 方法里要求在创建对象时，必须要传递 name 属性，如果不传入会直接报错！
    """</span>

tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span>  <span class="token comment"># 创建对象时，必须要指定name属性的值</span>
tom<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># tom爱吃鱼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意：</p>
<ol>
<li><code>__init__()</code>方法在创建对象时，会默认被调用，不需要手动的调用这个方法。</li>
<li><code>__init__()</code>方法里的self参数，在创建对象时不需要传递参数，python解释器会把创建好的对象引用直接赋值给self</li>
<li>在类的内部，可以使用self来使用属性和调用方法；在类的外部，需要使用对象名来使用属性和调用方法。</li>
<li>如果有多个对象，每个对象的属性是各自保存的，都有各自独立的地址。</li>
<li>方法是所有对象共享的，只占用一份内存空间，方法被调用时会通过self来判断是哪个对象调用了实例方法。</li>
</ol>
<h4 id="2-del-方法"><a href="#2-del-方法" class="headerlink" title="2.__del__()方法"></a>2.<code>__del__()</code>方法</h4><p>创建对象后，python解释器默认调用<code>__init__()</code>方法；</p>
<p>而当删除对象时，python解释器也会默认调用一个方法，这个方法为<code>__del__()</code>方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__init__方法被调用了'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score

    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__del__方法被调用了'</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token number">95</span><span class="token punctuation">)</span>
<span class="token keyword">del</span> s
<span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'请输入内容'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="3-str-方法"><a href="#3-str-方法" class="headerlink" title="3.__str__()方法"></a>3.<code>__str__()</code>方法</h4><p><code>__str__()</code>方法返回对象的描述信息，使用<code>print()</code>函数打印对象时，其实调用的就是这个对象的<code>__str__()</code>方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>color <span class="token operator">=</span> color

tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span><span class="token string">'white'</span><span class="token punctuation">)</span>

<span class="token comment"># 使用 print 方法打印对象时，会调用对象的 __str__ 方法，默认会打印类名和对象的地址名</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span>   <span class="token comment"># &lt;__main__.Cat object at 0x0000021BE3B9C940&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果想要修改对象的输出的结果，可以重写 <code>__str__</code> 方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'哈哈'</span>

p  <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>   <span class="token comment"># 哈哈  打印对象时，会自动调用对象的 __str__ 方法</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>一般情况下，我们在打印一个对象时，可能需要列出这个对象的所有属性。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'姓名是:{},成绩是{}分'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span>

s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token number">95</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>   <span class="token comment"># 姓名是:lisi,成绩是95分</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-repr-方法"><a href="#4-repr-方法" class="headerlink" title="4. __repr__()方法"></a>4. <code>__repr__()</code>方法</h4><p><code>__repr__()</code>方法和<code>__str__()</code>方法功能类似，都是用来修改一个对象的默认打印内容。在打印一个对象时，如果没有重写<code>__str__()</code>方法，它会自动来查找<code>__repr__()</code>方法。如果这两个方法都没有，会直接打印这个对象的内存地址。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score

    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'helllo'</span>


<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'hi'</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'good'</span>


s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment"># hello</span>

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>  <span class="token comment"># good</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="5-call-方法"><a href="#5-call-方法" class="headerlink" title="5. __call__()方法"></a>5. <code>__call__()</code>方法</h4><p>对象后面加括号，触发执行。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__call__'</span><span class="token punctuation">)</span>


obj <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 执行 __init__</span>
obj<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 执行 __call__</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h4><ol>
<li>当创建一个对象时，会自动调用<code>__init__</code>方法，当删除一个对象时，会自动调用<code>__del__</code>方法。</li>
<li>使用<code>__str__</code>和<code>__repr__</code>方法，都会修改一个对象转换成为字符串的结果。一般来说，<code>__str__</code>方法的结果更加在意可读性，而<code>__repr__</code>方法的结果更加在意正确性(例如:datetime模块里的datetime类)</li>
</ol>
<h4 id="运算相关的魔法方法"><a href="#运算相关的魔法方法" class="headerlink" title="运算相关的魔法方法"></a>运算相关的魔法方法</h4><p>思考:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">==</span> p2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上述代码中，使用<code>==</code>运算符比较两个对象，结果是True还是False?<code>==</code>到底比较的是什么？</p>
<h5 id="比较运算符相关魔法方法"><a href="#比较运算符相关魔法方法" class="headerlink" title="比较运算符相关魔法方法"></a>比较运算符相关魔法方法</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>name <span class="token operator">==</span> other<span class="token punctuation">.</span>name <span class="token keyword">and</span> self<span class="token punctuation">.</span>age <span class="token operator">==</span> other<span class="token punctuation">.</span>age

    <span class="token comment"># def __ne__(self, other):</span>

    <span class="token keyword">def</span> <span class="token function">__lt__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> other<span class="token punctuation">.</span>age

    <span class="token comment"># def __gt__(self, other):</span>

    <span class="token keyword">def</span> <span class="token function">__le__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">&lt;=</span> other<span class="token punctuation">.</span>age
    
    <span class="token comment"># def __ge__(self, other):</span>


s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
s3 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">!=</span> s2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">&gt;</span> s2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">&gt;=</span> s2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">&lt;=</span> s2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">&lt;=</span> s2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="算数运算符相关魔法方法"><a href="#算数运算符相关魔法方法" class="headerlink" title="算数运算符相关魔法方法"></a>算数运算符相关魔法方法</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">+</span> other

    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">-</span> other

    <span class="token keyword">def</span> <span class="token function">__mul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">*</span> other

    <span class="token keyword">def</span> <span class="token function">__truediv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">/</span> other

    <span class="token keyword">def</span> <span class="token function">__mod__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">%</span> other

    <span class="token keyword">def</span> <span class="token function">__pow__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> power<span class="token punctuation">,</span> modulo<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">**</span> power


s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 19</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 16</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 36</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># 3.6</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s <span class="token operator">%</span> <span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 324</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="类型转换相关魔法方法"><a href="#类型转换相关魔法方法" class="headerlink" title="类型转换相关魔法方法"></a>类型转换相关魔法方法</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">__int__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age

    <span class="token keyword">def</span> <span class="token function">__float__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">*</span> <span class="token number">1.0</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>name

    <span class="token keyword">def</span> <span class="token function">__bool__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">18</span>


s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> s<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="内置属性"><a href="#内置属性" class="headerlink" title="内置属性"></a>内置属性</h3><p>使用内置函数<code>dir</code>可以查看一个对象支持的所有属性和方法，Python中存在着很多的内置属性。</p>
<h4 id="slots"><a href="#slots" class="headerlink" title="__slots__"></a><code>__slots__</code></h4><p>Python中支持动态属性，可以直接通过点语法直接给一个对象添加属性，代码更加的灵活。但是在某些情况下，我们可能需要对属性进行控制，此时，就可使用<code>__slots__</code>实现。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        
p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'李四'</span>

<span class="token comment"># 对象p只能设置name和age属性，不能再动态添加属性</span>
<span class="token comment"># p.height = 180 # 报错</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="doc"><a href="#doc" class="headerlink" title="__doc__"></a><code>__doc__</code></h4><p>表示类的描述信息。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">""" 描述类信息，这是用于看片的神奇 """</span>
    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>__doc__<span class="token punctuation">)</span>
<span class="token comment"># 输出：类的描述信息</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="module-和-class"><a href="#module-和-class" class="headerlink" title="__module__ 和 __class__"></a><code>__module__</code> 和 <code>__class__</code></h4><p><code>__module__</code> 表示当前操作的对象在那个模块；</p>
<p><code>__class__</code> 表示当前操作的对象的类是什么。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">test<span class="token punctuation">.</span>py
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'laowang'</span>
main<span class="token punctuation">.</span>py
<span class="token keyword">from</span> test <span class="token keyword">import</span> Person

obj <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__module__<span class="token punctuation">)</span>  <span class="token comment"># 输出 test 即：输出模块</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__class__<span class="token punctuation">)</span>  <span class="token comment"># 输出 test.Person 即：输出类</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="dict"><a href="#dict" class="headerlink" title="__dict__"></a><code>__dict__</code></h4><p>以字典的形式，显示对象所有的属性和方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Province</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    country <span class="token operator">=</span> <span class="token string">'China'</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>count <span class="token operator">=</span> count

    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'func'</span><span class="token punctuation">)</span>

<span class="token comment"># 获取类的属性，即：类属性、方法、</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Province<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token comment"># 输出：{'__dict__': &lt;attribute '__dict__' of 'Province' objects&gt;, '__module__': '__main__', 'country': 'China', '__doc__': None, '__weakref__': &lt;attribute '__weakref__' of 'Province' objects&gt;, 'func': &lt;function Province.func at 0x101897950&gt;, '__init__': &lt;function Province.__init__ at 0x1018978c8&gt;}</span>

obj1 <span class="token operator">=</span> Province<span class="token punctuation">(</span><span class="token string">'山东'</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token comment"># 获取 对象obj1 的属性</span>
<span class="token comment"># 输出：{'count': 10000, 'name': '山东'}</span>

obj2 <span class="token operator">=</span> Province<span class="token punctuation">(</span><span class="token string">'山西'</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token comment"># 获取 对象obj1 的属性</span>
<span class="token comment"># 输出：{'count': 20000, 'name': '山西'}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="getitem-、-setitem-和-delitem-方法"><a href="#getitem-、-setitem-和-delitem-方法" class="headerlink" title="__getitem__、__setitem__和__delitem__方法"></a><code>__getitem__</code>、<code>__setitem__</code>和<code>__delitem__</code>方法</h4><p>这三个方法，是将对象当做字典一样进行操作。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__getitem__'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__setitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__setitem__'</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__delitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__delitem__'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>

obj <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>

result <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token string">'k1'</span><span class="token punctuation">]</span>      <span class="token comment"># 自动触发执行 __getitem__</span>
obj<span class="token punctuation">[</span><span class="token string">'k2'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'laowang'</span>   <span class="token comment"># 自动触发执行 __setitem__</span>
<span class="token keyword">del</span> obj<span class="token punctuation">[</span><span class="token string">'k1'</span><span class="token punctuation">]</span>           <span class="token comment"># 自动触发执行 __delitem__</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实例属性、类属性"><a href="#实例属性、类属性" class="headerlink" title="实例属性、类属性"></a>实例属性、类属性</h3><p>在面向对象开发中，使用类创建出来的实例是一个对象，那么，类是否是一个对象呢？</p>
<h4 id="实例属性"><a href="#实例属性" class="headerlink" title="实例属性"></a>实例属性</h4><p>通过类创建的对象被称为 <strong>实例对象</strong>，对象属性又称为实例属性，记录对象各自的数据，不同对象的同名实例属性，记录的数据各自独立，互不干扰。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 这里的name和age都属于是实例属性，每个实例在创建时，都有自己的属性</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

<span class="token comment"># 每创建一个对象，这个对象就有自己的name和age属性</span>
p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="类属性"><a href="#类属性" class="headerlink" title="类属性"></a>类属性</h4><p>类属性就是类对象所拥有的属性，它被该类的所有实例对象所共有，类属性可以通过类对象或者实例对象访问。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    <span class="token builtin">type</span> <span class="token operator">=</span> <span class="token string">"狗"</span>  <span class="token comment"># 类属性</span>

dog1 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
dog2 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 不管是dog1、dog2还是Dog类，都可以访问到type属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>  <span class="token comment"># 结果：狗</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog1<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>  <span class="token comment"># 结果：狗</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog2<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>  <span class="token comment"># 结果：狗</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="使用场景："><a href="#使用场景：" class="headerlink" title="使用场景："></a>使用场景：</h5><ol>
<li>类的实例记录的某项数据始终保持一致时，则定义类属性。</li>
<li>实例属性要求每个对象为其单独开辟一份内存空间来记录数据，而类属性为全类所共有 ，仅占用一份内存，更加节省内存空间。</li>
</ol>
<h5 id="注意点："><a href="#注意点：" class="headerlink" title="注意点："></a>注意点：</h5><ol>
<li><strong>尽量避免类属性和实例属性同名</strong>。如果有同名实例属性，<strong>实例对象会优先访问实例属性</strong>。</li>
</ol>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">type</span> <span class="token operator">=</span> <span class="token string">"狗"</span>  <span class="token comment"># 类属性</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token string">"dog"</span>  <span class="token comment"># 对象属性</span>

<span class="token comment"># 创建对象</span>
dog1 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dog1<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>     <span class="token comment"># 结果为 “dog”   类属性和实例属性同名，使用 实例对象 访问的是 实例属性</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="2">
<li><strong>类属性只能通过类对象修改，不能通过实例对象修改</strong></li>
</ol>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">lass Dog<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">type</span> <span class="token operator">=</span> <span class="token string">"狗"</span>  <span class="token comment"># 类属性</span>

<span class="token comment"># 创建对象</span>
dog1 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
dog1<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token string">"dog"</span>   <span class="token comment"># 使用 实例对象 创建了对象属性type</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dog1<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>     <span class="token comment"># 结果为 “dog”   类属性和实例属性同名，访问的是实例属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>      <span class="token comment"># 结果为 "狗"   访问类属性</span>

<span class="token comment"># 只有使用类名才能修改类属性</span>
Dog<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token string">"土狗"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>  <span class="token comment"># 土狗</span>
dog2 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog2<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">)</span>  <span class="token comment"># 土狗</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="3">
<li><strong>类属性也可以设置为私有</strong>，前边添加两个下划线。 如:</li>
</ol>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    count <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 公有的类属性</span>
    __type <span class="token operator">=</span> <span class="token string">"狗"</span>  <span class="token comment"># 私有的类属性</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span>count<span class="token punctuation">)</span>       <span class="token comment"># 正确</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span>__type<span class="token punctuation">)</span>      <span class="token comment"># 错误,私有属性，外部无法访问。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="私有属性和方法"><a href="#私有属性和方法" class="headerlink" title="私有属性和方法"></a>私有属性和方法</h3><p>在实际开发中，对象的某些属性或者方法可能只希望在对象的内部别使用，而不希望在外部被访问到，这时就可以定义私有属性和私有方法。</p>
<h4 id="定义方法"><a href="#定义方法" class="headerlink" title="定义方法"></a>定义方法</h4><p>在定义属性或方法时，在属性名或者方法名前增加两个下划线<code>__</code>，定义的就是私有属性或方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>__money <span class="token operator">=</span> <span class="token number">2000</span>  <span class="token comment"># 使用 __ 修饰的属性，是私有属性</span>

    <span class="token keyword">def</span> <span class="token function">__shopping</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> cost<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__money <span class="token operator">-=</span> cost  <span class="token comment"># __money 只能在对象内部使用</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'还剩下%d元'</span><span class="token operator">%</span>self<span class="token punctuation">.</span>__money<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__shopping<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>  <span class="token comment"># __shopping 方法也只能在对象内部使用</span>

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>
<span class="token comment"># print(p.__money)   这里会报错，不能直接访问对象内部的私有属性</span>
p<span class="token punctuation">.</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># p.__shopping()  这里会报错，__shopping 只能在对象内部使用，外部无法访问</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="访问私有属性和方法"><a href="#访问私有属性和方法" class="headerlink" title="访问私有属性和方法"></a>访问私有属性和方法</h4><p>私有属性不能直接使用，私有方法不能直接调用。但是，通过一些代码，我们也可以在外部访问一个对象的私有属性和方法。</p>
<h5 id="直接访问"><a href="#直接访问" class="headerlink" title="直接访问"></a>直接访问</h5><p>使用方式:在私有属性名或方法名前添加 <code>_类名</code></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>__money <span class="token operator">=</span> <span class="token number">2000</span>

    <span class="token keyword">def</span> <span class="token function">__shopping</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> cost<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__money <span class="token operator">-=</span> cost


p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>_Person__money<span class="token punctuation">)</span>  <span class="token comment"># 使用对象名._类名__私有属性名 可以直接访问对象的私有属性</span>
p<span class="token punctuation">.</span>_Person__shopping<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment"># 使用对象名._类名__函数名 可以直接调用对象的私有方法</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>_Person__money<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意：在开发中，我们强烈不建议使用 <code>对象名._类名__私有属性名</code> 的方式来访问对象的私有属性！</p>
</blockquote>
<h5 id="定义方法访问私有变量"><a href="#定义方法访问私有变量" class="headerlink" title="定义方法访问私有变量"></a>定义方法访问私有变量</h5><p>在实际开发中，如果对象的变量使用了<code>__</code> 来修饰，就说明它是一个私有变量，不建议外部直接使用和修改。如果硬要修改这个属性，可以使用定义<code>get</code>和<code>set</code>方法这种方式来实现。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>__money <span class="token operator">=</span> <span class="token number">2000</span>  <span class="token comment"># __money 是私有变量，外部无法访问</span>

    <span class="token keyword">def</span> <span class="token function">get_money</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 定义了get_money 方法，在这个方法里获取到 __money</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__money  <span class="token comment"># 内部可以访问 __money 变量</span>

    <span class="token keyword">def</span> <span class="token function">set_money</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 定义了set_money 方法，在这个方法里，可以修改 __money</span>
        self<span class="token punctuation">.</span>__money <span class="token operator">=</span> money

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'王五'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span>

<span class="token comment"># 外部通过调用 get_money 和 set_money 这两个公开方法获取和修改私有变量</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>get_money<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>set_money<span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>get_money<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="面向对象进阶"><a href="#面向对象进阶" class="headerlink" title="面向对象进阶"></a>面向对象进阶</h2><h3 id="类方法"><a href="#类方法" class="headerlink" title="类方法"></a>类方法</h3><ul>
<li><strong>第一个形参是类对象的方法</strong></li>
<li>需要用装饰器<code>@classmethod</code>来标识其为类方法，对于类方法，<strong>第一个参数必须是类对象</strong>，一般以<code>cls</code>作为第一个参数。</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    __type <span class="token operator">=</span> <span class="token string">"狗"</span>

    <span class="token comment"># 类方法，用classmethod来进行修饰</span>
    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">get_type</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__type
<span class="token keyword">print</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span>get_type<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>使用场景：</p>
<ul>
<li>当方法中 <strong>需要使用类对象</strong> (如访问私有类属性等)时，定义类方法</li>
<li>类方法一般和类属性配合使用</li>
</ul>
</blockquote>
<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><ul>
<li>需要通过装饰器<code>@staticmethod</code>来进行修饰，<strong>静态方法既不需要传递类对象也不需要传递实例对象（形参没有self/cls）</strong>。</li>
<li>静态方法 也能够通过 <strong>实例对象</strong> 和 <strong>类对象</strong> 去访问。</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">type</span> <span class="token operator">=</span> <span class="token string">"狗"</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        name <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token comment"># 静态方法    </span>
    <span class="token decorator annotation punctuation">@staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 静态方法不会自动传递实例对象和类对象</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"犬科哺乳动物,属于食肉目.."</span><span class="token punctuation">)</span>

dog1 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
Dog<span class="token punctuation">.</span>introduce<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 可以用 实例对象 来调用 静态方法</span>
dog1<span class="token punctuation">.</span>introduce<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 可以用 类对象 来调用 静态方法</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>使用场景：</p>
<ul>
<li>当方法中 <strong>既不需要使用实例对象</strong>(如实例对象，实例属性)，<strong>也不需要使用类对象</strong> (如类属性、类方法、创建实例等)时，定义静态方法</li>
<li><strong>取消不需要的参数传递</strong>，有利于 <strong>减少不必要的内存占用和性能消耗</strong></li>
</ul>
</blockquote>
<p><strong>注意点：</strong></p>
<ul>
<li>类中定义了同名的方法时，调用方法会执行最后定义的方法</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">demo_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"对象方法"</span><span class="token punctuation">)</span>

    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">demo_method</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"类方法"</span><span class="token punctuation">)</span>

    <span class="token decorator annotation punctuation">@staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">demo_method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 被最后定义</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"静态方法"</span><span class="token punctuation">)</span>

dog1 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
Dog<span class="token punctuation">.</span>demo_method<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 结果: 静态方法</span>
dog1<span class="token punctuation">.</span>demo_method<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 结果: 静态方法</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="单例设计模式"><a href="#单例设计模式" class="headerlink" title="单例设计模式"></a>单例设计模式</h3><p>举个常见的单例模式例子，我们日常使用的电脑上都有一个回收站，在整个操作系统中，回收站只能有一个实例，整个系统都使用这个唯一的实例，而且回收站自行提供自己的实例。因此回收站是单例模式的应用。</p>
<p>确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，单例模式是一种对象创建型模式。</p>
<h4 id="new-和-init-方法"><a href="#new-和-init-方法" class="headerlink" title="__new__和__init__方法"></a><code>__new__</code>和<code>__init__</code>方法</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"这是 init 方法"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"这是 new 方法"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>

A<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>总结</p>
<ul>
<li><code>__new__</code>至少要有一个参数cls，代表要实例化的类，此参数在实例化时由Python解释器自动提供</li>
<li><code>__new__</code>必须要有返回值，返回实例化出来的实例，这点在自己实现<code>__new__</code>时要特别注意，可以return父类<code>__new__</code>出来的实例，或者直接是object的<code>__new__</code>出来的实例</li>
<li><code>__init__</code>有一个参数self，就是这个<code>__new__</code>返回的实例，<code>__init__</code>在<code>__new__</code>的基础上可以完成一些其它初始化的动作，<code>__init__</code>不需要返回值</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 实例化一个单例</span>
<span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    __instance <span class="token operator">=</span> <span class="token boolean">None</span>
    __is_first <span class="token operator">=</span> <span class="token boolean">True</span>

    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> age<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> cls<span class="token punctuation">.</span>__instance<span class="token punctuation">:</span>
            cls<span class="token punctuation">.</span>__instance <span class="token operator">=</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> age<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span> __is_first<span class="token punctuation">:</span> <span class="token comment"># 不会再创建第二个对象</span>
            self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
            self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
            Singleton<span class="token punctuation">.</span> __is_first <span class="token operator">=</span> <span class="token boolean">False</span>


a <span class="token operator">=</span> Singleton<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">"张三"</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> Singleton<span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">"张三"</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment"># 18</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment"># 18</span>

a<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">19</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="继承的基本使用"><a href="#继承的基本使用" class="headerlink" title="继承的基本使用"></a>继承的基本使用</h3><p>在现实生活中，继承一般指的是子女继承父辈的财产，父辈有的财产，子女能够直接使用。</p>
<h4 id="程序里的继承"><a href="#程序里的继承" class="headerlink" title="程序里的继承"></a>程序里的继承</h4><p>继承是面向对象软件设计中的一个概念，与多态、封装共为面向对象的三个基本特征。继承可以使得子类具有父类的属性和方法或者重新定义、追加属性和方法等。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E7%BB%A7%E6%89%BF-1675081915751.png" alt="img"></p>
<ul>
<li>在程序中，继承描述的是多个类之间的所属关系。</li>
<li>如果一个类A里面的属性和方法可以复用，则可以通过继承的方式，传递到类B里。</li>
<li>那么类A就是基类，也叫做父类；类B就是派生类，也叫做子类。</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__int__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>
    <span class="token triple-quoted-string string">"""动物类"""</span>
    <span class="token keyword">def</span> <span class="token function">sleep</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'正在睡觉'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Dog类继承自Animal类"""</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 定义类时，在括号后面传入父类的类名，表示子类继承父类</span>
    <span class="token triple-quoted-string string">"""Cat类继承自Animal类"""</span>
    <span class="token keyword">def</span> <span class="token function">__int__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

<span class="token comment"># Dog 和 Cat 都继承自Animal类，可以直接使用Animal类里的sleep方法</span>
dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token punctuation">)</span>

cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
cat<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在Python中，继承可以分为单继承、多继承和多层继承。</p>
<h4 id="单继承：子类只继承一个父类"><a href="#单继承：子类只继承一个父类" class="headerlink" title="单继承：子类只继承一个父类"></a>单继承：子类只继承一个父类</h4><p>继承概念：子类用于父类的所有的方法和属性。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E7%BB%A7%E6%89%BF%E5%AF%B9%E6%AF%94%E5%9B%BE%E7%A4%BA.png" alt="img"></p>
<p>继承语法:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> 类名<span class="token punctuation">(</span>父类名<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>子类继承自父类，可以享受父类中已经封装好的方法，不需要再次定义</li>
<li>子类中应该根据职责，封装子类特有的属性和方法。</li>
</ul>
<h5 id="继承的传递性"><a href="#继承的传递性" class="headerlink" title="继承的传递性"></a>继承的传递性</h5><p>Dog类继承自Animal,XiaoTianQuan又继承自Dog类，那么XiaoTianQuan类就具有了Animal类里的所有属性和方法。</p>
<p>子类拥有父类以及父类的父类中封装的所有属性和方法。</p>
<p>思考:</p>
<blockquote>
<p>XiaoTianQuan能否调用Animal的run()方法？ XiaoTianQuan能够调用Cat里的方法？</p>
</blockquote>
<h4 id="多继承"><a href="#多继承" class="headerlink" title="多继承"></a>多继承</h4><p>子类可以拥有多个父类，并且具有所有父类的属性和方法。</p>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%A4%9A%E7%BB%A7%E6%89%BF.png" alt="img"></p>
<p>语法格式：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> 子类名<span class="token punctuation">(</span>父类名<span class="token number">1</span><span class="token punctuation">,</span>父类名<span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="多继承的使用注意事项"><a href="#多继承的使用注意事项" class="headerlink" title="多继承的使用注意事项"></a>多继承的使用注意事项</h5><p>思考:</p>
<blockquote>
<p>如果不同的父类中存在同名的方法，子类对象在调用方法时，会调用哪个父类的方法？ 说明：开发中，应该尽量避免这种容易产生混淆的情况。如果多个父类之间存在同名的属性后者方法，应该尽量避免使用多继承。</p>
</blockquote>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E5%A4%9A%E7%BB%A7%E6%89%BFII.png" alt="img"></p>
<h5 id="Python中的MRO"><a href="#Python中的MRO" class="headerlink" title="Python中的MRO"></a>Python中的MRO</h5><ul>
<li>Python中针对类提供了一个内置属性<code>__mro__</code>可以用来查看方法的搜索顺序。</li>
<li>MRO 是<code>method resolution order</code>的简称，主要用于在多继承时判断方法属性的调用顺序。</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span>__mro__<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>输出结果:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.C'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.A'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.B'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'object'</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>在调用方法时，按照<code>__mro__</code>的输出结果从左至右的顺序查找。</li>
<li>如果再当前类中找到方法，就直接执行，不再向下搜索。</li>
<li>如果没有找到，就顺序查找下一个类中是否有对应的方法，如果找到，就直接执行，不再继续向下搜索。</li>
<li>如果找到了最后一个类，依然没有找到方法，程序就会报错。</li>
</ul>
<h4 id="新式类和旧式（经典）类"><a href="#新式类和旧式（经典）类" class="headerlink" title="新式类和旧式（经典）类"></a>新式类和旧式（经典）类</h4><p><code>object</code>是Python中所有对象的基类，提供了一些内置的属性和方法，可以时候用<code>dir</code>函数查看。</p>
<ul>
<li>新式类：以<code>object</code>为基类的类，<strong>推荐使用</strong></li>
<li>经典类：不以object为基类的类，<strong>不推荐使用</strong></li>
<li>在 Python3.x 以后定义类时，如果没有指定父类，这个类会默认继承自 object,所以，python3.x版本定义的类都是新式类。</li>
<li>在Python2.x中定义类时，如果没有指定父类，则不会继承自object.</li>
</ul>
<p>为了保证代码在Python2.x和Python3.x中都能够运行，在定义类时，如果一个类没有父类，建议统一继承自’object’</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> 类名<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="对象相关的内置函数"><a href="#对象相关的内置函数" class="headerlink" title="对象相关的内置函数"></a>对象相关的内置函数</h3><p>Python中的身份运算符用来判断两个对象是否相等；</p>
<p><code>isinstance</code>用来判断对象和类之间的关系；</p>
<p><code>issubclass</code>用来判断类与类之间的关系。</p>
<h4 id="身份运算符-is"><a href="#身份运算符-is" class="headerlink" title="身份运算符 is"></a>身份运算符 is</h4><p>身份运算符用来比较两个对象的内存地址，看这两个对象是否是同一个对象。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age


p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
p3 <span class="token operator">=</span> p1

<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token keyword">is</span> p2<span class="token punctuation">)</span>  <span class="token comment"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token keyword">is</span> p3<span class="token punctuation">)</span>  <span class="token comment"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="isinstance"><a href="#isinstance" class="headerlink" title="isinstance"></a>isinstance</h4><p>instance内置函数，用来判断一个实例对象是否是由某一个类(或者它的子类)实例化创建出来的。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age


<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score


<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>color <span class="token operator">=</span> color


p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'tony'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
d <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">'旺财'</span><span class="token punctuation">,</span> <span class="token string">'白色'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True.对象p是由Person类创建出来的</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True.对象s是有Person类的子类创建出来的</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False.对象d和Person类没有关系</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="issubclass"><a href="#issubclass" class="headerlink" title="issubclass"></a>issubclass</h4><p>issubclass 用来判断两个类之间的继承关系。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age


<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score


<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>color <span class="token operator">=</span> color


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>Dog<span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>面向对象的三大特性：</p>
<ul>
<li>封装：这是定义类的准则，根据对象的特点，将行为和属性抽象出来，封装到一个类中。</li>
<li>继承：这是设计类的技巧。父类与子类，主要体现在代码的重用，不需要大量的编写重复代码。</li>
<li>多态：不同的子类调用相同的父类方法，产生不同的执行结果，可以增加代码的外部灵活度。多态是以继承和重写父类方法为前提的，它是一种调用方法的技巧，不会影响到类的内部设计。</li>
</ul>
<h4 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h4><ul>
<li>提供三个类：缉毒犬、军犬、人</li>
<li>缉毒犬–&gt;追查毒品，军犬–&gt;攻击假人，人–&gt;让小狗干活</li>
<li>设计类来完成功能。</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2023/01/python-gao-ji-pian/%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8%E5%A4%9A%E6%80%81.png" alt="img"></p>
<p>代码实现:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ArmyDog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">bite_enemy</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'追击敌人'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">DrugDog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">track_drug</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'追查毒品'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">work_with_army</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dog<span class="token punctuation">.</span>bite_enemy<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">work_with_drug</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dog<span class="token punctuation">.</span>track_drug<span class="token punctuation">(</span><span class="token punctuation">)</span>

ad <span class="token operator">=</span> ArmyDog<span class="token punctuation">(</span><span class="token punctuation">)</span>
dd <span class="token operator">=</span> DrugDog<span class="token punctuation">(</span><span class="token punctuation">)</span>

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>work_with_army<span class="token punctuation">(</span>ad<span class="token punctuation">)</span>
p<span class="token punctuation">.</span>work_with_drug<span class="token punctuation">(</span>dd<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>思考：这段代码设是否有问题？</p>
<p>新增需求：此时，又多了一个犬种，就又需要在Person类里新建一个方法，让这个方法操作新的狗。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">XiaoTianDog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">eat_moon</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'哮天犬把月亮吃了'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">work_with_xiaotian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 添加方法</span>
        dog<span class="token punctuation">.</span>eat_moon<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Person 类总是不断的添加新的功能，每次都需要改动Person类的源码，程序的扩展性太差了！</p>
<ul>
<li>最好是提供一个父类 Dog，具备 work 的功能，其他小狗继承它，这样只要是小狗类，则行为被统一起来了，我们人类完全可以保证，只要是小狗的子类，找它干活肯定不会有问题。</li>
<li>这样人只要一个方法就能逗任意种类的狗玩，哪怕是添加新的狗，人的类都不需要修改。</li>
</ul>
<p>代码实现:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">work</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 父类提供统一的方法，哪怕是空方法</span>
        <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">ArmyDog</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token comment"># 继承 Dog</span>

    <span class="token keyword">def</span> <span class="token function">work</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 子类重写方法，并且处理自己的行为</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'追击敌人'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">DrugDog</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">work</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'追查毒品'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">work_with_dog</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dog<span class="token punctuation">.</span>work<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 使用小狗可以根据对象的不同而产生不同的运行效果, 保障了代码的稳定性</span>

<span class="token comment"># 子类对象可以当作父类来使用</span>
dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
ad <span class="token operator">=</span> ArmyDog<span class="token punctuation">(</span><span class="token punctuation">)</span>
dd <span class="token operator">=</span> DrugDog<span class="token punctuation">(</span><span class="token punctuation">)</span>


p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>work_with_dog<span class="token punctuation">(</span>dog<span class="token punctuation">)</span>
p<span class="token punctuation">.</span>work_with_dog<span class="token punctuation">(</span>ad<span class="token punctuation">)</span>  <span class="token comment"># 同一个方法，只要是 Dog 的子类就可以传递，提供了代码的灵活性</span>
p<span class="token punctuation">.</span>work_with_dog<span class="token punctuation">(</span>dd<span class="token punctuation">)</span>  <span class="token comment"># 并且传递不同对象，最终 work_with_dog 产生了不同的执行效果</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>最终效果<ul>
<li>Person 类中只需要调用 Dog 对象 work() 方法，而不关心具体是 什么狗</li>
<li>work() 方法是在 Dog 父类中定义的，子类重写并处理不同方式的实现</li>
<li>在程序执行时，传入不同的 Dog 对象作为实参，就会产生不同的执行效果</li>
</ul>
</li>
</ul>
<h4 id="多态总结"><a href="#多态总结" class="headerlink" title="多态总结"></a>多态总结</h4><ul>
<li>定义：多态是一种使用对象的方式，子类重写父类方法，调用不同子类对象的相同父类方法，可以产生不同的执行结果</li>
<li>好处：调用灵活，有了多态，更容易编写出通用的代码，做出通用的编程，以适应需求的不断变化！</li>
<li>实现步骤：<ul>
<li>定义父类，并提供公共方法</li>
<li>定义子类，并重写父类方法</li>
<li>传递子类对象给调用者，可以看到不同子类执行效果不同</li>
</ul>
</li>
</ul>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="../../../about" rel="external nofollow noreferrer">Codingqiang</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://nelsonwq.github.io">https://nelsonwq.github.io</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="../../../about" target="_blank">Codingqiang</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="../../../tags/Python/">
                                    <span class="chip bg-color">Python</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="../../../libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="qq,qzone,wechat" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="../../../libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="../../../medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="../../../medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="../python-jin-jie-pian/">
                    <div class="card-image">
                        
                        
                        <img src="../../../medias/featureimages/4.jpg" class="responsive-img" alt="Python进阶篇">
                        
                        <span class="card-title">Python进阶篇</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本篇包括文件、迭代器、正则、网络编程、多线程、HTTP服务器
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-01-30
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="../../../categories/Python/" class="post-category">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="../../../tags/Python/">
                        <span class="chip bg-color">Python</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="../python-ji-chu-pian/">
                    <div class="card-image">
                        
                        
                        <img src="../../../medias/featureimages/4.jpg" class="responsive-img" alt="Python基础篇">
                        
                        <span class="card-title">Python基础篇</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本篇包括基础语法、字符串、列表、元祖、字典、集合
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-01-30
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="../../../categories/Python/" class="post-category">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="../../../tags/Python/">
                        <span class="chip bg-color">Python</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Coding强<br />'
            + '文章作者: Codingqiang<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="../../../libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="../../../libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="../../../libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="../../../libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="../../../libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    <div class="container row center-align"
        style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
            <span id="year">2023</span>
            
            <span id="year">2023</span>
            <a href="../../../about" target="_blank">Codingqiang</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">267.8k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2023";
                    var startMonth = "1";
                    var startDate = "7";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
            <span id="icp"><img src="../../../medias/icp.png"
                    style="vertical-align: text-bottom;" />
                <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">皖ICP备2023005041号</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/nelsonwq" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2501551375@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2501551375" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2501551375" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>


</div>
    </div>
</footer>

<div class="progress-bar"></div>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('../../../search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>

    <!-- 白天和黑夜主题 -->
<div class="sum-moon-box">
    <a class="btn-floating btn-large waves-effect waves-light" onclick="switchNightMode()" title="切换主题">
        <i id="sum-moon-icon" class="fas fa-sun" style="width:48px; height:48px; font-size: 28px;"></i>
    </a>
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
            setTimeout(function () {
                $('body').hasClass('DarkMode') ?
                    ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon')
                        .removeClass("fa-sun").addClass('fa-moon')) :
                    ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon')
                        .addClass("fa-sun").removeClass('fa-moon')),

                    setTimeout(function () {
                        $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                            $(this).remove()
                        })
                    }, 2e3)
                setTimeout(function () {
                    window.location.reload();
                }, 1500)
            })

    }
</script>

    

    <script>
        /* 模式判断 */
        if (localStorage.getItem('isDark') === '1') {
            document.body.classList.add('DarkMode');
            $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')
        } else {
            document.body.classList.remove('DarkMode');
            $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')
        }
    </script>

    <script src="../../../libs/materialize/materialize.min.js"></script>
    <script src="../../../libs/masonry/masonry.pkgd.min.js"></script>
    <script src="../../../libs/aos/aos.js"></script>
    <script src="../../../libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="../../../libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="../../../js/matery.js"></script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="../../../libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="../../../libs/others/busuanzi.pure.mini.js"></script>
    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="../../../libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="../../../libs/background/ribbon-dynamic.js"
        async="async"></script>
    

    


        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(a){a.imageLazyLoadSetting.processImages=t;var i=a.imageLazyLoadSetting.isSPA,o=a.imageLazyLoadSetting.preloadRatio||1,r=c();function c(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){i&&(r=c());for(var t,e,n=0;n<r.length;n++)t=r[n],e=void 0,0<=(e=t.getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(a.innerHeight*o||document.documentElement.clientHeight*o)&&function(){var e=r[n];!function(t,e){if(t.hasAttribute("bg-lazy"))return t.removeAttribute("bg-lazy"),e&&e();var n=new Image,a=t.getAttribute("data-original");n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a)}(e,function(){r=r.filter(function(t){return e!==t}),a.imageLazyLoadSetting.onImageLoaded&&a.imageLazyLoadSetting.onImageLoaded(e)})}()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),a.addEventListener("resize",e),a.addEventListener("orientationchange",e)}(this);</script></body>

</html>